<Events><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:43:42Z"/><EventRecordID>1633111968</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 0f7eed3a14beadb4
TraceId: d9279349025e1a3a336608ce4dda9be4
ParentId: 0000000000000000
RequestId: 4002271c-0000-f900-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE_FUNCTION_SAVE_START [faaafd24]: Starting conversation save
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:43:42Z"/><EventRecordID>1633111984</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 0f7eed3a14beadb4
TraceId: d9279349025e1a3a336608ce4dda9be4
ParentId: 0000000000000000
RequestId: 4002271c-0000-f900-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Starting configuration retrieval for Azure Function
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:43:42Z"/><EventRecordID>1633111984</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 0f7eed3a14beadb4
TraceId: d9279349025e1a3a336608ce4dda9be4
ParentId: 0000000000000000
RequestId: 4002271c-0000-f900-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Raw env URL: [VALUE SET], Raw config URL: [NOT SET]
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:43:42Z"/><EventRecordID>1633112000</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 0f7eed3a14beadb4
TraceId: d9279349025e1a3a336608ce4dda9be4
ParentId: 0000000000000000
RequestId: 4002271c-0000-f900-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Key from env: True, Key from config: False
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:43:42Z"/><EventRecordID>1633112015</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 0f7eed3a14beadb4
TraceId: d9279349025e1a3a336608ce4dda9be4
ParentId: 0000000000000000
RequestId: 4002271c-0000-f900-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Final URL configured: True, URL value: https://fn-conversationsave.azurewebsites.net/****/conversations/update
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:43:42Z"/><EventRecordID>1633112015</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 0f7eed3a14beadb4
TraceId: d9279349025e1a3a336608ce4dda9be4
ParentId: 0000000000000000
RequestId: 4002271c-0000-f900-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Final Key configured: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:43:42Z"/><EventRecordID>1633112156</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 0f7eed3a14beadb4
TraceId: d9279349025e1a3a336608ce4dda9be4
ParentId: 0000000000000000
RequestId: 4002271c-0000-f900-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE_FUNCTION_SAVE_SUCCESS [faaafd24]: Successfully saved conversation
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:44:34Z"/><EventRecordID>1633164109</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: cae6ddec5b4be2fb
TraceId: 0e37e45a8177d523e455d7e1306e9dae
ParentId: 0000000000000000
RequestId: 4002271d-0000-f900-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

DEBUG - OpenAI API Connection Details:
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:44:34Z"/><EventRecordID>1633164109</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: cae6ddec5b4be2fb
TraceId: 0e37e45a8177d523e455d7e1306e9dae
ParentId: 0000000000000000
RequestId: 4002271d-0000-f900-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

OpenAI Endpoint: https://generalsearchai.openai.azure.com/
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:44:34Z"/><EventRecordID>1633164125</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: cae6ddec5b4be2fb
TraceId: 0e37e45a8177d523e455d7e1306e9dae
ParentId: 0000000000000000
RequestId: 4002271d-0000-f900-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

OpenAI API Key Length: 84
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:44:34Z"/><EventRecordID>1633164125</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: cae6ddec5b4be2fb
TraceId: 0e37e45a8177d523e455d7e1306e9dae
ParentId: 0000000000000000
RequestId: 4002271d-0000-f900-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

OpenAI IsConfigured: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:44:34Z"/><EventRecordID>1633164140</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: cae6ddec5b4be2fb
TraceId: 0e37e45a8177d523e455d7e1306e9dae
ParentId: 0000000000000000
RequestId: 4002271d-0000-f900-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

API CALL DETAILS - Endpoint: https://generalsearchai.openai.azure.com/
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:44:34Z"/><EventRecordID>1633164140</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: cae6ddec5b4be2fb
TraceId: 0e37e45a8177d523e455d7e1306e9dae
ParentId: 0000000000000000
RequestId: 4002271d-0000-f900-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

API CALL DETAILS - DeploymentName: gpt-4.1
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:44:34Z"/><EventRecordID>1633164156</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: cae6ddec5b4be2fb
TraceId: 0e37e45a8177d523e455d7e1306e9dae
ParentId: 0000000000000000
RequestId: 4002271d-0000-f900-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

API CALL DETAILS - API Version: 2025-01-01-preview
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:44:34Z"/><EventRecordID>1633164156</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: cae6ddec5b4be2fb
TraceId: 0e37e45a8177d523e455d7e1306e9dae
ParentId: 0000000000000000
RequestId: 4002271d-0000-f900-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

DETAILED OPENAI DIAGNOSTICS:
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:44:34Z"/><EventRecordID>1633164171</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: cae6ddec5b4be2fb
TraceId: 0e37e45a8177d523e455d7e1306e9dae
ParentId: 0000000000000000
RequestId: 4002271d-0000-f900-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

1. Using OpenAIClient of type: Azure.AI.OpenAI.OpenAIClient
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:44:34Z"/><EventRecordID>1633164171</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: cae6ddec5b4be2fb
TraceId: 0e37e45a8177d523e455d7e1306e9dae
ParentId: 0000000000000000
RequestId: 4002271d-0000-f900-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

2. Endpoint URL being used: https://generalsearchai.openai.azure.com/
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:44:34Z"/><EventRecordID>1633164187</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: cae6ddec5b4be2fb
TraceId: 0e37e45a8177d523e455d7e1306e9dae
ParentId: 0000000000000000
RequestId: 4002271d-0000-f900-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

3. Deployment name being used: gpt-4.1
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:44:34Z"/><EventRecordID>1633164187</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: cae6ddec5b4be2fb
TraceId: 0e37e45a8177d523e455d7e1306e9dae
ParentId: 0000000000000000
RequestId: 4002271d-0000-f900-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

4. Environment variables:
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:44:34Z"/><EventRecordID>1633164203</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: cae6ddec5b4be2fb
TraceId: 0e37e45a8177d523e455d7e1306e9dae
ParentId: 0000000000000000
RequestId: 4002271d-0000-f900-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

   OPENAI_API_KEY set: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:44:34Z"/><EventRecordID>1633164203</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: cae6ddec5b4be2fb
TraceId: 0e37e45a8177d523e455d7e1306e9dae
ParentId: 0000000000000000
RequestId: 4002271d-0000-f900-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

   OPENAI_ENDPOINT set: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:44:34Z"/><EventRecordID>1633164203</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: cae6ddec5b4be2fb
TraceId: 0e37e45a8177d523e455d7e1306e9dae
ParentId: 0000000000000000
RequestId: 4002271d-0000-f900-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

   OPENAI_DEPLOYMENT_NAME set: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:44:36Z"/><EventRecordID>1633165750</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: cae6ddec5b4be2fb
TraceId: 0e37e45a8177d523e455d7e1306e9dae
ParentId: 0000000000000000
RequestId: 4002271d-0000-f900-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE FUNCTION DEBUG: Running in Azure environment
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:44:36Z"/><EventRecordID>1633165765</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: cae6ddec5b4be2fb
TraceId: 0e37e45a8177d523e455d7e1306e9dae
ParentId: 0000000000000000
RequestId: 4002271d-0000-f900-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE FUNCTION CONFIG: URL=https://fn-conversationsave.azurewebsites.net/***/conversations/update, HasKey=True, HasUserId=False, HasUserEmail=False
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:44:36Z"/><EventRecordID>1633165781</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: cae6ddec5b4be2fb
TraceId: 0e37e45a8177d523e455d7e1306e9dae
ParentId: 0000000000000000
RequestId: 4002271d-0000-f900-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE_FUNCTION_SAVE_START [1f458b44]: Starting conversation save
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:44:36Z"/><EventRecordID>1633165781</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: cae6ddec5b4be2fb
TraceId: 0e37e45a8177d523e455d7e1306e9dae
ParentId: 0000000000000000
RequestId: 4002271d-0000-f900-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Starting configuration retrieval for Azure Function
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:44:36Z"/><EventRecordID>1633165796</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: cae6ddec5b4be2fb
TraceId: 0e37e45a8177d523e455d7e1306e9dae
ParentId: 0000000000000000
RequestId: 4002271d-0000-f900-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Raw env URL: [VALUE SET], Raw config URL: [NOT SET]
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:44:36Z"/><EventRecordID>1633165796</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: cae6ddec5b4be2fb
TraceId: 0e37e45a8177d523e455d7e1306e9dae
ParentId: 0000000000000000
RequestId: 4002271d-0000-f900-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Key from env: True, Key from config: False
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:44:36Z"/><EventRecordID>1633165812</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: cae6ddec5b4be2fb
TraceId: 0e37e45a8177d523e455d7e1306e9dae
ParentId: 0000000000000000
RequestId: 4002271d-0000-f900-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Final URL configured: True, URL value: https://fn-conversationsave.azurewebsites.net/****/conversations/update
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:44:36Z"/><EventRecordID>1633165812</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: cae6ddec5b4be2fb
TraceId: 0e37e45a8177d523e455d7e1306e9dae
ParentId: 0000000000000000
RequestId: 4002271d-0000-f900-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Final Key configured: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:44:36Z"/><EventRecordID>1633165953</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: cae6ddec5b4be2fb
TraceId: 0e37e45a8177d523e455d7e1306e9dae
ParentId: 0000000000000000
RequestId: 4002271d-0000-f900-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE_FUNCTION_SAVE_SUCCESS [1f458b44]: Successfully saved conversation
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:46:09Z"/><EventRecordID>1633258765</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 8fe74498b39fd0b8
TraceId: cf269ba8dfc79832fd36722ccbc63f8a
ParentId: 0000000000000000
RequestId: 40022720-0000-f900-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

DEBUG - OpenAI API Connection Details:
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:46:09Z"/><EventRecordID>1633258781</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 8fe74498b39fd0b8
TraceId: cf269ba8dfc79832fd36722ccbc63f8a
ParentId: 0000000000000000
RequestId: 40022720-0000-f900-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

OpenAI Endpoint: https://generalsearchai.openai.azure.com/
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:46:09Z"/><EventRecordID>1633258812</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 8fe74498b39fd0b8
TraceId: cf269ba8dfc79832fd36722ccbc63f8a
ParentId: 0000000000000000
RequestId: 40022720-0000-f900-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

OpenAI API Key Length: 84
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:46:09Z"/><EventRecordID>1633258843</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 8fe74498b39fd0b8
TraceId: cf269ba8dfc79832fd36722ccbc63f8a
ParentId: 0000000000000000
RequestId: 40022720-0000-f900-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

OpenAI IsConfigured: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:46:09Z"/><EventRecordID>1633258859</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 8fe74498b39fd0b8
TraceId: cf269ba8dfc79832fd36722ccbc63f8a
ParentId: 0000000000000000
RequestId: 40022720-0000-f900-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

API CALL DETAILS - Endpoint: https://generalsearchai.openai.azure.com/
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:46:09Z"/><EventRecordID>1633258875</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 8fe74498b39fd0b8
TraceId: cf269ba8dfc79832fd36722ccbc63f8a
ParentId: 0000000000000000
RequestId: 40022720-0000-f900-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

API CALL DETAILS - DeploymentName: gpt-4.1
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:46:09Z"/><EventRecordID>1633258875</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 8fe74498b39fd0b8
TraceId: cf269ba8dfc79832fd36722ccbc63f8a
ParentId: 0000000000000000
RequestId: 40022720-0000-f900-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

API CALL DETAILS - API Version: 2025-01-01-preview
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:46:09Z"/><EventRecordID>1633258890</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 8fe74498b39fd0b8
TraceId: cf269ba8dfc79832fd36722ccbc63f8a
ParentId: 0000000000000000
RequestId: 40022720-0000-f900-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

DETAILED OPENAI DIAGNOSTICS:
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:46:09Z"/><EventRecordID>1633258921</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 8fe74498b39fd0b8
TraceId: cf269ba8dfc79832fd36722ccbc63f8a
ParentId: 0000000000000000
RequestId: 40022720-0000-f900-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

1. Using OpenAIClient of type: Azure.AI.OpenAI.OpenAIClient
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:46:09Z"/><EventRecordID>1633258968</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 8fe74498b39fd0b8
TraceId: cf269ba8dfc79832fd36722ccbc63f8a
ParentId: 0000000000000000
RequestId: 40022720-0000-f900-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

2. Endpoint URL being used: https://generalsearchai.openai.azure.com/
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:46:09Z"/><EventRecordID>1633258984</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 8fe74498b39fd0b8
TraceId: cf269ba8dfc79832fd36722ccbc63f8a
ParentId: 0000000000000000
RequestId: 40022720-0000-f900-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

3. Deployment name being used: gpt-4.1
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:46:09Z"/><EventRecordID>1633259000</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 8fe74498b39fd0b8
TraceId: cf269ba8dfc79832fd36722ccbc63f8a
ParentId: 0000000000000000
RequestId: 40022720-0000-f900-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

4. Environment variables:
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:46:09Z"/><EventRecordID>1633259015</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 8fe74498b39fd0b8
TraceId: cf269ba8dfc79832fd36722ccbc63f8a
ParentId: 0000000000000000
RequestId: 40022720-0000-f900-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

   OPENAI_API_KEY set: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:46:09Z"/><EventRecordID>1633259078</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 8fe74498b39fd0b8
TraceId: cf269ba8dfc79832fd36722ccbc63f8a
ParentId: 0000000000000000
RequestId: 40022720-0000-f900-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

   OPENAI_ENDPOINT set: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:46:09Z"/><EventRecordID>1633259093</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 8fe74498b39fd0b8
TraceId: cf269ba8dfc79832fd36722ccbc63f8a
ParentId: 0000000000000000
RequestId: 40022720-0000-f900-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

   OPENAI_DEPLOYMENT_NAME set: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:46:11Z"/><EventRecordID>1633261156</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 8fe74498b39fd0b8
TraceId: cf269ba8dfc79832fd36722ccbc63f8a
ParentId: 0000000000000000
RequestId: 40022720-0000-f900-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE FUNCTION DEBUG: Running in Azure environment
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:46:11Z"/><EventRecordID>1633261171</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 8fe74498b39fd0b8
TraceId: cf269ba8dfc79832fd36722ccbc63f8a
ParentId: 0000000000000000
RequestId: 40022720-0000-f900-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE FUNCTION CONFIG: URL=https://fn-conversationsave.azurewebsites.net/***/conversations/update, HasKey=True, HasUserId=False, HasUserEmail=False
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:46:11Z"/><EventRecordID>1633261187</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 8fe74498b39fd0b8
TraceId: cf269ba8dfc79832fd36722ccbc63f8a
ParentId: 0000000000000000
RequestId: 40022720-0000-f900-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE_FUNCTION_SAVE_START [1528c61c]: Starting conversation save
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:46:11Z"/><EventRecordID>1633261203</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 8fe74498b39fd0b8
TraceId: cf269ba8dfc79832fd36722ccbc63f8a
ParentId: 0000000000000000
RequestId: 40022720-0000-f900-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Starting configuration retrieval for Azure Function
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:46:11Z"/><EventRecordID>1633261203</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 8fe74498b39fd0b8
TraceId: cf269ba8dfc79832fd36722ccbc63f8a
ParentId: 0000000000000000
RequestId: 40022720-0000-f900-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Raw env URL: [VALUE SET], Raw config URL: [NOT SET]
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:46:11Z"/><EventRecordID>1633261218</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 8fe74498b39fd0b8
TraceId: cf269ba8dfc79832fd36722ccbc63f8a
ParentId: 0000000000000000
RequestId: 40022720-0000-f900-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Key from env: True, Key from config: False
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:46:11Z"/><EventRecordID>1633261234</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 8fe74498b39fd0b8
TraceId: cf269ba8dfc79832fd36722ccbc63f8a
ParentId: 0000000000000000
RequestId: 40022720-0000-f900-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Final URL configured: True, URL value: https://fn-conversationsave.azurewebsites.net/****/conversations/update
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:46:11Z"/><EventRecordID>1633261234</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 8fe74498b39fd0b8
TraceId: cf269ba8dfc79832fd36722ccbc63f8a
ParentId: 0000000000000000
RequestId: 40022720-0000-f900-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Final Key configured: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:46:11Z"/><EventRecordID>1633261421</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 8fe74498b39fd0b8
TraceId: cf269ba8dfc79832fd36722ccbc63f8a
ParentId: 0000000000000000
RequestId: 40022720-0000-f900-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE_FUNCTION_SAVE_SUCCESS [1528c61c]: Successfully saved conversation
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:47:08Z"/><EventRecordID>1633317703</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 1a5aaf80d9449831
TraceId: c3e382855326d5424d2c7d14cddace47
ParentId: 0000000000000000
RequestId: 40022721-0000-f900-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

DEBUG - OpenAI API Connection Details:
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:47:08Z"/><EventRecordID>1633317734</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 1a5aaf80d9449831
TraceId: c3e382855326d5424d2c7d14cddace47
ParentId: 0000000000000000
RequestId: 40022721-0000-f900-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

OpenAI Endpoint: https://generalsearchai.openai.azure.com/
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:47:08Z"/><EventRecordID>1633317750</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 1a5aaf80d9449831
TraceId: c3e382855326d5424d2c7d14cddace47
ParentId: 0000000000000000
RequestId: 40022721-0000-f900-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

OpenAI API Key Length: 84
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:47:08Z"/><EventRecordID>1633317750</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 1a5aaf80d9449831
TraceId: c3e382855326d5424d2c7d14cddace47
ParentId: 0000000000000000
RequestId: 40022721-0000-f900-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

OpenAI IsConfigured: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:47:08Z"/><EventRecordID>1633317765</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 1a5aaf80d9449831
TraceId: c3e382855326d5424d2c7d14cddace47
ParentId: 0000000000000000
RequestId: 40022721-0000-f900-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

API CALL DETAILS - Endpoint: https://generalsearchai.openai.azure.com/
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:47:08Z"/><EventRecordID>1633317781</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 1a5aaf80d9449831
TraceId: c3e382855326d5424d2c7d14cddace47
ParentId: 0000000000000000
RequestId: 40022721-0000-f900-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

API CALL DETAILS - DeploymentName: gpt-4.1
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:47:08Z"/><EventRecordID>1633317781</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 1a5aaf80d9449831
TraceId: c3e382855326d5424d2c7d14cddace47
ParentId: 0000000000000000
RequestId: 40022721-0000-f900-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

API CALL DETAILS - API Version: 2025-01-01-preview
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:47:08Z"/><EventRecordID>1633317796</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 1a5aaf80d9449831
TraceId: c3e382855326d5424d2c7d14cddace47
ParentId: 0000000000000000
RequestId: 40022721-0000-f900-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

DETAILED OPENAI DIAGNOSTICS:
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:47:08Z"/><EventRecordID>1633317796</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 1a5aaf80d9449831
TraceId: c3e382855326d5424d2c7d14cddace47
ParentId: 0000000000000000
RequestId: 40022721-0000-f900-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

1. Using OpenAIClient of type: Azure.AI.OpenAI.OpenAIClient
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:47:08Z"/><EventRecordID>1633317812</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 1a5aaf80d9449831
TraceId: c3e382855326d5424d2c7d14cddace47
ParentId: 0000000000000000
RequestId: 40022721-0000-f900-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

2. Endpoint URL being used: https://generalsearchai.openai.azure.com/
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:47:08Z"/><EventRecordID>1633317812</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 1a5aaf80d9449831
TraceId: c3e382855326d5424d2c7d14cddace47
ParentId: 0000000000000000
RequestId: 40022721-0000-f900-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

3. Deployment name being used: gpt-4.1
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:47:08Z"/><EventRecordID>1633317828</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 1a5aaf80d9449831
TraceId: c3e382855326d5424d2c7d14cddace47
ParentId: 0000000000000000
RequestId: 40022721-0000-f900-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

4. Environment variables:
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:47:08Z"/><EventRecordID>1633317828</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 1a5aaf80d9449831
TraceId: c3e382855326d5424d2c7d14cddace47
ParentId: 0000000000000000
RequestId: 40022721-0000-f900-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

   OPENAI_API_KEY set: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:47:08Z"/><EventRecordID>1633317843</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 1a5aaf80d9449831
TraceId: c3e382855326d5424d2c7d14cddace47
ParentId: 0000000000000000
RequestId: 40022721-0000-f900-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

   OPENAI_ENDPOINT set: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:47:08Z"/><EventRecordID>1633317843</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 1a5aaf80d9449831
TraceId: c3e382855326d5424d2c7d14cddace47
ParentId: 0000000000000000
RequestId: 40022721-0000-f900-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

   OPENAI_DEPLOYMENT_NAME set: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:47:11Z"/><EventRecordID>1633320671</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 1a5aaf80d9449831
TraceId: c3e382855326d5424d2c7d14cddace47
ParentId: 0000000000000000
RequestId: 40022721-0000-f900-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE FUNCTION DEBUG: Running in Azure environment
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:47:11Z"/><EventRecordID>1633320687</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 1a5aaf80d9449831
TraceId: c3e382855326d5424d2c7d14cddace47
ParentId: 0000000000000000
RequestId: 40022721-0000-f900-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE FUNCTION CONFIG: URL=https://fn-conversationsave.azurewebsites.net/***/conversations/update, HasKey=True, HasUserId=False, HasUserEmail=False
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:47:11Z"/><EventRecordID>1633320703</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 1a5aaf80d9449831
TraceId: c3e382855326d5424d2c7d14cddace47
ParentId: 0000000000000000
RequestId: 40022721-0000-f900-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE_FUNCTION_SAVE_START [fc728a3c]: Starting conversation save
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:47:11Z"/><EventRecordID>1633320718</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 1a5aaf80d9449831
TraceId: c3e382855326d5424d2c7d14cddace47
ParentId: 0000000000000000
RequestId: 40022721-0000-f900-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Starting configuration retrieval for Azure Function
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:47:11Z"/><EventRecordID>1633320734</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 1a5aaf80d9449831
TraceId: c3e382855326d5424d2c7d14cddace47
ParentId: 0000000000000000
RequestId: 40022721-0000-f900-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Raw env URL: [VALUE SET], Raw config URL: [NOT SET]
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:47:11Z"/><EventRecordID>1633320734</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 1a5aaf80d9449831
TraceId: c3e382855326d5424d2c7d14cddace47
ParentId: 0000000000000000
RequestId: 40022721-0000-f900-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Key from env: True, Key from config: False
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:47:11Z"/><EventRecordID>1633320750</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 1a5aaf80d9449831
TraceId: c3e382855326d5424d2c7d14cddace47
ParentId: 0000000000000000
RequestId: 40022721-0000-f900-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Final URL configured: True, URL value: https://fn-conversationsave.azurewebsites.net/****/conversations/update
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:47:11Z"/><EventRecordID>1633320750</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 1a5aaf80d9449831
TraceId: c3e382855326d5424d2c7d14cddace47
ParentId: 0000000000000000
RequestId: 40022721-0000-f900-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Final Key configured: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:47:11Z"/><EventRecordID>1633320890</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 1a5aaf80d9449831
TraceId: c3e382855326d5424d2c7d14cddace47
ParentId: 0000000000000000
RequestId: 40022721-0000-f900-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE_FUNCTION_SAVE_SUCCESS [fc728a3c]: Successfully saved conversation
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:48:52Z"/><EventRecordID>1633421906</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 692c9569c97205ad
TraceId: dfe68d772f1a6930518fc450a1957b86
ParentId: 0000000000000000
RequestId: 40022724-0000-f900-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

DEBUG - OpenAI API Connection Details:
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:48:52Z"/><EventRecordID>1633421906</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 692c9569c97205ad
TraceId: dfe68d772f1a6930518fc450a1957b86
ParentId: 0000000000000000
RequestId: 40022724-0000-f900-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

OpenAI Endpoint: https://generalsearchai.openai.azure.com/
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:48:52Z"/><EventRecordID>1633421921</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 692c9569c97205ad
TraceId: dfe68d772f1a6930518fc450a1957b86
ParentId: 0000000000000000
RequestId: 40022724-0000-f900-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

OpenAI API Key Length: 84
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:48:52Z"/><EventRecordID>1633421921</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 692c9569c97205ad
TraceId: dfe68d772f1a6930518fc450a1957b86
ParentId: 0000000000000000
RequestId: 40022724-0000-f900-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

OpenAI IsConfigured: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:48:52Z"/><EventRecordID>1633421937</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 692c9569c97205ad
TraceId: dfe68d772f1a6930518fc450a1957b86
ParentId: 0000000000000000
RequestId: 40022724-0000-f900-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

API CALL DETAILS - Endpoint: https://generalsearchai.openai.azure.com/
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:48:52Z"/><EventRecordID>1633421953</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 692c9569c97205ad
TraceId: dfe68d772f1a6930518fc450a1957b86
ParentId: 0000000000000000
RequestId: 40022724-0000-f900-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

API CALL DETAILS - DeploymentName: gpt-4.1
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:48:52Z"/><EventRecordID>1633421968</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 692c9569c97205ad
TraceId: dfe68d772f1a6930518fc450a1957b86
ParentId: 0000000000000000
RequestId: 40022724-0000-f900-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

API CALL DETAILS - API Version: 2025-01-01-preview
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:48:52Z"/><EventRecordID>1633421968</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 692c9569c97205ad
TraceId: dfe68d772f1a6930518fc450a1957b86
ParentId: 0000000000000000
RequestId: 40022724-0000-f900-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

DETAILED OPENAI DIAGNOSTICS:
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:48:52Z"/><EventRecordID>1633421984</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 692c9569c97205ad
TraceId: dfe68d772f1a6930518fc450a1957b86
ParentId: 0000000000000000
RequestId: 40022724-0000-f900-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

1. Using OpenAIClient of type: Azure.AI.OpenAI.OpenAIClient
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:48:52Z"/><EventRecordID>1633422000</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 692c9569c97205ad
TraceId: dfe68d772f1a6930518fc450a1957b86
ParentId: 0000000000000000
RequestId: 40022724-0000-f900-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

2. Endpoint URL being used: https://generalsearchai.openai.azure.com/
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:48:52Z"/><EventRecordID>1633422015</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 692c9569c97205ad
TraceId: dfe68d772f1a6930518fc450a1957b86
ParentId: 0000000000000000
RequestId: 40022724-0000-f900-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

3. Deployment name being used: gpt-4.1
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:48:52Z"/><EventRecordID>1633422015</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 692c9569c97205ad
TraceId: dfe68d772f1a6930518fc450a1957b86
ParentId: 0000000000000000
RequestId: 40022724-0000-f900-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

4. Environment variables:
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:48:52Z"/><EventRecordID>1633422031</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 692c9569c97205ad
TraceId: dfe68d772f1a6930518fc450a1957b86
ParentId: 0000000000000000
RequestId: 40022724-0000-f900-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

   OPENAI_API_KEY set: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:48:52Z"/><EventRecordID>1633422046</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 692c9569c97205ad
TraceId: dfe68d772f1a6930518fc450a1957b86
ParentId: 0000000000000000
RequestId: 40022724-0000-f900-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

   OPENAI_ENDPOINT set: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:48:52Z"/><EventRecordID>1633422062</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 692c9569c97205ad
TraceId: dfe68d772f1a6930518fc450a1957b86
ParentId: 0000000000000000
RequestId: 40022724-0000-f900-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

   OPENAI_DEPLOYMENT_NAME set: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:48:54Z"/><EventRecordID>1633424296</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 692c9569c97205ad
TraceId: dfe68d772f1a6930518fc450a1957b86
ParentId: 0000000000000000
RequestId: 40022724-0000-f900-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE FUNCTION DEBUG: Running in Azure environment
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:48:54Z"/><EventRecordID>1633424296</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 692c9569c97205ad
TraceId: dfe68d772f1a6930518fc450a1957b86
ParentId: 0000000000000000
RequestId: 40022724-0000-f900-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE FUNCTION CONFIG: URL=https://fn-conversationsave.azurewebsites.net/***/conversations/update, HasKey=True, HasUserId=False, HasUserEmail=False
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:48:54Z"/><EventRecordID>1633424312</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 692c9569c97205ad
TraceId: dfe68d772f1a6930518fc450a1957b86
ParentId: 0000000000000000
RequestId: 40022724-0000-f900-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE_FUNCTION_SAVE_START [0425afe9]: Starting conversation save
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:48:54Z"/><EventRecordID>1633424328</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 692c9569c97205ad
TraceId: dfe68d772f1a6930518fc450a1957b86
ParentId: 0000000000000000
RequestId: 40022724-0000-f900-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Starting configuration retrieval for Azure Function
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:48:54Z"/><EventRecordID>1633424343</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 692c9569c97205ad
TraceId: dfe68d772f1a6930518fc450a1957b86
ParentId: 0000000000000000
RequestId: 40022724-0000-f900-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Raw env URL: [VALUE SET], Raw config URL: [NOT SET]
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:48:54Z"/><EventRecordID>1633424343</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 692c9569c97205ad
TraceId: dfe68d772f1a6930518fc450a1957b86
ParentId: 0000000000000000
RequestId: 40022724-0000-f900-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Key from env: True, Key from config: False
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:48:54Z"/><EventRecordID>1633424359</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 692c9569c97205ad
TraceId: dfe68d772f1a6930518fc450a1957b86
ParentId: 0000000000000000
RequestId: 40022724-0000-f900-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Final URL configured: True, URL value: https://fn-conversationsave.azurewebsites.net/****/conversations/update
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:48:54Z"/><EventRecordID>1633424359</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 692c9569c97205ad
TraceId: dfe68d772f1a6930518fc450a1957b86
ParentId: 0000000000000000
RequestId: 40022724-0000-f900-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Final Key configured: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:48:55Z"/><EventRecordID>1633424546</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 692c9569c97205ad
TraceId: dfe68d772f1a6930518fc450a1957b86
ParentId: 0000000000000000
RequestId: 40022724-0000-f900-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE_FUNCTION_SAVE_SUCCESS [0425afe9]: Successfully saved conversation
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:49:13Z"/><EventRecordID>1633443453</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 535943ab4b41cf0f
TraceId: 571de8b13ddf2bc290595a928af44f7a
ParentId: 0000000000000000
RequestId: 40022725-0000-f900-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

DEBUG - OpenAI API Connection Details:
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:49:13Z"/><EventRecordID>1633443468</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 535943ab4b41cf0f
TraceId: 571de8b13ddf2bc290595a928af44f7a
ParentId: 0000000000000000
RequestId: 40022725-0000-f900-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

OpenAI Endpoint: https://generalsearchai.openai.azure.com/
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:49:13Z"/><EventRecordID>1633443468</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 535943ab4b41cf0f
TraceId: 571de8b13ddf2bc290595a928af44f7a
ParentId: 0000000000000000
RequestId: 40022725-0000-f900-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

OpenAI API Key Length: 84
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:49:13Z"/><EventRecordID>1633443515</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 535943ab4b41cf0f
TraceId: 571de8b13ddf2bc290595a928af44f7a
ParentId: 0000000000000000
RequestId: 40022725-0000-f900-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

OpenAI IsConfigured: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:49:13Z"/><EventRecordID>1633443515</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 535943ab4b41cf0f
TraceId: 571de8b13ddf2bc290595a928af44f7a
ParentId: 0000000000000000
RequestId: 40022725-0000-f900-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

API CALL DETAILS - Endpoint: https://generalsearchai.openai.azure.com/
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:49:13Z"/><EventRecordID>1633443531</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 535943ab4b41cf0f
TraceId: 571de8b13ddf2bc290595a928af44f7a
ParentId: 0000000000000000
RequestId: 40022725-0000-f900-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

API CALL DETAILS - DeploymentName: gpt-4.1
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:49:13Z"/><EventRecordID>1633443531</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 535943ab4b41cf0f
TraceId: 571de8b13ddf2bc290595a928af44f7a
ParentId: 0000000000000000
RequestId: 40022725-0000-f900-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

API CALL DETAILS - API Version: 2025-01-01-preview
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:49:14Z"/><EventRecordID>1633443546</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 535943ab4b41cf0f
TraceId: 571de8b13ddf2bc290595a928af44f7a
ParentId: 0000000000000000
RequestId: 40022725-0000-f900-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

DETAILED OPENAI DIAGNOSTICS:
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:49:14Z"/><EventRecordID>1633443546</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 535943ab4b41cf0f
TraceId: 571de8b13ddf2bc290595a928af44f7a
ParentId: 0000000000000000
RequestId: 40022725-0000-f900-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

1. Using OpenAIClient of type: Azure.AI.OpenAI.OpenAIClient
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:49:14Z"/><EventRecordID>1633443562</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 535943ab4b41cf0f
TraceId: 571de8b13ddf2bc290595a928af44f7a
ParentId: 0000000000000000
RequestId: 40022725-0000-f900-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

2. Endpoint URL being used: https://generalsearchai.openai.azure.com/
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:49:14Z"/><EventRecordID>1633443562</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 535943ab4b41cf0f
TraceId: 571de8b13ddf2bc290595a928af44f7a
ParentId: 0000000000000000
RequestId: 40022725-0000-f900-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

3. Deployment name being used: gpt-4.1
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:49:14Z"/><EventRecordID>1633443578</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 535943ab4b41cf0f
TraceId: 571de8b13ddf2bc290595a928af44f7a
ParentId: 0000000000000000
RequestId: 40022725-0000-f900-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

4. Environment variables:
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:49:14Z"/><EventRecordID>1633443578</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 535943ab4b41cf0f
TraceId: 571de8b13ddf2bc290595a928af44f7a
ParentId: 0000000000000000
RequestId: 40022725-0000-f900-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

   OPENAI_API_KEY set: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:49:14Z"/><EventRecordID>1633443593</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 535943ab4b41cf0f
TraceId: 571de8b13ddf2bc290595a928af44f7a
ParentId: 0000000000000000
RequestId: 40022725-0000-f900-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

   OPENAI_ENDPOINT set: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:49:14Z"/><EventRecordID>1633443593</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 535943ab4b41cf0f
TraceId: 571de8b13ddf2bc290595a928af44f7a
ParentId: 0000000000000000
RequestId: 40022725-0000-f900-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

   OPENAI_DEPLOYMENT_NAME set: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:49:16Z"/><EventRecordID>1633446187</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 535943ab4b41cf0f
TraceId: 571de8b13ddf2bc290595a928af44f7a
ParentId: 0000000000000000
RequestId: 40022725-0000-f900-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE FUNCTION DEBUG: Running in Azure environment
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:49:16Z"/><EventRecordID>1633446218</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 535943ab4b41cf0f
TraceId: 571de8b13ddf2bc290595a928af44f7a
ParentId: 0000000000000000
RequestId: 40022725-0000-f900-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE FUNCTION CONFIG: URL=https://fn-conversationsave.azurewebsites.net/***/conversations/update, HasKey=True, HasUserId=False, HasUserEmail=False
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:49:16Z"/><EventRecordID>1633446265</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 535943ab4b41cf0f
TraceId: 571de8b13ddf2bc290595a928af44f7a
ParentId: 0000000000000000
RequestId: 40022725-0000-f900-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE_FUNCTION_SAVE_START [32aff8d5]: Starting conversation save
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:49:16Z"/><EventRecordID>1633446281</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 535943ab4b41cf0f
TraceId: 571de8b13ddf2bc290595a928af44f7a
ParentId: 0000000000000000
RequestId: 40022725-0000-f900-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Starting configuration retrieval for Azure Function
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:49:16Z"/><EventRecordID>1633446296</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 535943ab4b41cf0f
TraceId: 571de8b13ddf2bc290595a928af44f7a
ParentId: 0000000000000000
RequestId: 40022725-0000-f900-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Raw env URL: [VALUE SET], Raw config URL: [NOT SET]
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:49:16Z"/><EventRecordID>1633446312</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 535943ab4b41cf0f
TraceId: 571de8b13ddf2bc290595a928af44f7a
ParentId: 0000000000000000
RequestId: 40022725-0000-f900-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Key from env: True, Key from config: False
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:49:16Z"/><EventRecordID>1633446328</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 535943ab4b41cf0f
TraceId: 571de8b13ddf2bc290595a928af44f7a
ParentId: 0000000000000000
RequestId: 40022725-0000-f900-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Final URL configured: True, URL value: https://fn-conversationsave.azurewebsites.net/****/conversations/update
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:49:16Z"/><EventRecordID>1633446328</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 535943ab4b41cf0f
TraceId: 571de8b13ddf2bc290595a928af44f7a
ParentId: 0000000000000000
RequestId: 40022725-0000-f900-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Final Key configured: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:49:17Z"/><EventRecordID>1633446578</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 535943ab4b41cf0f
TraceId: 571de8b13ddf2bc290595a928af44f7a
ParentId: 0000000000000000
RequestId: 40022725-0000-f900-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE_FUNCTION_SAVE_SUCCESS [32aff8d5]: Successfully saved conversation
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>1</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:50:16Z"/><EventRecordID>1633506453</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Controllers.ChatController
EventId: 0
SpanId: 68023ccbf80e2e7b
TraceId: e22b9a0fa2692f57a8b292c5fa358f9e
ParentId: 0000000000000000
RequestId: 40022596-0000-5c00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

SESSION CHANGED! Previous session: 9e3ad312-100f-1640-cf25-2428843e34a7, Current session: 0c280b0e-61ec-4c40-b0d0-6c5bbaa46d40
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:50:16Z"/><EventRecordID>1633506453</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 68023ccbf80e2e7b
TraceId: e22b9a0fa2692f57a8b292c5fa358f9e
ParentId: 0000000000000000
RequestId: 40022596-0000-5c00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

DEBUG - OpenAI API Connection Details:
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:50:16Z"/><EventRecordID>1633506468</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 68023ccbf80e2e7b
TraceId: e22b9a0fa2692f57a8b292c5fa358f9e
ParentId: 0000000000000000
RequestId: 40022596-0000-5c00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

OpenAI Endpoint: https://generalsearchai.openai.azure.com/
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:50:16Z"/><EventRecordID>1633506468</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 68023ccbf80e2e7b
TraceId: e22b9a0fa2692f57a8b292c5fa358f9e
ParentId: 0000000000000000
RequestId: 40022596-0000-5c00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

OpenAI API Key Length: 84
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:50:16Z"/><EventRecordID>1633506484</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 68023ccbf80e2e7b
TraceId: e22b9a0fa2692f57a8b292c5fa358f9e
ParentId: 0000000000000000
RequestId: 40022596-0000-5c00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

OpenAI IsConfigured: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:50:16Z"/><EventRecordID>1633506484</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 68023ccbf80e2e7b
TraceId: e22b9a0fa2692f57a8b292c5fa358f9e
ParentId: 0000000000000000
RequestId: 40022596-0000-5c00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

API CALL DETAILS - Endpoint: https://generalsearchai.openai.azure.com/
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:50:16Z"/><EventRecordID>1633506500</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 68023ccbf80e2e7b
TraceId: e22b9a0fa2692f57a8b292c5fa358f9e
ParentId: 0000000000000000
RequestId: 40022596-0000-5c00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

API CALL DETAILS - DeploymentName: gpt-4.1
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:50:16Z"/><EventRecordID>1633506500</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 68023ccbf80e2e7b
TraceId: e22b9a0fa2692f57a8b292c5fa358f9e
ParentId: 0000000000000000
RequestId: 40022596-0000-5c00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

API CALL DETAILS - API Version: 2025-01-01-preview
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:50:16Z"/><EventRecordID>1633506515</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 68023ccbf80e2e7b
TraceId: e22b9a0fa2692f57a8b292c5fa358f9e
ParentId: 0000000000000000
RequestId: 40022596-0000-5c00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

DETAILED OPENAI DIAGNOSTICS:
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:50:16Z"/><EventRecordID>1633506531</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 68023ccbf80e2e7b
TraceId: e22b9a0fa2692f57a8b292c5fa358f9e
ParentId: 0000000000000000
RequestId: 40022596-0000-5c00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

1. Using OpenAIClient of type: Azure.AI.OpenAI.OpenAIClient
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:50:16Z"/><EventRecordID>1633506531</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 68023ccbf80e2e7b
TraceId: e22b9a0fa2692f57a8b292c5fa358f9e
ParentId: 0000000000000000
RequestId: 40022596-0000-5c00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

2. Endpoint URL being used: https://generalsearchai.openai.azure.com/
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:50:17Z"/><EventRecordID>1633506546</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 68023ccbf80e2e7b
TraceId: e22b9a0fa2692f57a8b292c5fa358f9e
ParentId: 0000000000000000
RequestId: 40022596-0000-5c00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

3. Deployment name being used: gpt-4.1
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:50:17Z"/><EventRecordID>1633506546</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 68023ccbf80e2e7b
TraceId: e22b9a0fa2692f57a8b292c5fa358f9e
ParentId: 0000000000000000
RequestId: 40022596-0000-5c00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

4. Environment variables:
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:50:17Z"/><EventRecordID>1633506562</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 68023ccbf80e2e7b
TraceId: e22b9a0fa2692f57a8b292c5fa358f9e
ParentId: 0000000000000000
RequestId: 40022596-0000-5c00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

   OPENAI_API_KEY set: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:50:17Z"/><EventRecordID>1633506562</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 68023ccbf80e2e7b
TraceId: e22b9a0fa2692f57a8b292c5fa358f9e
ParentId: 0000000000000000
RequestId: 40022596-0000-5c00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

   OPENAI_ENDPOINT set: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:50:17Z"/><EventRecordID>1633506562</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 68023ccbf80e2e7b
TraceId: e22b9a0fa2692f57a8b292c5fa358f9e
ParentId: 0000000000000000
RequestId: 40022596-0000-5c00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

   OPENAI_DEPLOYMENT_NAME set: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:50:19Z"/><EventRecordID>1633508937</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 68023ccbf80e2e7b
TraceId: e22b9a0fa2692f57a8b292c5fa358f9e
ParentId: 0000000000000000
RequestId: 40022596-0000-5c00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE FUNCTION DEBUG: Running in Azure environment
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:50:19Z"/><EventRecordID>1633508937</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 68023ccbf80e2e7b
TraceId: e22b9a0fa2692f57a8b292c5fa358f9e
ParentId: 0000000000000000
RequestId: 40022596-0000-5c00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE FUNCTION CONFIG: URL=https://fn-conversationsave.azurewebsites.net/***/conversations/update, HasKey=True, HasUserId=False, HasUserEmail=False
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:50:19Z"/><EventRecordID>1633508953</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 68023ccbf80e2e7b
TraceId: e22b9a0fa2692f57a8b292c5fa358f9e
ParentId: 0000000000000000
RequestId: 40022596-0000-5c00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE_FUNCTION_SAVE_START [9f6f85ef]: Starting conversation save
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:50:19Z"/><EventRecordID>1633508984</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 68023ccbf80e2e7b
TraceId: e22b9a0fa2692f57a8b292c5fa358f9e
ParentId: 0000000000000000
RequestId: 40022596-0000-5c00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Starting configuration retrieval for Azure Function
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:50:19Z"/><EventRecordID>1633508984</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 68023ccbf80e2e7b
TraceId: e22b9a0fa2692f57a8b292c5fa358f9e
ParentId: 0000000000000000
RequestId: 40022596-0000-5c00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Raw env URL: [VALUE SET], Raw config URL: [NOT SET]
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:50:19Z"/><EventRecordID>1633509000</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 68023ccbf80e2e7b
TraceId: e22b9a0fa2692f57a8b292c5fa358f9e
ParentId: 0000000000000000
RequestId: 40022596-0000-5c00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Key from env: True, Key from config: False
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:50:19Z"/><EventRecordID>1633509000</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 68023ccbf80e2e7b
TraceId: e22b9a0fa2692f57a8b292c5fa358f9e
ParentId: 0000000000000000
RequestId: 40022596-0000-5c00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Final URL configured: True, URL value: https://fn-conversationsave.azurewebsites.net/****/conversations/update
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:50:19Z"/><EventRecordID>1633509015</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 68023ccbf80e2e7b
TraceId: e22b9a0fa2692f57a8b292c5fa358f9e
ParentId: 0000000000000000
RequestId: 40022596-0000-5c00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Final Key configured: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:50:19Z"/><EventRecordID>1633509171</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 68023ccbf80e2e7b
TraceId: e22b9a0fa2692f57a8b292c5fa358f9e
ParentId: 0000000000000000
RequestId: 40022596-0000-5c00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE_FUNCTION_SAVE_SUCCESS [9f6f85ef]: Successfully saved conversation
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:51:00Z"/><EventRecordID>1633549656</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 4669d1aa7efeefe3
TraceId: 74eadc73497e31968e86489243134127
ParentId: 0000000000000000
RequestId: 40022797-0000-7600-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

DEBUG - OpenAI API Connection Details:
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:51:00Z"/><EventRecordID>1633549671</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 4669d1aa7efeefe3
TraceId: 74eadc73497e31968e86489243134127
ParentId: 0000000000000000
RequestId: 40022797-0000-7600-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

OpenAI Endpoint: https://generalsearchai.openai.azure.com/
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:51:00Z"/><EventRecordID>1633549671</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 4669d1aa7efeefe3
TraceId: 74eadc73497e31968e86489243134127
ParentId: 0000000000000000
RequestId: 40022797-0000-7600-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

OpenAI API Key Length: 84
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:51:00Z"/><EventRecordID>1633549687</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 4669d1aa7efeefe3
TraceId: 74eadc73497e31968e86489243134127
ParentId: 0000000000000000
RequestId: 40022797-0000-7600-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

OpenAI IsConfigured: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:51:00Z"/><EventRecordID>1633549703</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 4669d1aa7efeefe3
TraceId: 74eadc73497e31968e86489243134127
ParentId: 0000000000000000
RequestId: 40022797-0000-7600-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

API CALL DETAILS - Endpoint: https://generalsearchai.openai.azure.com/
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:51:00Z"/><EventRecordID>1633549703</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 4669d1aa7efeefe3
TraceId: 74eadc73497e31968e86489243134127
ParentId: 0000000000000000
RequestId: 40022797-0000-7600-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

API CALL DETAILS - DeploymentName: gpt-4.1
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:51:00Z"/><EventRecordID>1633549718</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 4669d1aa7efeefe3
TraceId: 74eadc73497e31968e86489243134127
ParentId: 0000000000000000
RequestId: 40022797-0000-7600-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

API CALL DETAILS - API Version: 2025-01-01-preview
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:51:00Z"/><EventRecordID>1633549718</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 4669d1aa7efeefe3
TraceId: 74eadc73497e31968e86489243134127
ParentId: 0000000000000000
RequestId: 40022797-0000-7600-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

DETAILED OPENAI DIAGNOSTICS:
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:51:00Z"/><EventRecordID>1633549734</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 4669d1aa7efeefe3
TraceId: 74eadc73497e31968e86489243134127
ParentId: 0000000000000000
RequestId: 40022797-0000-7600-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

1. Using OpenAIClient of type: Azure.AI.OpenAI.OpenAIClient
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:51:00Z"/><EventRecordID>1633549750</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 4669d1aa7efeefe3
TraceId: 74eadc73497e31968e86489243134127
ParentId: 0000000000000000
RequestId: 40022797-0000-7600-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

2. Endpoint URL being used: https://generalsearchai.openai.azure.com/
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:51:00Z"/><EventRecordID>1633549750</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 4669d1aa7efeefe3
TraceId: 74eadc73497e31968e86489243134127
ParentId: 0000000000000000
RequestId: 40022797-0000-7600-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

3. Deployment name being used: gpt-4.1
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:51:00Z"/><EventRecordID>1633549750</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 4669d1aa7efeefe3
TraceId: 74eadc73497e31968e86489243134127
ParentId: 0000000000000000
RequestId: 40022797-0000-7600-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

4. Environment variables:
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:51:00Z"/><EventRecordID>1633549765</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 4669d1aa7efeefe3
TraceId: 74eadc73497e31968e86489243134127
ParentId: 0000000000000000
RequestId: 40022797-0000-7600-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

   OPENAI_API_KEY set: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:51:00Z"/><EventRecordID>1633549781</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 4669d1aa7efeefe3
TraceId: 74eadc73497e31968e86489243134127
ParentId: 0000000000000000
RequestId: 40022797-0000-7600-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

   OPENAI_ENDPOINT set: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:51:00Z"/><EventRecordID>1633549781</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 4669d1aa7efeefe3
TraceId: 74eadc73497e31968e86489243134127
ParentId: 0000000000000000
RequestId: 40022797-0000-7600-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

   OPENAI_DEPLOYMENT_NAME set: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:51:03Z"/><EventRecordID>1633553171</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 4669d1aa7efeefe3
TraceId: 74eadc73497e31968e86489243134127
ParentId: 0000000000000000
RequestId: 40022797-0000-7600-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE FUNCTION DEBUG: Running in Azure environment
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:51:03Z"/><EventRecordID>1633553281</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 4669d1aa7efeefe3
TraceId: 74eadc73497e31968e86489243134127
ParentId: 0000000000000000
RequestId: 40022797-0000-7600-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE FUNCTION CONFIG: URL=https://fn-conversationsave.azurewebsites.net/***/conversations/update, HasKey=True, HasUserId=False, HasUserEmail=False
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:51:03Z"/><EventRecordID>1633553312</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 4669d1aa7efeefe3
TraceId: 74eadc73497e31968e86489243134127
ParentId: 0000000000000000
RequestId: 40022797-0000-7600-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE_FUNCTION_SAVE_START [4e00fff8]: Starting conversation save
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:51:03Z"/><EventRecordID>1633553328</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 4669d1aa7efeefe3
TraceId: 74eadc73497e31968e86489243134127
ParentId: 0000000000000000
RequestId: 40022797-0000-7600-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Starting configuration retrieval for Azure Function
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:51:03Z"/><EventRecordID>1633553359</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 4669d1aa7efeefe3
TraceId: 74eadc73497e31968e86489243134127
ParentId: 0000000000000000
RequestId: 40022797-0000-7600-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Raw env URL: [VALUE SET], Raw config URL: [NOT SET]
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:51:03Z"/><EventRecordID>1633553375</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 4669d1aa7efeefe3
TraceId: 74eadc73497e31968e86489243134127
ParentId: 0000000000000000
RequestId: 40022797-0000-7600-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Key from env: True, Key from config: False
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:51:03Z"/><EventRecordID>1633553375</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 4669d1aa7efeefe3
TraceId: 74eadc73497e31968e86489243134127
ParentId: 0000000000000000
RequestId: 40022797-0000-7600-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Final URL configured: True, URL value: https://fn-conversationsave.azurewebsites.net/****/conversations/update
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:51:03Z"/><EventRecordID>1633553406</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 4669d1aa7efeefe3
TraceId: 74eadc73497e31968e86489243134127
ParentId: 0000000000000000
RequestId: 40022797-0000-7600-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Final Key configured: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:51:04Z"/><EventRecordID>1633553625</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 4669d1aa7efeefe3
TraceId: 74eadc73497e31968e86489243134127
ParentId: 0000000000000000
RequestId: 40022797-0000-7600-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE_FUNCTION_SAVE_SUCCESS [4e00fff8]: Successfully saved conversation
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:51:22Z"/><EventRecordID>1633572203</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 7bbbbe245ee7ee5d
TraceId: cbccff187e04b9ffc313618b788e005d
ParentId: 0000000000000000
RequestId: 40022798-0000-7600-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

DEBUG - OpenAI API Connection Details:
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:51:22Z"/><EventRecordID>1633572203</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 7bbbbe245ee7ee5d
TraceId: cbccff187e04b9ffc313618b788e005d
ParentId: 0000000000000000
RequestId: 40022798-0000-7600-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

OpenAI Endpoint: https://generalsearchai.openai.azure.com/
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:51:22Z"/><EventRecordID>1633572218</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 7bbbbe245ee7ee5d
TraceId: cbccff187e04b9ffc313618b788e005d
ParentId: 0000000000000000
RequestId: 40022798-0000-7600-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

OpenAI API Key Length: 84
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:51:22Z"/><EventRecordID>1633572218</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 7bbbbe245ee7ee5d
TraceId: cbccff187e04b9ffc313618b788e005d
ParentId: 0000000000000000
RequestId: 40022798-0000-7600-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

OpenAI IsConfigured: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:51:22Z"/><EventRecordID>1633572234</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 7bbbbe245ee7ee5d
TraceId: cbccff187e04b9ffc313618b788e005d
ParentId: 0000000000000000
RequestId: 40022798-0000-7600-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

API CALL DETAILS - Endpoint: https://generalsearchai.openai.azure.com/
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:51:22Z"/><EventRecordID>1633572250</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 7bbbbe245ee7ee5d
TraceId: cbccff187e04b9ffc313618b788e005d
ParentId: 0000000000000000
RequestId: 40022798-0000-7600-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

API CALL DETAILS - DeploymentName: gpt-4.1
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:51:22Z"/><EventRecordID>1633572265</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 7bbbbe245ee7ee5d
TraceId: cbccff187e04b9ffc313618b788e005d
ParentId: 0000000000000000
RequestId: 40022798-0000-7600-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

API CALL DETAILS - API Version: 2025-01-01-preview
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:51:22Z"/><EventRecordID>1633572265</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 7bbbbe245ee7ee5d
TraceId: cbccff187e04b9ffc313618b788e005d
ParentId: 0000000000000000
RequestId: 40022798-0000-7600-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

DETAILED OPENAI DIAGNOSTICS:
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:51:22Z"/><EventRecordID>1633572281</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 7bbbbe245ee7ee5d
TraceId: cbccff187e04b9ffc313618b788e005d
ParentId: 0000000000000000
RequestId: 40022798-0000-7600-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

1. Using OpenAIClient of type: Azure.AI.OpenAI.OpenAIClient
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:51:22Z"/><EventRecordID>1633572281</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 7bbbbe245ee7ee5d
TraceId: cbccff187e04b9ffc313618b788e005d
ParentId: 0000000000000000
RequestId: 40022798-0000-7600-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

2. Endpoint URL being used: https://generalsearchai.openai.azure.com/
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:51:22Z"/><EventRecordID>1633572296</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 7bbbbe245ee7ee5d
TraceId: cbccff187e04b9ffc313618b788e005d
ParentId: 0000000000000000
RequestId: 40022798-0000-7600-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

3. Deployment name being used: gpt-4.1
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:51:22Z"/><EventRecordID>1633572296</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 7bbbbe245ee7ee5d
TraceId: cbccff187e04b9ffc313618b788e005d
ParentId: 0000000000000000
RequestId: 40022798-0000-7600-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

4. Environment variables:
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:51:22Z"/><EventRecordID>1633572312</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 7bbbbe245ee7ee5d
TraceId: cbccff187e04b9ffc313618b788e005d
ParentId: 0000000000000000
RequestId: 40022798-0000-7600-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

   OPENAI_API_KEY set: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:51:22Z"/><EventRecordID>1633572328</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 7bbbbe245ee7ee5d
TraceId: cbccff187e04b9ffc313618b788e005d
ParentId: 0000000000000000
RequestId: 40022798-0000-7600-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

   OPENAI_ENDPOINT set: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:51:22Z"/><EventRecordID>1633572343</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 7bbbbe245ee7ee5d
TraceId: cbccff187e04b9ffc313618b788e005d
ParentId: 0000000000000000
RequestId: 40022798-0000-7600-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

   OPENAI_DEPLOYMENT_NAME set: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:51:25Z"/><EventRecordID>1633575453</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 7bbbbe245ee7ee5d
TraceId: cbccff187e04b9ffc313618b788e005d
ParentId: 0000000000000000
RequestId: 40022798-0000-7600-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE FUNCTION DEBUG: Running in Azure environment
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:51:25Z"/><EventRecordID>1633575484</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 7bbbbe245ee7ee5d
TraceId: cbccff187e04b9ffc313618b788e005d
ParentId: 0000000000000000
RequestId: 40022798-0000-7600-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE FUNCTION CONFIG: URL=https://fn-conversationsave.azurewebsites.net/***/conversations/update, HasKey=True, HasUserId=False, HasUserEmail=False
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:51:25Z"/><EventRecordID>1633575500</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 7bbbbe245ee7ee5d
TraceId: cbccff187e04b9ffc313618b788e005d
ParentId: 0000000000000000
RequestId: 40022798-0000-7600-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE_FUNCTION_SAVE_START [4fdae567]: Starting conversation save
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:51:25Z"/><EventRecordID>1633575515</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 7bbbbe245ee7ee5d
TraceId: cbccff187e04b9ffc313618b788e005d
ParentId: 0000000000000000
RequestId: 40022798-0000-7600-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Starting configuration retrieval for Azure Function
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:51:25Z"/><EventRecordID>1633575531</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 7bbbbe245ee7ee5d
TraceId: cbccff187e04b9ffc313618b788e005d
ParentId: 0000000000000000
RequestId: 40022798-0000-7600-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Raw env URL: [VALUE SET], Raw config URL: [NOT SET]
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:51:26Z"/><EventRecordID>1633575546</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 7bbbbe245ee7ee5d
TraceId: cbccff187e04b9ffc313618b788e005d
ParentId: 0000000000000000
RequestId: 40022798-0000-7600-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Key from env: True, Key from config: False
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:51:26Z"/><EventRecordID>1633575546</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 7bbbbe245ee7ee5d
TraceId: cbccff187e04b9ffc313618b788e005d
ParentId: 0000000000000000
RequestId: 40022798-0000-7600-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Final URL configured: True, URL value: https://fn-conversationsave.azurewebsites.net/****/conversations/update
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:51:26Z"/><EventRecordID>1633575562</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 7bbbbe245ee7ee5d
TraceId: cbccff187e04b9ffc313618b788e005d
ParentId: 0000000000000000
RequestId: 40022798-0000-7600-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Final Key configured: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:51:26Z"/><EventRecordID>1633575671</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 7bbbbe245ee7ee5d
TraceId: cbccff187e04b9ffc313618b788e005d
ParentId: 0000000000000000
RequestId: 40022798-0000-7600-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE_FUNCTION_SAVE_SUCCESS [4fdae567]: Successfully saved conversation
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:51:47Z"/><EventRecordID>1633596750</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 5a45e0ef2f73496b
TraceId: 8fd8f6d8f61798f6677cc4546227d762
ParentId: 0000000000000000
RequestId: 40022799-0000-7600-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

DEBUG - OpenAI API Connection Details:
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:51:47Z"/><EventRecordID>1633596750</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 5a45e0ef2f73496b
TraceId: 8fd8f6d8f61798f6677cc4546227d762
ParentId: 0000000000000000
RequestId: 40022799-0000-7600-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

OpenAI Endpoint: https://generalsearchai.openai.azure.com/
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:51:47Z"/><EventRecordID>1633596750</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 5a45e0ef2f73496b
TraceId: 8fd8f6d8f61798f6677cc4546227d762
ParentId: 0000000000000000
RequestId: 40022799-0000-7600-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

OpenAI API Key Length: 84
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:51:47Z"/><EventRecordID>1633596765</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 5a45e0ef2f73496b
TraceId: 8fd8f6d8f61798f6677cc4546227d762
ParentId: 0000000000000000
RequestId: 40022799-0000-7600-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

OpenAI IsConfigured: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:51:47Z"/><EventRecordID>1633596765</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 5a45e0ef2f73496b
TraceId: 8fd8f6d8f61798f6677cc4546227d762
ParentId: 0000000000000000
RequestId: 40022799-0000-7600-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

API CALL DETAILS - Endpoint: https://generalsearchai.openai.azure.com/
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:51:47Z"/><EventRecordID>1633596781</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 5a45e0ef2f73496b
TraceId: 8fd8f6d8f61798f6677cc4546227d762
ParentId: 0000000000000000
RequestId: 40022799-0000-7600-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

API CALL DETAILS - DeploymentName: gpt-4.1
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:51:47Z"/><EventRecordID>1633596781</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 5a45e0ef2f73496b
TraceId: 8fd8f6d8f61798f6677cc4546227d762
ParentId: 0000000000000000
RequestId: 40022799-0000-7600-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

API CALL DETAILS - API Version: 2025-01-01-preview
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:51:47Z"/><EventRecordID>1633596796</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 5a45e0ef2f73496b
TraceId: 8fd8f6d8f61798f6677cc4546227d762
ParentId: 0000000000000000
RequestId: 40022799-0000-7600-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

DETAILED OPENAI DIAGNOSTICS:
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:51:47Z"/><EventRecordID>1633596796</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 5a45e0ef2f73496b
TraceId: 8fd8f6d8f61798f6677cc4546227d762
ParentId: 0000000000000000
RequestId: 40022799-0000-7600-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

1. Using OpenAIClient of type: Azure.AI.OpenAI.OpenAIClient
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:51:47Z"/><EventRecordID>1633596812</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 5a45e0ef2f73496b
TraceId: 8fd8f6d8f61798f6677cc4546227d762
ParentId: 0000000000000000
RequestId: 40022799-0000-7600-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

2. Endpoint URL being used: https://generalsearchai.openai.azure.com/
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:51:47Z"/><EventRecordID>1633596812</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 5a45e0ef2f73496b
TraceId: 8fd8f6d8f61798f6677cc4546227d762
ParentId: 0000000000000000
RequestId: 40022799-0000-7600-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

3. Deployment name being used: gpt-4.1
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:51:47Z"/><EventRecordID>1633596828</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 5a45e0ef2f73496b
TraceId: 8fd8f6d8f61798f6677cc4546227d762
ParentId: 0000000000000000
RequestId: 40022799-0000-7600-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

4. Environment variables:
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:51:47Z"/><EventRecordID>1633596828</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 5a45e0ef2f73496b
TraceId: 8fd8f6d8f61798f6677cc4546227d762
ParentId: 0000000000000000
RequestId: 40022799-0000-7600-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

   OPENAI_API_KEY set: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:51:47Z"/><EventRecordID>1633596843</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 5a45e0ef2f73496b
TraceId: 8fd8f6d8f61798f6677cc4546227d762
ParentId: 0000000000000000
RequestId: 40022799-0000-7600-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

   OPENAI_ENDPOINT set: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:51:47Z"/><EventRecordID>1633596859</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 5a45e0ef2f73496b
TraceId: 8fd8f6d8f61798f6677cc4546227d762
ParentId: 0000000000000000
RequestId: 40022799-0000-7600-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

   OPENAI_DEPLOYMENT_NAME set: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:51:48Z"/><EventRecordID>1633598421</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 5a45e0ef2f73496b
TraceId: 8fd8f6d8f61798f6677cc4546227d762
ParentId: 0000000000000000
RequestId: 40022799-0000-7600-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE FUNCTION DEBUG: Running in Azure environment
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:51:49Z"/><EventRecordID>1633598937</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 5a45e0ef2f73496b
TraceId: 8fd8f6d8f61798f6677cc4546227d762
ParentId: 0000000000000000
RequestId: 40022799-0000-7600-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE FUNCTION CONFIG: URL=https://fn-conversationsave.azurewebsites.net/***/conversations/update, HasKey=True, HasUserId=False, HasUserEmail=False
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:51:50Z"/><EventRecordID>1633599812</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 5a45e0ef2f73496b
TraceId: 8fd8f6d8f61798f6677cc4546227d762
ParentId: 0000000000000000
RequestId: 40022799-0000-7600-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE_FUNCTION_SAVE_START [f98a2311]: Starting conversation save
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:51:50Z"/><EventRecordID>1633599906</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 5a45e0ef2f73496b
TraceId: 8fd8f6d8f61798f6677cc4546227d762
ParentId: 0000000000000000
RequestId: 40022799-0000-7600-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Starting configuration retrieval for Azure Function
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:51:50Z"/><EventRecordID>1633599921</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 5a45e0ef2f73496b
TraceId: 8fd8f6d8f61798f6677cc4546227d762
ParentId: 0000000000000000
RequestId: 40022799-0000-7600-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Raw env URL: [VALUE SET], Raw config URL: [NOT SET]
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:51:50Z"/><EventRecordID>1633599953</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 5a45e0ef2f73496b
TraceId: 8fd8f6d8f61798f6677cc4546227d762
ParentId: 0000000000000000
RequestId: 40022799-0000-7600-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Key from env: True, Key from config: False
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:51:50Z"/><EventRecordID>1633599968</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 5a45e0ef2f73496b
TraceId: 8fd8f6d8f61798f6677cc4546227d762
ParentId: 0000000000000000
RequestId: 40022799-0000-7600-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Final URL configured: True, URL value: https://fn-conversationsave.azurewebsites.net/****/conversations/update
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:51:50Z"/><EventRecordID>1633600000</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 5a45e0ef2f73496b
TraceId: 8fd8f6d8f61798f6677cc4546227d762
ParentId: 0000000000000000
RequestId: 40022799-0000-7600-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Final Key configured: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:51:50Z"/><EventRecordID>1633600171</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 5a45e0ef2f73496b
TraceId: 8fd8f6d8f61798f6677cc4546227d762
ParentId: 0000000000000000
RequestId: 40022799-0000-7600-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE_FUNCTION_SAVE_SUCCESS [f98a2311]: Successfully saved conversation
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:51:58Z"/><EventRecordID>1633608031</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 68c2d75d9e6a9049
TraceId: 4033a768baf38b24f1df09c917bdcbfb
ParentId: 0000000000000000
RequestId: 4002279a-0000-7600-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

DEBUG - OpenAI API Connection Details:
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:51:58Z"/><EventRecordID>1633608046</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 68c2d75d9e6a9049
TraceId: 4033a768baf38b24f1df09c917bdcbfb
ParentId: 0000000000000000
RequestId: 4002279a-0000-7600-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

OpenAI Endpoint: https://generalsearchai.openai.azure.com/
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:51:58Z"/><EventRecordID>1633608046</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 68c2d75d9e6a9049
TraceId: 4033a768baf38b24f1df09c917bdcbfb
ParentId: 0000000000000000
RequestId: 4002279a-0000-7600-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

OpenAI API Key Length: 84
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:51:58Z"/><EventRecordID>1633608062</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 68c2d75d9e6a9049
TraceId: 4033a768baf38b24f1df09c917bdcbfb
ParentId: 0000000000000000
RequestId: 4002279a-0000-7600-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

OpenAI IsConfigured: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:51:58Z"/><EventRecordID>1633608062</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 68c2d75d9e6a9049
TraceId: 4033a768baf38b24f1df09c917bdcbfb
ParentId: 0000000000000000
RequestId: 4002279a-0000-7600-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

API CALL DETAILS - Endpoint: https://generalsearchai.openai.azure.com/
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:51:58Z"/><EventRecordID>1633608078</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 68c2d75d9e6a9049
TraceId: 4033a768baf38b24f1df09c917bdcbfb
ParentId: 0000000000000000
RequestId: 4002279a-0000-7600-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

API CALL DETAILS - DeploymentName: gpt-4.1
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:51:58Z"/><EventRecordID>1633608093</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 68c2d75d9e6a9049
TraceId: 4033a768baf38b24f1df09c917bdcbfb
ParentId: 0000000000000000
RequestId: 4002279a-0000-7600-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

API CALL DETAILS - API Version: 2025-01-01-preview
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:51:58Z"/><EventRecordID>1633608093</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 68c2d75d9e6a9049
TraceId: 4033a768baf38b24f1df09c917bdcbfb
ParentId: 0000000000000000
RequestId: 4002279a-0000-7600-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

DETAILED OPENAI DIAGNOSTICS:
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:51:58Z"/><EventRecordID>1633608125</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 68c2d75d9e6a9049
TraceId: 4033a768baf38b24f1df09c917bdcbfb
ParentId: 0000000000000000
RequestId: 4002279a-0000-7600-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

1. Using OpenAIClient of type: Azure.AI.OpenAI.OpenAIClient
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:51:58Z"/><EventRecordID>1633608171</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 68c2d75d9e6a9049
TraceId: 4033a768baf38b24f1df09c917bdcbfb
ParentId: 0000000000000000
RequestId: 4002279a-0000-7600-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

2. Endpoint URL being used: https://generalsearchai.openai.azure.com/
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:51:58Z"/><EventRecordID>1633608171</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 68c2d75d9e6a9049
TraceId: 4033a768baf38b24f1df09c917bdcbfb
ParentId: 0000000000000000
RequestId: 4002279a-0000-7600-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

3. Deployment name being used: gpt-4.1
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:51:58Z"/><EventRecordID>1633608187</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 68c2d75d9e6a9049
TraceId: 4033a768baf38b24f1df09c917bdcbfb
ParentId: 0000000000000000
RequestId: 4002279a-0000-7600-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

4. Environment variables:
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:51:58Z"/><EventRecordID>1633608203</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 68c2d75d9e6a9049
TraceId: 4033a768baf38b24f1df09c917bdcbfb
ParentId: 0000000000000000
RequestId: 4002279a-0000-7600-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

   OPENAI_API_KEY set: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:51:58Z"/><EventRecordID>1633608203</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 68c2d75d9e6a9049
TraceId: 4033a768baf38b24f1df09c917bdcbfb
ParentId: 0000000000000000
RequestId: 4002279a-0000-7600-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

   OPENAI_ENDPOINT set: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:51:58Z"/><EventRecordID>1633608218</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 68c2d75d9e6a9049
TraceId: 4033a768baf38b24f1df09c917bdcbfb
ParentId: 0000000000000000
RequestId: 4002279a-0000-7600-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

   OPENAI_DEPLOYMENT_NAME set: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:52:01Z"/><EventRecordID>1633611406</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 68c2d75d9e6a9049
TraceId: 4033a768baf38b24f1df09c917bdcbfb
ParentId: 0000000000000000
RequestId: 4002279a-0000-7600-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE FUNCTION DEBUG: Running in Azure environment
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:52:01Z"/><EventRecordID>1633611421</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 68c2d75d9e6a9049
TraceId: 4033a768baf38b24f1df09c917bdcbfb
ParentId: 0000000000000000
RequestId: 4002279a-0000-7600-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE FUNCTION CONFIG: URL=https://fn-conversationsave.azurewebsites.net/***/conversations/update, HasKey=True, HasUserId=False, HasUserEmail=False
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:52:01Z"/><EventRecordID>1633611453</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 68c2d75d9e6a9049
TraceId: 4033a768baf38b24f1df09c917bdcbfb
ParentId: 0000000000000000
RequestId: 4002279a-0000-7600-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE_FUNCTION_SAVE_START [4717c969]: Starting conversation save
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:52:01Z"/><EventRecordID>1633611468</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 68c2d75d9e6a9049
TraceId: 4033a768baf38b24f1df09c917bdcbfb
ParentId: 0000000000000000
RequestId: 4002279a-0000-7600-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Starting configuration retrieval for Azure Function
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:52:01Z"/><EventRecordID>1633611484</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 68c2d75d9e6a9049
TraceId: 4033a768baf38b24f1df09c917bdcbfb
ParentId: 0000000000000000
RequestId: 4002279a-0000-7600-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Raw env URL: [VALUE SET], Raw config URL: [NOT SET]
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:52:01Z"/><EventRecordID>1633611484</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 68c2d75d9e6a9049
TraceId: 4033a768baf38b24f1df09c917bdcbfb
ParentId: 0000000000000000
RequestId: 4002279a-0000-7600-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Key from env: True, Key from config: False
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:52:01Z"/><EventRecordID>1633611531</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 68c2d75d9e6a9049
TraceId: 4033a768baf38b24f1df09c917bdcbfb
ParentId: 0000000000000000
RequestId: 4002279a-0000-7600-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Final URL configured: True, URL value: https://fn-conversationsave.azurewebsites.net/****/conversations/update
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:52:01Z"/><EventRecordID>1633611531</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 68c2d75d9e6a9049
TraceId: 4033a768baf38b24f1df09c917bdcbfb
ParentId: 0000000000000000
RequestId: 4002279a-0000-7600-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Final Key configured: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:52:02Z"/><EventRecordID>1633611656</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 68c2d75d9e6a9049
TraceId: 4033a768baf38b24f1df09c917bdcbfb
ParentId: 0000000000000000
RequestId: 4002279a-0000-7600-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE_FUNCTION_SAVE_SUCCESS [4717c969]: Successfully saved conversation
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:55:33Z"/><EventRecordID>1633823031</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 987ddf42f55bc611
TraceId: aa93cfaac577f70c4e5559256e7297fe
ParentId: 0000000000000000
RequestId: 40003253-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

DEBUG - OpenAI API Connection Details:
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:55:33Z"/><EventRecordID>1633823062</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 987ddf42f55bc611
TraceId: aa93cfaac577f70c4e5559256e7297fe
ParentId: 0000000000000000
RequestId: 40003253-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

OpenAI Endpoint: https://generalsearchai.openai.azure.com/
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:55:33Z"/><EventRecordID>1633823062</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 987ddf42f55bc611
TraceId: aa93cfaac577f70c4e5559256e7297fe
ParentId: 0000000000000000
RequestId: 40003253-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

OpenAI API Key Length: 84
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:55:33Z"/><EventRecordID>1633823062</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 987ddf42f55bc611
TraceId: aa93cfaac577f70c4e5559256e7297fe
ParentId: 0000000000000000
RequestId: 40003253-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

OpenAI IsConfigured: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:55:33Z"/><EventRecordID>1633823062</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 987ddf42f55bc611
TraceId: aa93cfaac577f70c4e5559256e7297fe
ParentId: 0000000000000000
RequestId: 40003253-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

API CALL DETAILS - Endpoint: https://generalsearchai.openai.azure.com/
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:55:33Z"/><EventRecordID>1633823078</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 987ddf42f55bc611
TraceId: aa93cfaac577f70c4e5559256e7297fe
ParentId: 0000000000000000
RequestId: 40003253-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

API CALL DETAILS - DeploymentName: gpt-4.1
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:55:33Z"/><EventRecordID>1633823078</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 987ddf42f55bc611
TraceId: aa93cfaac577f70c4e5559256e7297fe
ParentId: 0000000000000000
RequestId: 40003253-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

API CALL DETAILS - API Version: 2025-01-01-preview
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:55:33Z"/><EventRecordID>1633823093</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 987ddf42f55bc611
TraceId: aa93cfaac577f70c4e5559256e7297fe
ParentId: 0000000000000000
RequestId: 40003253-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

DETAILED OPENAI DIAGNOSTICS:
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:55:33Z"/><EventRecordID>1633823109</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 987ddf42f55bc611
TraceId: aa93cfaac577f70c4e5559256e7297fe
ParentId: 0000000000000000
RequestId: 40003253-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

1. Using OpenAIClient of type: Azure.AI.OpenAI.OpenAIClient
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:55:33Z"/><EventRecordID>1633823109</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 987ddf42f55bc611
TraceId: aa93cfaac577f70c4e5559256e7297fe
ParentId: 0000000000000000
RequestId: 40003253-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

2. Endpoint URL being used: https://generalsearchai.openai.azure.com/
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:55:33Z"/><EventRecordID>1633823125</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 987ddf42f55bc611
TraceId: aa93cfaac577f70c4e5559256e7297fe
ParentId: 0000000000000000
RequestId: 40003253-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

3. Deployment name being used: gpt-4.1
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:55:33Z"/><EventRecordID>1633823125</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 987ddf42f55bc611
TraceId: aa93cfaac577f70c4e5559256e7297fe
ParentId: 0000000000000000
RequestId: 40003253-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

4. Environment variables:
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:55:33Z"/><EventRecordID>1633823140</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 987ddf42f55bc611
TraceId: aa93cfaac577f70c4e5559256e7297fe
ParentId: 0000000000000000
RequestId: 40003253-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

   OPENAI_API_KEY set: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:55:33Z"/><EventRecordID>1633823140</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 987ddf42f55bc611
TraceId: aa93cfaac577f70c4e5559256e7297fe
ParentId: 0000000000000000
RequestId: 40003253-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

   OPENAI_ENDPOINT set: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:55:33Z"/><EventRecordID>1633823171</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 987ddf42f55bc611
TraceId: aa93cfaac577f70c4e5559256e7297fe
ParentId: 0000000000000000
RequestId: 40003253-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

   OPENAI_DEPLOYMENT_NAME set: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:55:37Z"/><EventRecordID>1633826859</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 987ddf42f55bc611
TraceId: aa93cfaac577f70c4e5559256e7297fe
ParentId: 0000000000000000
RequestId: 40003253-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE FUNCTION DEBUG: Running in Azure environment
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:55:37Z"/><EventRecordID>1633826875</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 987ddf42f55bc611
TraceId: aa93cfaac577f70c4e5559256e7297fe
ParentId: 0000000000000000
RequestId: 40003253-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE FUNCTION CONFIG: URL=https://fn-conversationsave.azurewebsites.net/***/conversations/update, HasKey=True, HasUserId=False, HasUserEmail=False
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:55:37Z"/><EventRecordID>1633826890</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 987ddf42f55bc611
TraceId: aa93cfaac577f70c4e5559256e7297fe
ParentId: 0000000000000000
RequestId: 40003253-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE_FUNCTION_SAVE_START [ae986768]: Starting conversation save
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:55:37Z"/><EventRecordID>1633826890</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 987ddf42f55bc611
TraceId: aa93cfaac577f70c4e5559256e7297fe
ParentId: 0000000000000000
RequestId: 40003253-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Starting configuration retrieval for Azure Function
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:55:37Z"/><EventRecordID>1633826906</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 987ddf42f55bc611
TraceId: aa93cfaac577f70c4e5559256e7297fe
ParentId: 0000000000000000
RequestId: 40003253-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Raw env URL: [VALUE SET], Raw config URL: [NOT SET]
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:55:37Z"/><EventRecordID>1633826906</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 987ddf42f55bc611
TraceId: aa93cfaac577f70c4e5559256e7297fe
ParentId: 0000000000000000
RequestId: 40003253-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Key from env: True, Key from config: False
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:55:37Z"/><EventRecordID>1633826921</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 987ddf42f55bc611
TraceId: aa93cfaac577f70c4e5559256e7297fe
ParentId: 0000000000000000
RequestId: 40003253-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Final URL configured: True, URL value: https://fn-conversationsave.azurewebsites.net/****/conversations/update
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:55:37Z"/><EventRecordID>1633826921</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 987ddf42f55bc611
TraceId: aa93cfaac577f70c4e5559256e7297fe
ParentId: 0000000000000000
RequestId: 40003253-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Final Key configured: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:55:37Z"/><EventRecordID>1633827109</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 987ddf42f55bc611
TraceId: aa93cfaac577f70c4e5559256e7297fe
ParentId: 0000000000000000
RequestId: 40003253-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE_FUNCTION_SAVE_SUCCESS [ae986768]: Successfully saved conversation
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:55:56Z"/><EventRecordID>1633846140</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 70a9decf43d9b0a7
TraceId: 8c2836f36e8388359ddf52bce448032b
ParentId: 0000000000000000
RequestId: 40003254-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

DEBUG - OpenAI API Connection Details:
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:55:56Z"/><EventRecordID>1633846140</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 70a9decf43d9b0a7
TraceId: 8c2836f36e8388359ddf52bce448032b
ParentId: 0000000000000000
RequestId: 40003254-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

OpenAI Endpoint: https://generalsearchai.openai.azure.com/
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:55:56Z"/><EventRecordID>1633846156</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 70a9decf43d9b0a7
TraceId: 8c2836f36e8388359ddf52bce448032b
ParentId: 0000000000000000
RequestId: 40003254-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

OpenAI API Key Length: 84
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:55:56Z"/><EventRecordID>1633846156</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 70a9decf43d9b0a7
TraceId: 8c2836f36e8388359ddf52bce448032b
ParentId: 0000000000000000
RequestId: 40003254-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

OpenAI IsConfigured: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:55:56Z"/><EventRecordID>1633846171</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 70a9decf43d9b0a7
TraceId: 8c2836f36e8388359ddf52bce448032b
ParentId: 0000000000000000
RequestId: 40003254-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

API CALL DETAILS - Endpoint: https://generalsearchai.openai.azure.com/
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:55:56Z"/><EventRecordID>1633846171</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 70a9decf43d9b0a7
TraceId: 8c2836f36e8388359ddf52bce448032b
ParentId: 0000000000000000
RequestId: 40003254-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

API CALL DETAILS - DeploymentName: gpt-4.1
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:55:56Z"/><EventRecordID>1633846187</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 70a9decf43d9b0a7
TraceId: 8c2836f36e8388359ddf52bce448032b
ParentId: 0000000000000000
RequestId: 40003254-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

API CALL DETAILS - API Version: 2025-01-01-preview
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:55:56Z"/><EventRecordID>1633846187</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 70a9decf43d9b0a7
TraceId: 8c2836f36e8388359ddf52bce448032b
ParentId: 0000000000000000
RequestId: 40003254-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

DETAILED OPENAI DIAGNOSTICS:
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:55:56Z"/><EventRecordID>1633846203</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 70a9decf43d9b0a7
TraceId: 8c2836f36e8388359ddf52bce448032b
ParentId: 0000000000000000
RequestId: 40003254-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

1. Using OpenAIClient of type: Azure.AI.OpenAI.OpenAIClient
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:55:56Z"/><EventRecordID>1633846203</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 70a9decf43d9b0a7
TraceId: 8c2836f36e8388359ddf52bce448032b
ParentId: 0000000000000000
RequestId: 40003254-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

2. Endpoint URL being used: https://generalsearchai.openai.azure.com/
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:55:56Z"/><EventRecordID>1633846218</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 70a9decf43d9b0a7
TraceId: 8c2836f36e8388359ddf52bce448032b
ParentId: 0000000000000000
RequestId: 40003254-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

3. Deployment name being used: gpt-4.1
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:55:56Z"/><EventRecordID>1633846234</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 70a9decf43d9b0a7
TraceId: 8c2836f36e8388359ddf52bce448032b
ParentId: 0000000000000000
RequestId: 40003254-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

4. Environment variables:
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:55:56Z"/><EventRecordID>1633846234</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 70a9decf43d9b0a7
TraceId: 8c2836f36e8388359ddf52bce448032b
ParentId: 0000000000000000
RequestId: 40003254-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

   OPENAI_API_KEY set: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:55:56Z"/><EventRecordID>1633846250</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 70a9decf43d9b0a7
TraceId: 8c2836f36e8388359ddf52bce448032b
ParentId: 0000000000000000
RequestId: 40003254-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

   OPENAI_ENDPOINT set: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:55:56Z"/><EventRecordID>1633846265</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 70a9decf43d9b0a7
TraceId: 8c2836f36e8388359ddf52bce448032b
ParentId: 0000000000000000
RequestId: 40003254-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

   OPENAI_DEPLOYMENT_NAME set: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:55:58Z"/><EventRecordID>1633848421</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 70a9decf43d9b0a7
TraceId: 8c2836f36e8388359ddf52bce448032b
ParentId: 0000000000000000
RequestId: 40003254-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE FUNCTION DEBUG: Running in Azure environment
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:55:58Z"/><EventRecordID>1633848421</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 70a9decf43d9b0a7
TraceId: 8c2836f36e8388359ddf52bce448032b
ParentId: 0000000000000000
RequestId: 40003254-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE FUNCTION CONFIG: URL=https://fn-conversationsave.azurewebsites.net/***/conversations/update, HasKey=True, HasUserId=False, HasUserEmail=False
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:55:58Z"/><EventRecordID>1633848453</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 70a9decf43d9b0a7
TraceId: 8c2836f36e8388359ddf52bce448032b
ParentId: 0000000000000000
RequestId: 40003254-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE_FUNCTION_SAVE_START [84593fb4]: Starting conversation save
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:55:58Z"/><EventRecordID>1633848453</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 70a9decf43d9b0a7
TraceId: 8c2836f36e8388359ddf52bce448032b
ParentId: 0000000000000000
RequestId: 40003254-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Starting configuration retrieval for Azure Function
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:55:58Z"/><EventRecordID>1633848468</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 70a9decf43d9b0a7
TraceId: 8c2836f36e8388359ddf52bce448032b
ParentId: 0000000000000000
RequestId: 40003254-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Raw env URL: [VALUE SET], Raw config URL: [NOT SET]
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:55:58Z"/><EventRecordID>1633848484</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 70a9decf43d9b0a7
TraceId: 8c2836f36e8388359ddf52bce448032b
ParentId: 0000000000000000
RequestId: 40003254-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Key from env: True, Key from config: False
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:55:58Z"/><EventRecordID>1633848515</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 70a9decf43d9b0a7
TraceId: 8c2836f36e8388359ddf52bce448032b
ParentId: 0000000000000000
RequestId: 40003254-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Final URL configured: True, URL value: https://fn-conversationsave.azurewebsites.net/****/conversations/update
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:55:59Z"/><EventRecordID>1633848546</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 70a9decf43d9b0a7
TraceId: 8c2836f36e8388359ddf52bce448032b
ParentId: 0000000000000000
RequestId: 40003254-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Final Key configured: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:55:59Z"/><EventRecordID>1633848734</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 70a9decf43d9b0a7
TraceId: 8c2836f36e8388359ddf52bce448032b
ParentId: 0000000000000000
RequestId: 40003254-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE_FUNCTION_SAVE_SUCCESS [84593fb4]: Successfully saved conversation
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:56:31Z"/><EventRecordID>1633880578</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 9ead1694dc5c4ec2
TraceId: 5fc22d0b29319e4b5882315254b6afd0
ParentId: 0000000000000000
RequestId: 40003255-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

DEBUG - OpenAI API Connection Details:
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:56:31Z"/><EventRecordID>1633880593</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 9ead1694dc5c4ec2
TraceId: 5fc22d0b29319e4b5882315254b6afd0
ParentId: 0000000000000000
RequestId: 40003255-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

OpenAI Endpoint: https://generalsearchai.openai.azure.com/
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:56:31Z"/><EventRecordID>1633880593</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 9ead1694dc5c4ec2
TraceId: 5fc22d0b29319e4b5882315254b6afd0
ParentId: 0000000000000000
RequestId: 40003255-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

OpenAI API Key Length: 84
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:56:31Z"/><EventRecordID>1633880609</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 9ead1694dc5c4ec2
TraceId: 5fc22d0b29319e4b5882315254b6afd0
ParentId: 0000000000000000
RequestId: 40003255-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

OpenAI IsConfigured: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:56:31Z"/><EventRecordID>1633880656</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 9ead1694dc5c4ec2
TraceId: 5fc22d0b29319e4b5882315254b6afd0
ParentId: 0000000000000000
RequestId: 40003255-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

API CALL DETAILS - Endpoint: https://generalsearchai.openai.azure.com/
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:56:31Z"/><EventRecordID>1633880671</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 9ead1694dc5c4ec2
TraceId: 5fc22d0b29319e4b5882315254b6afd0
ParentId: 0000000000000000
RequestId: 40003255-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

API CALL DETAILS - DeploymentName: gpt-4.1
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:56:31Z"/><EventRecordID>1633880703</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 9ead1694dc5c4ec2
TraceId: 5fc22d0b29319e4b5882315254b6afd0
ParentId: 0000000000000000
RequestId: 40003255-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

API CALL DETAILS - API Version: 2025-01-01-preview
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:56:31Z"/><EventRecordID>1633880718</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 9ead1694dc5c4ec2
TraceId: 5fc22d0b29319e4b5882315254b6afd0
ParentId: 0000000000000000
RequestId: 40003255-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

DETAILED OPENAI DIAGNOSTICS:
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:56:31Z"/><EventRecordID>1633880734</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 9ead1694dc5c4ec2
TraceId: 5fc22d0b29319e4b5882315254b6afd0
ParentId: 0000000000000000
RequestId: 40003255-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

1. Using OpenAIClient of type: Azure.AI.OpenAI.OpenAIClient
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:56:31Z"/><EventRecordID>1633880734</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 9ead1694dc5c4ec2
TraceId: 5fc22d0b29319e4b5882315254b6afd0
ParentId: 0000000000000000
RequestId: 40003255-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

2. Endpoint URL being used: https://generalsearchai.openai.azure.com/
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:56:31Z"/><EventRecordID>1633880750</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 9ead1694dc5c4ec2
TraceId: 5fc22d0b29319e4b5882315254b6afd0
ParentId: 0000000000000000
RequestId: 40003255-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

3. Deployment name being used: gpt-4.1
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:56:31Z"/><EventRecordID>1633880765</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 9ead1694dc5c4ec2
TraceId: 5fc22d0b29319e4b5882315254b6afd0
ParentId: 0000000000000000
RequestId: 40003255-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

4. Environment variables:
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:56:31Z"/><EventRecordID>1633880765</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 9ead1694dc5c4ec2
TraceId: 5fc22d0b29319e4b5882315254b6afd0
ParentId: 0000000000000000
RequestId: 40003255-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

   OPENAI_API_KEY set: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:56:31Z"/><EventRecordID>1633880781</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 9ead1694dc5c4ec2
TraceId: 5fc22d0b29319e4b5882315254b6afd0
ParentId: 0000000000000000
RequestId: 40003255-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

   OPENAI_ENDPOINT set: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:56:31Z"/><EventRecordID>1633880812</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 9ead1694dc5c4ec2
TraceId: 5fc22d0b29319e4b5882315254b6afd0
ParentId: 0000000000000000
RequestId: 40003255-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

   OPENAI_DEPLOYMENT_NAME set: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:56:33Z"/><EventRecordID>1633882546</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 9ead1694dc5c4ec2
TraceId: 5fc22d0b29319e4b5882315254b6afd0
ParentId: 0000000000000000
RequestId: 40003255-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE FUNCTION DEBUG: Running in Azure environment
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:56:33Z"/><EventRecordID>1633882546</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 9ead1694dc5c4ec2
TraceId: 5fc22d0b29319e4b5882315254b6afd0
ParentId: 0000000000000000
RequestId: 40003255-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE FUNCTION CONFIG: URL=https://fn-conversationsave.azurewebsites.net/***/conversations/update, HasKey=True, HasUserId=False, HasUserEmail=False
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:56:33Z"/><EventRecordID>1633882562</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 9ead1694dc5c4ec2
TraceId: 5fc22d0b29319e4b5882315254b6afd0
ParentId: 0000000000000000
RequestId: 40003255-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE_FUNCTION_SAVE_START [47677333]: Starting conversation save
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:56:33Z"/><EventRecordID>1633882578</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 9ead1694dc5c4ec2
TraceId: 5fc22d0b29319e4b5882315254b6afd0
ParentId: 0000000000000000
RequestId: 40003255-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Starting configuration retrieval for Azure Function
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:56:33Z"/><EventRecordID>1633882593</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 9ead1694dc5c4ec2
TraceId: 5fc22d0b29319e4b5882315254b6afd0
ParentId: 0000000000000000
RequestId: 40003255-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Raw env URL: [VALUE SET], Raw config URL: [NOT SET]
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:56:33Z"/><EventRecordID>1633882609</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 9ead1694dc5c4ec2
TraceId: 5fc22d0b29319e4b5882315254b6afd0
ParentId: 0000000000000000
RequestId: 40003255-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Key from env: True, Key from config: False
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:56:33Z"/><EventRecordID>1633882609</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 9ead1694dc5c4ec2
TraceId: 5fc22d0b29319e4b5882315254b6afd0
ParentId: 0000000000000000
RequestId: 40003255-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Final URL configured: True, URL value: https://fn-conversationsave.azurewebsites.net/****/conversations/update
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:56:33Z"/><EventRecordID>1633882625</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 9ead1694dc5c4ec2
TraceId: 5fc22d0b29319e4b5882315254b6afd0
ParentId: 0000000000000000
RequestId: 40003255-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Final Key configured: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:56:33Z"/><EventRecordID>1633882750</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 9ead1694dc5c4ec2
TraceId: 5fc22d0b29319e4b5882315254b6afd0
ParentId: 0000000000000000
RequestId: 40003255-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE_FUNCTION_SAVE_SUCCESS [47677333]: Successfully saved conversation
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:57:44Z"/><EventRecordID>1633954296</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 2b6c887ad795f654
TraceId: 1bf4c6b4c7156a776df5b7aa484b00da
ParentId: 0000000000000000
RequestId: 40003257-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

DEBUG - OpenAI API Connection Details:
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:57:44Z"/><EventRecordID>1633954296</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 2b6c887ad795f654
TraceId: 1bf4c6b4c7156a776df5b7aa484b00da
ParentId: 0000000000000000
RequestId: 40003257-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

OpenAI Endpoint: https://generalsearchai.openai.azure.com/
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:57:44Z"/><EventRecordID>1633954296</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 2b6c887ad795f654
TraceId: 1bf4c6b4c7156a776df5b7aa484b00da
ParentId: 0000000000000000
RequestId: 40003257-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

OpenAI API Key Length: 84
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:57:44Z"/><EventRecordID>1633954312</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 2b6c887ad795f654
TraceId: 1bf4c6b4c7156a776df5b7aa484b00da
ParentId: 0000000000000000
RequestId: 40003257-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

OpenAI IsConfigured: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:57:44Z"/><EventRecordID>1633954328</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 2b6c887ad795f654
TraceId: 1bf4c6b4c7156a776df5b7aa484b00da
ParentId: 0000000000000000
RequestId: 40003257-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

API CALL DETAILS - Endpoint: https://generalsearchai.openai.azure.com/
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:57:44Z"/><EventRecordID>1633954328</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 2b6c887ad795f654
TraceId: 1bf4c6b4c7156a776df5b7aa484b00da
ParentId: 0000000000000000
RequestId: 40003257-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

API CALL DETAILS - DeploymentName: gpt-4.1
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:57:44Z"/><EventRecordID>1633954343</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 2b6c887ad795f654
TraceId: 1bf4c6b4c7156a776df5b7aa484b00da
ParentId: 0000000000000000
RequestId: 40003257-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

API CALL DETAILS - API Version: 2025-01-01-preview
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:57:44Z"/><EventRecordID>1633954343</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 2b6c887ad795f654
TraceId: 1bf4c6b4c7156a776df5b7aa484b00da
ParentId: 0000000000000000
RequestId: 40003257-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

DETAILED OPENAI DIAGNOSTICS:
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:57:44Z"/><EventRecordID>1633954359</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 2b6c887ad795f654
TraceId: 1bf4c6b4c7156a776df5b7aa484b00da
ParentId: 0000000000000000
RequestId: 40003257-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

1. Using OpenAIClient of type: Azure.AI.OpenAI.OpenAIClient
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:57:44Z"/><EventRecordID>1633954359</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 2b6c887ad795f654
TraceId: 1bf4c6b4c7156a776df5b7aa484b00da
ParentId: 0000000000000000
RequestId: 40003257-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

2. Endpoint URL being used: https://generalsearchai.openai.azure.com/
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:57:44Z"/><EventRecordID>1633954375</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 2b6c887ad795f654
TraceId: 1bf4c6b4c7156a776df5b7aa484b00da
ParentId: 0000000000000000
RequestId: 40003257-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

3. Deployment name being used: gpt-4.1
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:57:44Z"/><EventRecordID>1633954375</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 2b6c887ad795f654
TraceId: 1bf4c6b4c7156a776df5b7aa484b00da
ParentId: 0000000000000000
RequestId: 40003257-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

4. Environment variables:
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:57:44Z"/><EventRecordID>1633954421</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 2b6c887ad795f654
TraceId: 1bf4c6b4c7156a776df5b7aa484b00da
ParentId: 0000000000000000
RequestId: 40003257-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

   OPENAI_API_KEY set: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:57:44Z"/><EventRecordID>1633954437</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 2b6c887ad795f654
TraceId: 1bf4c6b4c7156a776df5b7aa484b00da
ParentId: 0000000000000000
RequestId: 40003257-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

   OPENAI_ENDPOINT set: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:57:44Z"/><EventRecordID>1633954437</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 2b6c887ad795f654
TraceId: 1bf4c6b4c7156a776df5b7aa484b00da
ParentId: 0000000000000000
RequestId: 40003257-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

   OPENAI_DEPLOYMENT_NAME set: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:57:45Z"/><EventRecordID>1633955437</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 2b6c887ad795f654
TraceId: 1bf4c6b4c7156a776df5b7aa484b00da
ParentId: 0000000000000000
RequestId: 40003257-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE FUNCTION DEBUG: Running in Azure environment
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:57:45Z"/><EventRecordID>1633955453</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 2b6c887ad795f654
TraceId: 1bf4c6b4c7156a776df5b7aa484b00da
ParentId: 0000000000000000
RequestId: 40003257-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE FUNCTION CONFIG: URL=https://fn-conversationsave.azurewebsites.net/***/conversations/update, HasKey=True, HasUserId=False, HasUserEmail=False
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:57:45Z"/><EventRecordID>1633955468</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 2b6c887ad795f654
TraceId: 1bf4c6b4c7156a776df5b7aa484b00da
ParentId: 0000000000000000
RequestId: 40003257-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE_FUNCTION_SAVE_START [08e682dd]: Starting conversation save
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:57:45Z"/><EventRecordID>1633955468</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 2b6c887ad795f654
TraceId: 1bf4c6b4c7156a776df5b7aa484b00da
ParentId: 0000000000000000
RequestId: 40003257-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Starting configuration retrieval for Azure Function
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:57:45Z"/><EventRecordID>1633955484</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 2b6c887ad795f654
TraceId: 1bf4c6b4c7156a776df5b7aa484b00da
ParentId: 0000000000000000
RequestId: 40003257-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Raw env URL: [VALUE SET], Raw config URL: [NOT SET]
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:57:45Z"/><EventRecordID>1633955484</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 2b6c887ad795f654
TraceId: 1bf4c6b4c7156a776df5b7aa484b00da
ParentId: 0000000000000000
RequestId: 40003257-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Key from env: True, Key from config: False
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:57:45Z"/><EventRecordID>1633955500</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 2b6c887ad795f654
TraceId: 1bf4c6b4c7156a776df5b7aa484b00da
ParentId: 0000000000000000
RequestId: 40003257-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Final URL configured: True, URL value: https://fn-conversationsave.azurewebsites.net/****/conversations/update
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:57:45Z"/><EventRecordID>1633955515</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 2b6c887ad795f654
TraceId: 1bf4c6b4c7156a776df5b7aa484b00da
ParentId: 0000000000000000
RequestId: 40003257-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Final Key configured: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:57:46Z"/><EventRecordID>1633955703</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 2b6c887ad795f654
TraceId: 1bf4c6b4c7156a776df5b7aa484b00da
ParentId: 0000000000000000
RequestId: 40003257-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE_FUNCTION_SAVE_SUCCESS [08e682dd]: Successfully saved conversation
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:58:43Z"/><EventRecordID>1634012546</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: ea6056ee2909f2e1
TraceId: 4f8755fdae1fef08fd9aa6db75069747
ParentId: 0000000000000000
RequestId: 40003258-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

DEBUG - OpenAI API Connection Details:
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:58:43Z"/><EventRecordID>1634012546</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: ea6056ee2909f2e1
TraceId: 4f8755fdae1fef08fd9aa6db75069747
ParentId: 0000000000000000
RequestId: 40003258-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

OpenAI Endpoint: https://generalsearchai.openai.azure.com/
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:58:43Z"/><EventRecordID>1634012562</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: ea6056ee2909f2e1
TraceId: 4f8755fdae1fef08fd9aa6db75069747
ParentId: 0000000000000000
RequestId: 40003258-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

OpenAI API Key Length: 84
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:58:43Z"/><EventRecordID>1634012578</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: ea6056ee2909f2e1
TraceId: 4f8755fdae1fef08fd9aa6db75069747
ParentId: 0000000000000000
RequestId: 40003258-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

OpenAI IsConfigured: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:58:43Z"/><EventRecordID>1634012578</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: ea6056ee2909f2e1
TraceId: 4f8755fdae1fef08fd9aa6db75069747
ParentId: 0000000000000000
RequestId: 40003258-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

API CALL DETAILS - Endpoint: https://generalsearchai.openai.azure.com/
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:58:43Z"/><EventRecordID>1634012593</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: ea6056ee2909f2e1
TraceId: 4f8755fdae1fef08fd9aa6db75069747
ParentId: 0000000000000000
RequestId: 40003258-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

API CALL DETAILS - DeploymentName: gpt-4.1
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:58:43Z"/><EventRecordID>1634012593</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: ea6056ee2909f2e1
TraceId: 4f8755fdae1fef08fd9aa6db75069747
ParentId: 0000000000000000
RequestId: 40003258-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

API CALL DETAILS - API Version: 2025-01-01-preview
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:58:43Z"/><EventRecordID>1634012609</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: ea6056ee2909f2e1
TraceId: 4f8755fdae1fef08fd9aa6db75069747
ParentId: 0000000000000000
RequestId: 40003258-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

DETAILED OPENAI DIAGNOSTICS:
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:58:43Z"/><EventRecordID>1634012640</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: ea6056ee2909f2e1
TraceId: 4f8755fdae1fef08fd9aa6db75069747
ParentId: 0000000000000000
RequestId: 40003258-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

1. Using OpenAIClient of type: Azure.AI.OpenAI.OpenAIClient
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:58:43Z"/><EventRecordID>1634012656</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: ea6056ee2909f2e1
TraceId: 4f8755fdae1fef08fd9aa6db75069747
ParentId: 0000000000000000
RequestId: 40003258-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

2. Endpoint URL being used: https://generalsearchai.openai.azure.com/
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:58:43Z"/><EventRecordID>1634012671</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: ea6056ee2909f2e1
TraceId: 4f8755fdae1fef08fd9aa6db75069747
ParentId: 0000000000000000
RequestId: 40003258-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

3. Deployment name being used: gpt-4.1
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:58:43Z"/><EventRecordID>1634012671</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: ea6056ee2909f2e1
TraceId: 4f8755fdae1fef08fd9aa6db75069747
ParentId: 0000000000000000
RequestId: 40003258-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

4. Environment variables:
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:58:43Z"/><EventRecordID>1634012671</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: ea6056ee2909f2e1
TraceId: 4f8755fdae1fef08fd9aa6db75069747
ParentId: 0000000000000000
RequestId: 40003258-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

   OPENAI_API_KEY set: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:58:43Z"/><EventRecordID>1634012687</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: ea6056ee2909f2e1
TraceId: 4f8755fdae1fef08fd9aa6db75069747
ParentId: 0000000000000000
RequestId: 40003258-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

   OPENAI_ENDPOINT set: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:58:43Z"/><EventRecordID>1634012703</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: ea6056ee2909f2e1
TraceId: 4f8755fdae1fef08fd9aa6db75069747
ParentId: 0000000000000000
RequestId: 40003258-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

   OPENAI_DEPLOYMENT_NAME set: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:58:44Z"/><EventRecordID>1634014312</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: ea6056ee2909f2e1
TraceId: 4f8755fdae1fef08fd9aa6db75069747
ParentId: 0000000000000000
RequestId: 40003258-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE FUNCTION DEBUG: Running in Azure environment
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:58:44Z"/><EventRecordID>1634014328</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: ea6056ee2909f2e1
TraceId: 4f8755fdae1fef08fd9aa6db75069747
ParentId: 0000000000000000
RequestId: 40003258-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE FUNCTION CONFIG: URL=https://fn-conversationsave.azurewebsites.net/***/conversations/update, HasKey=True, HasUserId=False, HasUserEmail=False
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:58:44Z"/><EventRecordID>1634014343</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: ea6056ee2909f2e1
TraceId: 4f8755fdae1fef08fd9aa6db75069747
ParentId: 0000000000000000
RequestId: 40003258-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE_FUNCTION_SAVE_START [d22bdaf6]: Starting conversation save
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:58:44Z"/><EventRecordID>1634014359</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: ea6056ee2909f2e1
TraceId: 4f8755fdae1fef08fd9aa6db75069747
ParentId: 0000000000000000
RequestId: 40003258-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Starting configuration retrieval for Azure Function
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:58:44Z"/><EventRecordID>1634014359</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: ea6056ee2909f2e1
TraceId: 4f8755fdae1fef08fd9aa6db75069747
ParentId: 0000000000000000
RequestId: 40003258-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Raw env URL: [VALUE SET], Raw config URL: [NOT SET]
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:58:44Z"/><EventRecordID>1634014375</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: ea6056ee2909f2e1
TraceId: 4f8755fdae1fef08fd9aa6db75069747
ParentId: 0000000000000000
RequestId: 40003258-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Key from env: True, Key from config: False
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:58:44Z"/><EventRecordID>1634014375</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: ea6056ee2909f2e1
TraceId: 4f8755fdae1fef08fd9aa6db75069747
ParentId: 0000000000000000
RequestId: 40003258-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Final URL configured: True, URL value: https://fn-conversationsave.azurewebsites.net/****/conversations/update
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:58:44Z"/><EventRecordID>1634014390</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: ea6056ee2909f2e1
TraceId: 4f8755fdae1fef08fd9aa6db75069747
ParentId: 0000000000000000
RequestId: 40003258-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Final Key configured: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:58:44Z"/><EventRecordID>1634014515</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: ea6056ee2909f2e1
TraceId: 4f8755fdae1fef08fd9aa6db75069747
ParentId: 0000000000000000
RequestId: 40003258-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE_FUNCTION_SAVE_SUCCESS [d22bdaf6]: Successfully saved conversation
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:59:06Z"/><EventRecordID>1634035734</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: d0137b9302225d9d
TraceId: b0d53f029cc55cc890cc4384f5141be5
ParentId: 0000000000000000
RequestId: 40003259-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

DEBUG - OpenAI API Connection Details:
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:59:06Z"/><EventRecordID>1634035750</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: d0137b9302225d9d
TraceId: b0d53f029cc55cc890cc4384f5141be5
ParentId: 0000000000000000
RequestId: 40003259-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

OpenAI Endpoint: https://generalsearchai.openai.azure.com/
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:59:06Z"/><EventRecordID>1634035765</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: d0137b9302225d9d
TraceId: b0d53f029cc55cc890cc4384f5141be5
ParentId: 0000000000000000
RequestId: 40003259-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

OpenAI API Key Length: 84
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:59:06Z"/><EventRecordID>1634035765</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: d0137b9302225d9d
TraceId: b0d53f029cc55cc890cc4384f5141be5
ParentId: 0000000000000000
RequestId: 40003259-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

OpenAI IsConfigured: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:59:06Z"/><EventRecordID>1634035781</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: d0137b9302225d9d
TraceId: b0d53f029cc55cc890cc4384f5141be5
ParentId: 0000000000000000
RequestId: 40003259-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

API CALL DETAILS - Endpoint: https://generalsearchai.openai.azure.com/
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:59:06Z"/><EventRecordID>1634035781</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: d0137b9302225d9d
TraceId: b0d53f029cc55cc890cc4384f5141be5
ParentId: 0000000000000000
RequestId: 40003259-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

API CALL DETAILS - DeploymentName: gpt-4.1
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:59:06Z"/><EventRecordID>1634035796</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: d0137b9302225d9d
TraceId: b0d53f029cc55cc890cc4384f5141be5
ParentId: 0000000000000000
RequestId: 40003259-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

API CALL DETAILS - API Version: 2025-01-01-preview
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:59:06Z"/><EventRecordID>1634035796</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: d0137b9302225d9d
TraceId: b0d53f029cc55cc890cc4384f5141be5
ParentId: 0000000000000000
RequestId: 40003259-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

DETAILED OPENAI DIAGNOSTICS:
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:59:06Z"/><EventRecordID>1634035812</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: d0137b9302225d9d
TraceId: b0d53f029cc55cc890cc4384f5141be5
ParentId: 0000000000000000
RequestId: 40003259-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

1. Using OpenAIClient of type: Azure.AI.OpenAI.OpenAIClient
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:59:06Z"/><EventRecordID>1634035812</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: d0137b9302225d9d
TraceId: b0d53f029cc55cc890cc4384f5141be5
ParentId: 0000000000000000
RequestId: 40003259-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

2. Endpoint URL being used: https://generalsearchai.openai.azure.com/
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:59:06Z"/><EventRecordID>1634035828</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: d0137b9302225d9d
TraceId: b0d53f029cc55cc890cc4384f5141be5
ParentId: 0000000000000000
RequestId: 40003259-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

3. Deployment name being used: gpt-4.1
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:59:06Z"/><EventRecordID>1634035843</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: d0137b9302225d9d
TraceId: b0d53f029cc55cc890cc4384f5141be5
ParentId: 0000000000000000
RequestId: 40003259-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

4. Environment variables:
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:59:06Z"/><EventRecordID>1634035859</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: d0137b9302225d9d
TraceId: b0d53f029cc55cc890cc4384f5141be5
ParentId: 0000000000000000
RequestId: 40003259-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

   OPENAI_API_KEY set: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:59:06Z"/><EventRecordID>1634035875</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: d0137b9302225d9d
TraceId: b0d53f029cc55cc890cc4384f5141be5
ParentId: 0000000000000000
RequestId: 40003259-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

   OPENAI_ENDPOINT set: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:59:06Z"/><EventRecordID>1634035875</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: d0137b9302225d9d
TraceId: b0d53f029cc55cc890cc4384f5141be5
ParentId: 0000000000000000
RequestId: 40003259-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

   OPENAI_DEPLOYMENT_NAME set: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:59:07Z"/><EventRecordID>1634037062</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: d0137b9302225d9d
TraceId: b0d53f029cc55cc890cc4384f5141be5
ParentId: 0000000000000000
RequestId: 40003259-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE FUNCTION DEBUG: Running in Azure environment
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:59:07Z"/><EventRecordID>1634037062</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: d0137b9302225d9d
TraceId: b0d53f029cc55cc890cc4384f5141be5
ParentId: 0000000000000000
RequestId: 40003259-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE FUNCTION CONFIG: URL=https://fn-conversationsave.azurewebsites.net/***/conversations/update, HasKey=True, HasUserId=False, HasUserEmail=False
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:59:07Z"/><EventRecordID>1634037078</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: d0137b9302225d9d
TraceId: b0d53f029cc55cc890cc4384f5141be5
ParentId: 0000000000000000
RequestId: 40003259-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE_FUNCTION_SAVE_START [c9d99d8c]: Starting conversation save
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:59:07Z"/><EventRecordID>1634037109</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: d0137b9302225d9d
TraceId: b0d53f029cc55cc890cc4384f5141be5
ParentId: 0000000000000000
RequestId: 40003259-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Starting configuration retrieval for Azure Function
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:59:07Z"/><EventRecordID>1634037109</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: d0137b9302225d9d
TraceId: b0d53f029cc55cc890cc4384f5141be5
ParentId: 0000000000000000
RequestId: 40003259-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Raw env URL: [VALUE SET], Raw config URL: [NOT SET]
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:59:07Z"/><EventRecordID>1634037125</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: d0137b9302225d9d
TraceId: b0d53f029cc55cc890cc4384f5141be5
ParentId: 0000000000000000
RequestId: 40003259-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Key from env: True, Key from config: False
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:59:07Z"/><EventRecordID>1634037125</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: d0137b9302225d9d
TraceId: b0d53f029cc55cc890cc4384f5141be5
ParentId: 0000000000000000
RequestId: 40003259-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Final URL configured: True, URL value: https://fn-conversationsave.azurewebsites.net/****/conversations/update
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:59:07Z"/><EventRecordID>1634037140</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: d0137b9302225d9d
TraceId: b0d53f029cc55cc890cc4384f5141be5
ParentId: 0000000000000000
RequestId: 40003259-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Final Key configured: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T20:59:07Z"/><EventRecordID>1634037250</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: d0137b9302225d9d
TraceId: b0d53f029cc55cc890cc4384f5141be5
ParentId: 0000000000000000
RequestId: 40003259-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE_FUNCTION_SAVE_SUCCESS [c9d99d8c]: Successfully saved conversation
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:00:39Z"/><EventRecordID>1634128625</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 0ba61cd4193cdfa6
TraceId: d532053621b078b9a345e29ad857829e
ParentId: 0000000000000000
RequestId: 4000325b-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

DEBUG - OpenAI API Connection Details:
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:00:39Z"/><EventRecordID>1634128656</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 0ba61cd4193cdfa6
TraceId: d532053621b078b9a345e29ad857829e
ParentId: 0000000000000000
RequestId: 4000325b-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

OpenAI Endpoint: https://generalsearchai.openai.azure.com/
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:00:39Z"/><EventRecordID>1634128656</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 0ba61cd4193cdfa6
TraceId: d532053621b078b9a345e29ad857829e
ParentId: 0000000000000000
RequestId: 4000325b-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

OpenAI API Key Length: 84
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:00:39Z"/><EventRecordID>1634128671</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 0ba61cd4193cdfa6
TraceId: d532053621b078b9a345e29ad857829e
ParentId: 0000000000000000
RequestId: 4000325b-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

OpenAI IsConfigured: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:00:39Z"/><EventRecordID>1634128687</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 0ba61cd4193cdfa6
TraceId: d532053621b078b9a345e29ad857829e
ParentId: 0000000000000000
RequestId: 4000325b-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

API CALL DETAILS - Endpoint: https://generalsearchai.openai.azure.com/
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:00:39Z"/><EventRecordID>1634128687</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 0ba61cd4193cdfa6
TraceId: d532053621b078b9a345e29ad857829e
ParentId: 0000000000000000
RequestId: 4000325b-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

API CALL DETAILS - DeploymentName: gpt-4.1
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:00:39Z"/><EventRecordID>1634128687</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 0ba61cd4193cdfa6
TraceId: d532053621b078b9a345e29ad857829e
ParentId: 0000000000000000
RequestId: 4000325b-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

API CALL DETAILS - API Version: 2025-01-01-preview
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:00:39Z"/><EventRecordID>1634128703</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 0ba61cd4193cdfa6
TraceId: d532053621b078b9a345e29ad857829e
ParentId: 0000000000000000
RequestId: 4000325b-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

DETAILED OPENAI DIAGNOSTICS:
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:00:39Z"/><EventRecordID>1634128718</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 0ba61cd4193cdfa6
TraceId: d532053621b078b9a345e29ad857829e
ParentId: 0000000000000000
RequestId: 4000325b-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

1. Using OpenAIClient of type: Azure.AI.OpenAI.OpenAIClient
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:00:39Z"/><EventRecordID>1634128718</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 0ba61cd4193cdfa6
TraceId: d532053621b078b9a345e29ad857829e
ParentId: 0000000000000000
RequestId: 4000325b-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

2. Endpoint URL being used: https://generalsearchai.openai.azure.com/
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:00:39Z"/><EventRecordID>1634128734</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 0ba61cd4193cdfa6
TraceId: d532053621b078b9a345e29ad857829e
ParentId: 0000000000000000
RequestId: 4000325b-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

3. Deployment name being used: gpt-4.1
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:00:39Z"/><EventRecordID>1634128734</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 0ba61cd4193cdfa6
TraceId: d532053621b078b9a345e29ad857829e
ParentId: 0000000000000000
RequestId: 4000325b-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

4. Environment variables:
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:00:39Z"/><EventRecordID>1634128750</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 0ba61cd4193cdfa6
TraceId: d532053621b078b9a345e29ad857829e
ParentId: 0000000000000000
RequestId: 4000325b-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

   OPENAI_API_KEY set: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:00:39Z"/><EventRecordID>1634128750</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 0ba61cd4193cdfa6
TraceId: d532053621b078b9a345e29ad857829e
ParentId: 0000000000000000
RequestId: 4000325b-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

   OPENAI_ENDPOINT set: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:00:39Z"/><EventRecordID>1634128765</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 0ba61cd4193cdfa6
TraceId: d532053621b078b9a345e29ad857829e
ParentId: 0000000000000000
RequestId: 4000325b-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

   OPENAI_DEPLOYMENT_NAME set: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:00:43Z"/><EventRecordID>1634132656</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 0ba61cd4193cdfa6
TraceId: d532053621b078b9a345e29ad857829e
ParentId: 0000000000000000
RequestId: 4000325b-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE FUNCTION DEBUG: Running in Azure environment
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:00:43Z"/><EventRecordID>1634132671</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 0ba61cd4193cdfa6
TraceId: d532053621b078b9a345e29ad857829e
ParentId: 0000000000000000
RequestId: 4000325b-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE FUNCTION CONFIG: URL=https://fn-conversationsave.azurewebsites.net/***/conversations/update, HasKey=True, HasUserId=False, HasUserEmail=False
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:00:43Z"/><EventRecordID>1634132687</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 0ba61cd4193cdfa6
TraceId: d532053621b078b9a345e29ad857829e
ParentId: 0000000000000000
RequestId: 4000325b-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE_FUNCTION_SAVE_START [17c33c98]: Starting conversation save
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:00:43Z"/><EventRecordID>1634132687</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 0ba61cd4193cdfa6
TraceId: d532053621b078b9a345e29ad857829e
ParentId: 0000000000000000
RequestId: 4000325b-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Starting configuration retrieval for Azure Function
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:00:43Z"/><EventRecordID>1634132703</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 0ba61cd4193cdfa6
TraceId: d532053621b078b9a345e29ad857829e
ParentId: 0000000000000000
RequestId: 4000325b-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Raw env URL: [VALUE SET], Raw config URL: [NOT SET]
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:00:43Z"/><EventRecordID>1634132703</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 0ba61cd4193cdfa6
TraceId: d532053621b078b9a345e29ad857829e
ParentId: 0000000000000000
RequestId: 4000325b-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Key from env: True, Key from config: False
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:00:43Z"/><EventRecordID>1634132718</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 0ba61cd4193cdfa6
TraceId: d532053621b078b9a345e29ad857829e
ParentId: 0000000000000000
RequestId: 4000325b-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Final URL configured: True, URL value: https://fn-conversationsave.azurewebsites.net/****/conversations/update
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:00:43Z"/><EventRecordID>1634132718</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 0ba61cd4193cdfa6
TraceId: d532053621b078b9a345e29ad857829e
ParentId: 0000000000000000
RequestId: 4000325b-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Final Key configured: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:00:43Z"/><EventRecordID>1634132953</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 0ba61cd4193cdfa6
TraceId: d532053621b078b9a345e29ad857829e
ParentId: 0000000000000000
RequestId: 4000325b-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE_FUNCTION_SAVE_SUCCESS [17c33c98]: Successfully saved conversation
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:01:56Z"/><EventRecordID>1634205828</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 4327b8e9b4644dd6
TraceId: ad9fd18d71f0034737d2e909525127ff
ParentId: 0000000000000000
RequestId: 4000325d-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

DEBUG - OpenAI API Connection Details:
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:01:56Z"/><EventRecordID>1634205828</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 4327b8e9b4644dd6
TraceId: ad9fd18d71f0034737d2e909525127ff
ParentId: 0000000000000000
RequestId: 4000325d-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

OpenAI Endpoint: https://generalsearchai.openai.azure.com/
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:01:56Z"/><EventRecordID>1634205843</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 4327b8e9b4644dd6
TraceId: ad9fd18d71f0034737d2e909525127ff
ParentId: 0000000000000000
RequestId: 4000325d-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

OpenAI API Key Length: 84
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:01:56Z"/><EventRecordID>1634205875</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 4327b8e9b4644dd6
TraceId: ad9fd18d71f0034737d2e909525127ff
ParentId: 0000000000000000
RequestId: 4000325d-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

OpenAI IsConfigured: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:01:56Z"/><EventRecordID>1634205890</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 4327b8e9b4644dd6
TraceId: ad9fd18d71f0034737d2e909525127ff
ParentId: 0000000000000000
RequestId: 4000325d-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

API CALL DETAILS - Endpoint: https://generalsearchai.openai.azure.com/
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:01:56Z"/><EventRecordID>1634205890</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 4327b8e9b4644dd6
TraceId: ad9fd18d71f0034737d2e909525127ff
ParentId: 0000000000000000
RequestId: 4000325d-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

API CALL DETAILS - DeploymentName: gpt-4.1
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:01:56Z"/><EventRecordID>1634205906</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 4327b8e9b4644dd6
TraceId: ad9fd18d71f0034737d2e909525127ff
ParentId: 0000000000000000
RequestId: 4000325d-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

API CALL DETAILS - API Version: 2025-01-01-preview
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:01:56Z"/><EventRecordID>1634205921</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 4327b8e9b4644dd6
TraceId: ad9fd18d71f0034737d2e909525127ff
ParentId: 0000000000000000
RequestId: 4000325d-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

DETAILED OPENAI DIAGNOSTICS:
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:01:56Z"/><EventRecordID>1634205937</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 4327b8e9b4644dd6
TraceId: ad9fd18d71f0034737d2e909525127ff
ParentId: 0000000000000000
RequestId: 4000325d-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

1. Using OpenAIClient of type: Azure.AI.OpenAI.OpenAIClient
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:01:56Z"/><EventRecordID>1634205937</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 4327b8e9b4644dd6
TraceId: ad9fd18d71f0034737d2e909525127ff
ParentId: 0000000000000000
RequestId: 4000325d-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

2. Endpoint URL being used: https://generalsearchai.openai.azure.com/
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:01:56Z"/><EventRecordID>1634205953</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 4327b8e9b4644dd6
TraceId: ad9fd18d71f0034737d2e909525127ff
ParentId: 0000000000000000
RequestId: 4000325d-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

3. Deployment name being used: gpt-4.1
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:01:56Z"/><EventRecordID>1634205953</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 4327b8e9b4644dd6
TraceId: ad9fd18d71f0034737d2e909525127ff
ParentId: 0000000000000000
RequestId: 4000325d-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

4. Environment variables:
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:01:56Z"/><EventRecordID>1634205968</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 4327b8e9b4644dd6
TraceId: ad9fd18d71f0034737d2e909525127ff
ParentId: 0000000000000000
RequestId: 4000325d-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

   OPENAI_API_KEY set: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:01:56Z"/><EventRecordID>1634205968</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 4327b8e9b4644dd6
TraceId: ad9fd18d71f0034737d2e909525127ff
ParentId: 0000000000000000
RequestId: 4000325d-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

   OPENAI_ENDPOINT set: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:01:56Z"/><EventRecordID>1634205984</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 4327b8e9b4644dd6
TraceId: ad9fd18d71f0034737d2e909525127ff
ParentId: 0000000000000000
RequestId: 4000325d-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

   OPENAI_DEPLOYMENT_NAME set: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:01:58Z"/><EventRecordID>1634207671</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 4327b8e9b4644dd6
TraceId: ad9fd18d71f0034737d2e909525127ff
ParentId: 0000000000000000
RequestId: 4000325d-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE FUNCTION DEBUG: Running in Azure environment
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:01:58Z"/><EventRecordID>1634207671</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 4327b8e9b4644dd6
TraceId: ad9fd18d71f0034737d2e909525127ff
ParentId: 0000000000000000
RequestId: 4000325d-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE FUNCTION CONFIG: URL=https://fn-conversationsave.azurewebsites.net/***/conversations/update, HasKey=True, HasUserId=False, HasUserEmail=False
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:01:58Z"/><EventRecordID>1634207687</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 4327b8e9b4644dd6
TraceId: ad9fd18d71f0034737d2e909525127ff
ParentId: 0000000000000000
RequestId: 4000325d-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE_FUNCTION_SAVE_START [36f72090]: Starting conversation save
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:01:58Z"/><EventRecordID>1634207703</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 4327b8e9b4644dd6
TraceId: ad9fd18d71f0034737d2e909525127ff
ParentId: 0000000000000000
RequestId: 4000325d-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Starting configuration retrieval for Azure Function
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:01:58Z"/><EventRecordID>1634207703</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 4327b8e9b4644dd6
TraceId: ad9fd18d71f0034737d2e909525127ff
ParentId: 0000000000000000
RequestId: 4000325d-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Raw env URL: [VALUE SET], Raw config URL: [NOT SET]
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:01:58Z"/><EventRecordID>1634207718</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 4327b8e9b4644dd6
TraceId: ad9fd18d71f0034737d2e909525127ff
ParentId: 0000000000000000
RequestId: 4000325d-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Key from env: True, Key from config: False
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:01:58Z"/><EventRecordID>1634207718</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 4327b8e9b4644dd6
TraceId: ad9fd18d71f0034737d2e909525127ff
ParentId: 0000000000000000
RequestId: 4000325d-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Final URL configured: True, URL value: https://fn-conversationsave.azurewebsites.net/****/conversations/update
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:01:58Z"/><EventRecordID>1634207734</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 4327b8e9b4644dd6
TraceId: ad9fd18d71f0034737d2e909525127ff
ParentId: 0000000000000000
RequestId: 4000325d-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Final Key configured: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:01:58Z"/><EventRecordID>1634208046</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 4327b8e9b4644dd6
TraceId: ad9fd18d71f0034737d2e909525127ff
ParentId: 0000000000000000
RequestId: 4000325d-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE_FUNCTION_SAVE_SUCCESS [36f72090]: Successfully saved conversation
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:02:53Z"/><EventRecordID>1634262968</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 637a24a4c3a47ca8
TraceId: b594a04351554946cdaeb579aa891be5
ParentId: 0000000000000000
RequestId: 4000325e-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

DEBUG - OpenAI API Connection Details:
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:02:53Z"/><EventRecordID>1634262984</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 637a24a4c3a47ca8
TraceId: b594a04351554946cdaeb579aa891be5
ParentId: 0000000000000000
RequestId: 4000325e-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

OpenAI Endpoint: https://generalsearchai.openai.azure.com/
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:02:53Z"/><EventRecordID>1634263000</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 637a24a4c3a47ca8
TraceId: b594a04351554946cdaeb579aa891be5
ParentId: 0000000000000000
RequestId: 4000325e-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

OpenAI API Key Length: 84
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:02:53Z"/><EventRecordID>1634263000</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 637a24a4c3a47ca8
TraceId: b594a04351554946cdaeb579aa891be5
ParentId: 0000000000000000
RequestId: 4000325e-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

OpenAI IsConfigured: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:02:53Z"/><EventRecordID>1634263015</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 637a24a4c3a47ca8
TraceId: b594a04351554946cdaeb579aa891be5
ParentId: 0000000000000000
RequestId: 4000325e-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

API CALL DETAILS - Endpoint: https://generalsearchai.openai.azure.com/
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:02:53Z"/><EventRecordID>1634263015</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 637a24a4c3a47ca8
TraceId: b594a04351554946cdaeb579aa891be5
ParentId: 0000000000000000
RequestId: 4000325e-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

API CALL DETAILS - DeploymentName: gpt-4.1
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:02:53Z"/><EventRecordID>1634263031</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 637a24a4c3a47ca8
TraceId: b594a04351554946cdaeb579aa891be5
ParentId: 0000000000000000
RequestId: 4000325e-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

API CALL DETAILS - API Version: 2025-01-01-preview
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:02:53Z"/><EventRecordID>1634263031</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 637a24a4c3a47ca8
TraceId: b594a04351554946cdaeb579aa891be5
ParentId: 0000000000000000
RequestId: 4000325e-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

DETAILED OPENAI DIAGNOSTICS:
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:02:53Z"/><EventRecordID>1634263046</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 637a24a4c3a47ca8
TraceId: b594a04351554946cdaeb579aa891be5
ParentId: 0000000000000000
RequestId: 4000325e-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

1. Using OpenAIClient of type: Azure.AI.OpenAI.OpenAIClient
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:02:53Z"/><EventRecordID>1634263046</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 637a24a4c3a47ca8
TraceId: b594a04351554946cdaeb579aa891be5
ParentId: 0000000000000000
RequestId: 4000325e-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

2. Endpoint URL being used: https://generalsearchai.openai.azure.com/
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:02:53Z"/><EventRecordID>1634263062</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 637a24a4c3a47ca8
TraceId: b594a04351554946cdaeb579aa891be5
ParentId: 0000000000000000
RequestId: 4000325e-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

3. Deployment name being used: gpt-4.1
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:02:53Z"/><EventRecordID>1634263062</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 637a24a4c3a47ca8
TraceId: b594a04351554946cdaeb579aa891be5
ParentId: 0000000000000000
RequestId: 4000325e-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

4. Environment variables:
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:02:53Z"/><EventRecordID>1634263078</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 637a24a4c3a47ca8
TraceId: b594a04351554946cdaeb579aa891be5
ParentId: 0000000000000000
RequestId: 4000325e-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

   OPENAI_API_KEY set: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:02:53Z"/><EventRecordID>1634263078</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 637a24a4c3a47ca8
TraceId: b594a04351554946cdaeb579aa891be5
ParentId: 0000000000000000
RequestId: 4000325e-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

   OPENAI_ENDPOINT set: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:02:53Z"/><EventRecordID>1634263093</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 637a24a4c3a47ca8
TraceId: b594a04351554946cdaeb579aa891be5
ParentId: 0000000000000000
RequestId: 4000325e-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

   OPENAI_DEPLOYMENT_NAME set: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:02:55Z"/><EventRecordID>1634265468</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 637a24a4c3a47ca8
TraceId: b594a04351554946cdaeb579aa891be5
ParentId: 0000000000000000
RequestId: 4000325e-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE FUNCTION DEBUG: Running in Azure environment
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:02:55Z"/><EventRecordID>1634265468</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 637a24a4c3a47ca8
TraceId: b594a04351554946cdaeb579aa891be5
ParentId: 0000000000000000
RequestId: 4000325e-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE FUNCTION CONFIG: URL=https://fn-conversationsave.azurewebsites.net/***/conversations/update, HasKey=True, HasUserId=False, HasUserEmail=False
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:02:55Z"/><EventRecordID>1634265484</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 637a24a4c3a47ca8
TraceId: b594a04351554946cdaeb579aa891be5
ParentId: 0000000000000000
RequestId: 4000325e-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE_FUNCTION_SAVE_START [0551dee6]: Starting conversation save
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:02:55Z"/><EventRecordID>1634265484</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 637a24a4c3a47ca8
TraceId: b594a04351554946cdaeb579aa891be5
ParentId: 0000000000000000
RequestId: 4000325e-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Starting configuration retrieval for Azure Function
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:02:55Z"/><EventRecordID>1634265515</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 637a24a4c3a47ca8
TraceId: b594a04351554946cdaeb579aa891be5
ParentId: 0000000000000000
RequestId: 4000325e-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Raw env URL: [VALUE SET], Raw config URL: [NOT SET]
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:02:55Z"/><EventRecordID>1634265515</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 637a24a4c3a47ca8
TraceId: b594a04351554946cdaeb579aa891be5
ParentId: 0000000000000000
RequestId: 4000325e-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Key from env: True, Key from config: False
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:02:55Z"/><EventRecordID>1634265515</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 637a24a4c3a47ca8
TraceId: b594a04351554946cdaeb579aa891be5
ParentId: 0000000000000000
RequestId: 4000325e-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Final URL configured: True, URL value: https://fn-conversationsave.azurewebsites.net/****/conversations/update
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:02:56Z"/><EventRecordID>1634265531</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 637a24a4c3a47ca8
TraceId: b594a04351554946cdaeb579aa891be5
ParentId: 0000000000000000
RequestId: 4000325e-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Final Key configured: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:02:56Z"/><EventRecordID>1634265734</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 637a24a4c3a47ca8
TraceId: b594a04351554946cdaeb579aa891be5
ParentId: 0000000000000000
RequestId: 4000325e-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE_FUNCTION_SAVE_SUCCESS [0551dee6]: Successfully saved conversation
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:03:38Z"/><EventRecordID>1634307890</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 0e53d08172a92003
TraceId: f496e6bf787e27f3baa74b95e4de27a9
ParentId: 0000000000000000
RequestId: 40003260-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

DEBUG - OpenAI API Connection Details:
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:03:38Z"/><EventRecordID>1634307890</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 0e53d08172a92003
TraceId: f496e6bf787e27f3baa74b95e4de27a9
ParentId: 0000000000000000
RequestId: 40003260-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

OpenAI Endpoint: https://generalsearchai.openai.azure.com/
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:03:38Z"/><EventRecordID>1634307906</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 0e53d08172a92003
TraceId: f496e6bf787e27f3baa74b95e4de27a9
ParentId: 0000000000000000
RequestId: 40003260-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

OpenAI API Key Length: 84
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:03:38Z"/><EventRecordID>1634307906</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 0e53d08172a92003
TraceId: f496e6bf787e27f3baa74b95e4de27a9
ParentId: 0000000000000000
RequestId: 40003260-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

OpenAI IsConfigured: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:03:38Z"/><EventRecordID>1634307921</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 0e53d08172a92003
TraceId: f496e6bf787e27f3baa74b95e4de27a9
ParentId: 0000000000000000
RequestId: 40003260-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

API CALL DETAILS - Endpoint: https://generalsearchai.openai.azure.com/
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:03:38Z"/><EventRecordID>1634307937</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 0e53d08172a92003
TraceId: f496e6bf787e27f3baa74b95e4de27a9
ParentId: 0000000000000000
RequestId: 40003260-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

API CALL DETAILS - DeploymentName: gpt-4.1
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:03:38Z"/><EventRecordID>1634307937</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 0e53d08172a92003
TraceId: f496e6bf787e27f3baa74b95e4de27a9
ParentId: 0000000000000000
RequestId: 40003260-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

API CALL DETAILS - API Version: 2025-01-01-preview
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:03:38Z"/><EventRecordID>1634307953</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 0e53d08172a92003
TraceId: f496e6bf787e27f3baa74b95e4de27a9
ParentId: 0000000000000000
RequestId: 40003260-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

DETAILED OPENAI DIAGNOSTICS:
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:03:38Z"/><EventRecordID>1634307953</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 0e53d08172a92003
TraceId: f496e6bf787e27f3baa74b95e4de27a9
ParentId: 0000000000000000
RequestId: 40003260-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

1. Using OpenAIClient of type: Azure.AI.OpenAI.OpenAIClient
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:03:38Z"/><EventRecordID>1634307984</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 0e53d08172a92003
TraceId: f496e6bf787e27f3baa74b95e4de27a9
ParentId: 0000000000000000
RequestId: 40003260-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

2. Endpoint URL being used: https://generalsearchai.openai.azure.com/
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:03:38Z"/><EventRecordID>1634308000</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 0e53d08172a92003
TraceId: f496e6bf787e27f3baa74b95e4de27a9
ParentId: 0000000000000000
RequestId: 40003260-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

3. Deployment name being used: gpt-4.1
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:03:38Z"/><EventRecordID>1634308015</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 0e53d08172a92003
TraceId: f496e6bf787e27f3baa74b95e4de27a9
ParentId: 0000000000000000
RequestId: 40003260-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

4. Environment variables:
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:03:38Z"/><EventRecordID>1634308031</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 0e53d08172a92003
TraceId: f496e6bf787e27f3baa74b95e4de27a9
ParentId: 0000000000000000
RequestId: 40003260-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

   OPENAI_API_KEY set: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:03:38Z"/><EventRecordID>1634308031</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 0e53d08172a92003
TraceId: f496e6bf787e27f3baa74b95e4de27a9
ParentId: 0000000000000000
RequestId: 40003260-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

   OPENAI_ENDPOINT set: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:03:38Z"/><EventRecordID>1634308046</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 0e53d08172a92003
TraceId: f496e6bf787e27f3baa74b95e4de27a9
ParentId: 0000000000000000
RequestId: 40003260-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

   OPENAI_DEPLOYMENT_NAME set: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:03:40Z"/><EventRecordID>1634310093</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 0e53d08172a92003
TraceId: f496e6bf787e27f3baa74b95e4de27a9
ParentId: 0000000000000000
RequestId: 40003260-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE FUNCTION DEBUG: Running in Azure environment
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:03:40Z"/><EventRecordID>1634310109</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 0e53d08172a92003
TraceId: f496e6bf787e27f3baa74b95e4de27a9
ParentId: 0000000000000000
RequestId: 40003260-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE FUNCTION CONFIG: URL=https://fn-conversationsave.azurewebsites.net/***/conversations/update, HasKey=True, HasUserId=False, HasUserEmail=False
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:03:40Z"/><EventRecordID>1634310125</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 0e53d08172a92003
TraceId: f496e6bf787e27f3baa74b95e4de27a9
ParentId: 0000000000000000
RequestId: 40003260-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE_FUNCTION_SAVE_START [00447d3e]: Starting conversation save
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:03:40Z"/><EventRecordID>1634310140</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 0e53d08172a92003
TraceId: f496e6bf787e27f3baa74b95e4de27a9
ParentId: 0000000000000000
RequestId: 40003260-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Starting configuration retrieval for Azure Function
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:03:40Z"/><EventRecordID>1634310156</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 0e53d08172a92003
TraceId: f496e6bf787e27f3baa74b95e4de27a9
ParentId: 0000000000000000
RequestId: 40003260-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Raw env URL: [VALUE SET], Raw config URL: [NOT SET]
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:03:40Z"/><EventRecordID>1634310171</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 0e53d08172a92003
TraceId: f496e6bf787e27f3baa74b95e4de27a9
ParentId: 0000000000000000
RequestId: 40003260-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Key from env: True, Key from config: False
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:03:40Z"/><EventRecordID>1634310171</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 0e53d08172a92003
TraceId: f496e6bf787e27f3baa74b95e4de27a9
ParentId: 0000000000000000
RequestId: 40003260-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Final URL configured: True, URL value: https://fn-conversationsave.azurewebsites.net/****/conversations/update
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:03:40Z"/><EventRecordID>1634310171</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 0e53d08172a92003
TraceId: f496e6bf787e27f3baa74b95e4de27a9
ParentId: 0000000000000000
RequestId: 40003260-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Final Key configured: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:03:40Z"/><EventRecordID>1634310312</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 0e53d08172a92003
TraceId: f496e6bf787e27f3baa74b95e4de27a9
ParentId: 0000000000000000
RequestId: 40003260-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE_FUNCTION_SAVE_SUCCESS [00447d3e]: Successfully saved conversation
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:04:29Z"/><EventRecordID>1634359109</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 778567fa4c273a1a
TraceId: 0cbfadb957dd3e69445b104331489709
ParentId: 0000000000000000
RequestId: 40003261-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

DEBUG - OpenAI API Connection Details:
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:04:29Z"/><EventRecordID>1634359140</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 778567fa4c273a1a
TraceId: 0cbfadb957dd3e69445b104331489709
ParentId: 0000000000000000
RequestId: 40003261-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

OpenAI Endpoint: https://generalsearchai.openai.azure.com/
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:04:29Z"/><EventRecordID>1634359156</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 778567fa4c273a1a
TraceId: 0cbfadb957dd3e69445b104331489709
ParentId: 0000000000000000
RequestId: 40003261-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

OpenAI API Key Length: 84
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:04:29Z"/><EventRecordID>1634359171</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 778567fa4c273a1a
TraceId: 0cbfadb957dd3e69445b104331489709
ParentId: 0000000000000000
RequestId: 40003261-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

OpenAI IsConfigured: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:04:29Z"/><EventRecordID>1634359187</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 778567fa4c273a1a
TraceId: 0cbfadb957dd3e69445b104331489709
ParentId: 0000000000000000
RequestId: 40003261-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

API CALL DETAILS - Endpoint: https://generalsearchai.openai.azure.com/
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:04:29Z"/><EventRecordID>1634359203</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 778567fa4c273a1a
TraceId: 0cbfadb957dd3e69445b104331489709
ParentId: 0000000000000000
RequestId: 40003261-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

API CALL DETAILS - DeploymentName: gpt-4.1
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:04:29Z"/><EventRecordID>1634359234</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 778567fa4c273a1a
TraceId: 0cbfadb957dd3e69445b104331489709
ParentId: 0000000000000000
RequestId: 40003261-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

API CALL DETAILS - API Version: 2025-01-01-preview
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:04:29Z"/><EventRecordID>1634359250</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 778567fa4c273a1a
TraceId: 0cbfadb957dd3e69445b104331489709
ParentId: 0000000000000000
RequestId: 40003261-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

DETAILED OPENAI DIAGNOSTICS:
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:04:29Z"/><EventRecordID>1634359281</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 778567fa4c273a1a
TraceId: 0cbfadb957dd3e69445b104331489709
ParentId: 0000000000000000
RequestId: 40003261-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

1. Using OpenAIClient of type: Azure.AI.OpenAI.OpenAIClient
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:04:29Z"/><EventRecordID>1634359296</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 778567fa4c273a1a
TraceId: 0cbfadb957dd3e69445b104331489709
ParentId: 0000000000000000
RequestId: 40003261-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

2. Endpoint URL being used: https://generalsearchai.openai.azure.com/
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:04:29Z"/><EventRecordID>1634359296</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 778567fa4c273a1a
TraceId: 0cbfadb957dd3e69445b104331489709
ParentId: 0000000000000000
RequestId: 40003261-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

3. Deployment name being used: gpt-4.1
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:04:29Z"/><EventRecordID>1634359312</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 778567fa4c273a1a
TraceId: 0cbfadb957dd3e69445b104331489709
ParentId: 0000000000000000
RequestId: 40003261-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

4. Environment variables:
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:04:29Z"/><EventRecordID>1634359343</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 778567fa4c273a1a
TraceId: 0cbfadb957dd3e69445b104331489709
ParentId: 0000000000000000
RequestId: 40003261-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

   OPENAI_API_KEY set: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:04:29Z"/><EventRecordID>1634359359</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 778567fa4c273a1a
TraceId: 0cbfadb957dd3e69445b104331489709
ParentId: 0000000000000000
RequestId: 40003261-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

   OPENAI_ENDPOINT set: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:04:29Z"/><EventRecordID>1634359375</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 778567fa4c273a1a
TraceId: 0cbfadb957dd3e69445b104331489709
ParentId: 0000000000000000
RequestId: 40003261-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

   OPENAI_DEPLOYMENT_NAME set: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:04:31Z"/><EventRecordID>1634360828</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 778567fa4c273a1a
TraceId: 0cbfadb957dd3e69445b104331489709
ParentId: 0000000000000000
RequestId: 40003261-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE FUNCTION DEBUG: Running in Azure environment
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:04:31Z"/><EventRecordID>1634360984</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 778567fa4c273a1a
TraceId: 0cbfadb957dd3e69445b104331489709
ParentId: 0000000000000000
RequestId: 40003261-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE FUNCTION CONFIG: URL=https://fn-conversationsave.azurewebsites.net/***/conversations/update, HasKey=True, HasUserId=False, HasUserEmail=False
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:04:31Z"/><EventRecordID>1634361250</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 778567fa4c273a1a
TraceId: 0cbfadb957dd3e69445b104331489709
ParentId: 0000000000000000
RequestId: 40003261-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE_FUNCTION_SAVE_START [8195f56a]: Starting conversation save
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:04:32Z"/><EventRecordID>1634361687</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 778567fa4c273a1a
TraceId: 0cbfadb957dd3e69445b104331489709
ParentId: 0000000000000000
RequestId: 40003261-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Starting configuration retrieval for Azure Function
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:04:33Z"/><EventRecordID>1634362703</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 778567fa4c273a1a
TraceId: 0cbfadb957dd3e69445b104331489709
ParentId: 0000000000000000
RequestId: 40003261-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Raw env URL: [VALUE SET], Raw config URL: [NOT SET]
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:04:33Z"/><EventRecordID>1634362953</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 778567fa4c273a1a
TraceId: 0cbfadb957dd3e69445b104331489709
ParentId: 0000000000000000
RequestId: 40003261-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Key from env: True, Key from config: False
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:04:33Z"/><EventRecordID>1634363156</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 778567fa4c273a1a
TraceId: 0cbfadb957dd3e69445b104331489709
ParentId: 0000000000000000
RequestId: 40003261-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Final URL configured: True, URL value: https://fn-conversationsave.azurewebsites.net/****/conversations/update
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:04:33Z"/><EventRecordID>1634363203</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 778567fa4c273a1a
TraceId: 0cbfadb957dd3e69445b104331489709
ParentId: 0000000000000000
RequestId: 40003261-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Final Key configured: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:04:33Z"/><EventRecordID>1634363453</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 778567fa4c273a1a
TraceId: 0cbfadb957dd3e69445b104331489709
ParentId: 0000000000000000
RequestId: 40003261-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE_FUNCTION_SAVE_SUCCESS [8195f56a]: Successfully saved conversation
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:04:58Z"/><EventRecordID>1634387703</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 9d7ef428da7d2466
TraceId: cfa00e6e3bae1c8e223e1b03e0ad3515
ParentId: 0000000000000000
RequestId: 40003262-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

DEBUG - OpenAI API Connection Details:
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:04:58Z"/><EventRecordID>1634387703</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 9d7ef428da7d2466
TraceId: cfa00e6e3bae1c8e223e1b03e0ad3515
ParentId: 0000000000000000
RequestId: 40003262-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

OpenAI Endpoint: https://generalsearchai.openai.azure.com/
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:04:58Z"/><EventRecordID>1634387734</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 9d7ef428da7d2466
TraceId: cfa00e6e3bae1c8e223e1b03e0ad3515
ParentId: 0000000000000000
RequestId: 40003262-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

OpenAI API Key Length: 84
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:04:58Z"/><EventRecordID>1634387750</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 9d7ef428da7d2466
TraceId: cfa00e6e3bae1c8e223e1b03e0ad3515
ParentId: 0000000000000000
RequestId: 40003262-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

OpenAI IsConfigured: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:04:58Z"/><EventRecordID>1634387765</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 9d7ef428da7d2466
TraceId: cfa00e6e3bae1c8e223e1b03e0ad3515
ParentId: 0000000000000000
RequestId: 40003262-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

API CALL DETAILS - Endpoint: https://generalsearchai.openai.azure.com/
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:04:58Z"/><EventRecordID>1634387781</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 9d7ef428da7d2466
TraceId: cfa00e6e3bae1c8e223e1b03e0ad3515
ParentId: 0000000000000000
RequestId: 40003262-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

API CALL DETAILS - DeploymentName: gpt-4.1
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:04:58Z"/><EventRecordID>1634387796</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 9d7ef428da7d2466
TraceId: cfa00e6e3bae1c8e223e1b03e0ad3515
ParentId: 0000000000000000
RequestId: 40003262-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

API CALL DETAILS - API Version: 2025-01-01-preview
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:04:58Z"/><EventRecordID>1634387796</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 9d7ef428da7d2466
TraceId: cfa00e6e3bae1c8e223e1b03e0ad3515
ParentId: 0000000000000000
RequestId: 40003262-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

DETAILED OPENAI DIAGNOSTICS:
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:04:58Z"/><EventRecordID>1634387812</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 9d7ef428da7d2466
TraceId: cfa00e6e3bae1c8e223e1b03e0ad3515
ParentId: 0000000000000000
RequestId: 40003262-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

1. Using OpenAIClient of type: Azure.AI.OpenAI.OpenAIClient
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:04:58Z"/><EventRecordID>1634387828</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 9d7ef428da7d2466
TraceId: cfa00e6e3bae1c8e223e1b03e0ad3515
ParentId: 0000000000000000
RequestId: 40003262-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

2. Endpoint URL being used: https://generalsearchai.openai.azure.com/
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:04:58Z"/><EventRecordID>1634387843</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 9d7ef428da7d2466
TraceId: cfa00e6e3bae1c8e223e1b03e0ad3515
ParentId: 0000000000000000
RequestId: 40003262-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

3. Deployment name being used: gpt-4.1
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:04:58Z"/><EventRecordID>1634387843</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 9d7ef428da7d2466
TraceId: cfa00e6e3bae1c8e223e1b03e0ad3515
ParentId: 0000000000000000
RequestId: 40003262-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

4. Environment variables:
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:04:58Z"/><EventRecordID>1634387859</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 9d7ef428da7d2466
TraceId: cfa00e6e3bae1c8e223e1b03e0ad3515
ParentId: 0000000000000000
RequestId: 40003262-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

   OPENAI_API_KEY set: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:04:58Z"/><EventRecordID>1634387875</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 9d7ef428da7d2466
TraceId: cfa00e6e3bae1c8e223e1b03e0ad3515
ParentId: 0000000000000000
RequestId: 40003262-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

   OPENAI_ENDPOINT set: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:04:58Z"/><EventRecordID>1634387906</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 9d7ef428da7d2466
TraceId: cfa00e6e3bae1c8e223e1b03e0ad3515
ParentId: 0000000000000000
RequestId: 40003262-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

   OPENAI_DEPLOYMENT_NAME set: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:05:01Z"/><EventRecordID>1634390968</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 9d7ef428da7d2466
TraceId: cfa00e6e3bae1c8e223e1b03e0ad3515
ParentId: 0000000000000000
RequestId: 40003262-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE FUNCTION DEBUG: Running in Azure environment
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:05:01Z"/><EventRecordID>1634391000</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 9d7ef428da7d2466
TraceId: cfa00e6e3bae1c8e223e1b03e0ad3515
ParentId: 0000000000000000
RequestId: 40003262-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE FUNCTION CONFIG: URL=https://fn-conversationsave.azurewebsites.net/***/conversations/update, HasKey=True, HasUserId=False, HasUserEmail=False
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:05:01Z"/><EventRecordID>1634391015</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 9d7ef428da7d2466
TraceId: cfa00e6e3bae1c8e223e1b03e0ad3515
ParentId: 0000000000000000
RequestId: 40003262-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE_FUNCTION_SAVE_START [0343b098]: Starting conversation save
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:05:01Z"/><EventRecordID>1634391031</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 9d7ef428da7d2466
TraceId: cfa00e6e3bae1c8e223e1b03e0ad3515
ParentId: 0000000000000000
RequestId: 40003262-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Starting configuration retrieval for Azure Function
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:05:01Z"/><EventRecordID>1634391031</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 9d7ef428da7d2466
TraceId: cfa00e6e3bae1c8e223e1b03e0ad3515
ParentId: 0000000000000000
RequestId: 40003262-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Raw env URL: [VALUE SET], Raw config URL: [NOT SET]
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:05:01Z"/><EventRecordID>1634391046</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 9d7ef428da7d2466
TraceId: cfa00e6e3bae1c8e223e1b03e0ad3515
ParentId: 0000000000000000
RequestId: 40003262-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Key from env: True, Key from config: False
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:05:01Z"/><EventRecordID>1634391046</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 9d7ef428da7d2466
TraceId: cfa00e6e3bae1c8e223e1b03e0ad3515
ParentId: 0000000000000000
RequestId: 40003262-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Final URL configured: True, URL value: https://fn-conversationsave.azurewebsites.net/****/conversations/update
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:05:01Z"/><EventRecordID>1634391078</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 9d7ef428da7d2466
TraceId: cfa00e6e3bae1c8e223e1b03e0ad3515
ParentId: 0000000000000000
RequestId: 40003262-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Final Key configured: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:05:01Z"/><EventRecordID>1634391234</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 9d7ef428da7d2466
TraceId: cfa00e6e3bae1c8e223e1b03e0ad3515
ParentId: 0000000000000000
RequestId: 40003262-0000-d400-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE_FUNCTION_SAVE_SUCCESS [0343b098]: Successfully saved conversation
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:07:59Z"/><EventRecordID>1634569203</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 85fd0dfc30b3f311
TraceId: 22e5df1a89c7c6e856e89076de57d1f0
ParentId: 0000000000000000
RequestId: 40006105-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

DEBUG - OpenAI API Connection Details:
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:07:59Z"/><EventRecordID>1634569218</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 85fd0dfc30b3f311
TraceId: 22e5df1a89c7c6e856e89076de57d1f0
ParentId: 0000000000000000
RequestId: 40006105-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

OpenAI Endpoint: https://generalsearchai.openai.azure.com/
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:07:59Z"/><EventRecordID>1634569234</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 85fd0dfc30b3f311
TraceId: 22e5df1a89c7c6e856e89076de57d1f0
ParentId: 0000000000000000
RequestId: 40006105-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

OpenAI API Key Length: 84
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:07:59Z"/><EventRecordID>1634569250</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 85fd0dfc30b3f311
TraceId: 22e5df1a89c7c6e856e89076de57d1f0
ParentId: 0000000000000000
RequestId: 40006105-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

OpenAI IsConfigured: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:07:59Z"/><EventRecordID>1634569281</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 85fd0dfc30b3f311
TraceId: 22e5df1a89c7c6e856e89076de57d1f0
ParentId: 0000000000000000
RequestId: 40006105-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

API CALL DETAILS - Endpoint: https://generalsearchai.openai.azure.com/
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:07:59Z"/><EventRecordID>1634569281</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 85fd0dfc30b3f311
TraceId: 22e5df1a89c7c6e856e89076de57d1f0
ParentId: 0000000000000000
RequestId: 40006105-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

API CALL DETAILS - DeploymentName: gpt-4.1
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:07:59Z"/><EventRecordID>1634569296</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 85fd0dfc30b3f311
TraceId: 22e5df1a89c7c6e856e89076de57d1f0
ParentId: 0000000000000000
RequestId: 40006105-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

API CALL DETAILS - API Version: 2025-01-01-preview
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:07:59Z"/><EventRecordID>1634569312</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 85fd0dfc30b3f311
TraceId: 22e5df1a89c7c6e856e89076de57d1f0
ParentId: 0000000000000000
RequestId: 40006105-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

DETAILED OPENAI DIAGNOSTICS:
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:07:59Z"/><EventRecordID>1634569312</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 85fd0dfc30b3f311
TraceId: 22e5df1a89c7c6e856e89076de57d1f0
ParentId: 0000000000000000
RequestId: 40006105-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

1. Using OpenAIClient of type: Azure.AI.OpenAI.OpenAIClient
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:07:59Z"/><EventRecordID>1634569328</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 85fd0dfc30b3f311
TraceId: 22e5df1a89c7c6e856e89076de57d1f0
ParentId: 0000000000000000
RequestId: 40006105-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

2. Endpoint URL being used: https://generalsearchai.openai.azure.com/
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:07:59Z"/><EventRecordID>1634569343</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 85fd0dfc30b3f311
TraceId: 22e5df1a89c7c6e856e89076de57d1f0
ParentId: 0000000000000000
RequestId: 40006105-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

3. Deployment name being used: gpt-4.1
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:07:59Z"/><EventRecordID>1634569343</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 85fd0dfc30b3f311
TraceId: 22e5df1a89c7c6e856e89076de57d1f0
ParentId: 0000000000000000
RequestId: 40006105-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

4. Environment variables:
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:07:59Z"/><EventRecordID>1634569390</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 85fd0dfc30b3f311
TraceId: 22e5df1a89c7c6e856e89076de57d1f0
ParentId: 0000000000000000
RequestId: 40006105-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

   OPENAI_API_KEY set: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:07:59Z"/><EventRecordID>1634569406</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 85fd0dfc30b3f311
TraceId: 22e5df1a89c7c6e856e89076de57d1f0
ParentId: 0000000000000000
RequestId: 40006105-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

   OPENAI_ENDPOINT set: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:07:59Z"/><EventRecordID>1634569421</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 85fd0dfc30b3f311
TraceId: 22e5df1a89c7c6e856e89076de57d1f0
ParentId: 0000000000000000
RequestId: 40006105-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

   OPENAI_DEPLOYMENT_NAME set: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:08:03Z"/><EventRecordID>1634572750</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 85fd0dfc30b3f311
TraceId: 22e5df1a89c7c6e856e89076de57d1f0
ParentId: 0000000000000000
RequestId: 40006105-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE FUNCTION DEBUG: Running in Azure environment
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:08:03Z"/><EventRecordID>1634572796</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 85fd0dfc30b3f311
TraceId: 22e5df1a89c7c6e856e89076de57d1f0
ParentId: 0000000000000000
RequestId: 40006105-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE FUNCTION CONFIG: URL=https://fn-conversationsave.azurewebsites.net/***/conversations/update, HasKey=True, HasUserId=False, HasUserEmail=False
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:08:03Z"/><EventRecordID>1634573078</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 85fd0dfc30b3f311
TraceId: 22e5df1a89c7c6e856e89076de57d1f0
ParentId: 0000000000000000
RequestId: 40006105-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE_FUNCTION_SAVE_START [bc80f9cc]: Starting conversation save
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:08:03Z"/><EventRecordID>1634573078</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 85fd0dfc30b3f311
TraceId: 22e5df1a89c7c6e856e89076de57d1f0
ParentId: 0000000000000000
RequestId: 40006105-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Starting configuration retrieval for Azure Function
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:08:03Z"/><EventRecordID>1634573093</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 85fd0dfc30b3f311
TraceId: 22e5df1a89c7c6e856e89076de57d1f0
ParentId: 0000000000000000
RequestId: 40006105-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Raw env URL: [VALUE SET], Raw config URL: [NOT SET]
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:08:03Z"/><EventRecordID>1634573109</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 85fd0dfc30b3f311
TraceId: 22e5df1a89c7c6e856e89076de57d1f0
ParentId: 0000000000000000
RequestId: 40006105-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Key from env: True, Key from config: False
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:08:03Z"/><EventRecordID>1634573109</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 85fd0dfc30b3f311
TraceId: 22e5df1a89c7c6e856e89076de57d1f0
ParentId: 0000000000000000
RequestId: 40006105-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Final URL configured: True, URL value: https://fn-conversationsave.azurewebsites.net/****/conversations/update
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:08:03Z"/><EventRecordID>1634573125</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 85fd0dfc30b3f311
TraceId: 22e5df1a89c7c6e856e89076de57d1f0
ParentId: 0000000000000000
RequestId: 40006105-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Final Key configured: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:08:03Z"/><EventRecordID>1634573312</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 85fd0dfc30b3f311
TraceId: 22e5df1a89c7c6e856e89076de57d1f0
ParentId: 0000000000000000
RequestId: 40006105-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE_FUNCTION_SAVE_SUCCESS [bc80f9cc]: Successfully saved conversation
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:09:28Z"/><EventRecordID>1634658312</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 7538e84e672d7c58
TraceId: 9e6017214e5403d19faa7ec7bc912581
ParentId: 0000000000000000
RequestId: 40006107-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

DEBUG - OpenAI API Connection Details:
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:09:28Z"/><EventRecordID>1634658312</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 7538e84e672d7c58
TraceId: 9e6017214e5403d19faa7ec7bc912581
ParentId: 0000000000000000
RequestId: 40006107-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

OpenAI Endpoint: https://generalsearchai.openai.azure.com/
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:09:28Z"/><EventRecordID>1634658328</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 7538e84e672d7c58
TraceId: 9e6017214e5403d19faa7ec7bc912581
ParentId: 0000000000000000
RequestId: 40006107-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

OpenAI API Key Length: 84
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:09:28Z"/><EventRecordID>1634658328</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 7538e84e672d7c58
TraceId: 9e6017214e5403d19faa7ec7bc912581
ParentId: 0000000000000000
RequestId: 40006107-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

OpenAI IsConfigured: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:09:28Z"/><EventRecordID>1634658343</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 7538e84e672d7c58
TraceId: 9e6017214e5403d19faa7ec7bc912581
ParentId: 0000000000000000
RequestId: 40006107-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

API CALL DETAILS - Endpoint: https://generalsearchai.openai.azure.com/
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:09:28Z"/><EventRecordID>1634658359</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 7538e84e672d7c58
TraceId: 9e6017214e5403d19faa7ec7bc912581
ParentId: 0000000000000000
RequestId: 40006107-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

API CALL DETAILS - DeploymentName: gpt-4.1
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:09:28Z"/><EventRecordID>1634658375</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 7538e84e672d7c58
TraceId: 9e6017214e5403d19faa7ec7bc912581
ParentId: 0000000000000000
RequestId: 40006107-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

API CALL DETAILS - API Version: 2025-01-01-preview
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:09:28Z"/><EventRecordID>1634658390</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 7538e84e672d7c58
TraceId: 9e6017214e5403d19faa7ec7bc912581
ParentId: 0000000000000000
RequestId: 40006107-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

DETAILED OPENAI DIAGNOSTICS:
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:09:28Z"/><EventRecordID>1634658390</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 7538e84e672d7c58
TraceId: 9e6017214e5403d19faa7ec7bc912581
ParentId: 0000000000000000
RequestId: 40006107-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

1. Using OpenAIClient of type: Azure.AI.OpenAI.OpenAIClient
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:09:28Z"/><EventRecordID>1634658406</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 7538e84e672d7c58
TraceId: 9e6017214e5403d19faa7ec7bc912581
ParentId: 0000000000000000
RequestId: 40006107-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

2. Endpoint URL being used: https://generalsearchai.openai.azure.com/
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:09:28Z"/><EventRecordID>1634658406</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 7538e84e672d7c58
TraceId: 9e6017214e5403d19faa7ec7bc912581
ParentId: 0000000000000000
RequestId: 40006107-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

3. Deployment name being used: gpt-4.1
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:09:28Z"/><EventRecordID>1634658421</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 7538e84e672d7c58
TraceId: 9e6017214e5403d19faa7ec7bc912581
ParentId: 0000000000000000
RequestId: 40006107-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

4. Environment variables:
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:09:28Z"/><EventRecordID>1634658437</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 7538e84e672d7c58
TraceId: 9e6017214e5403d19faa7ec7bc912581
ParentId: 0000000000000000
RequestId: 40006107-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

   OPENAI_API_KEY set: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:09:28Z"/><EventRecordID>1634658437</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 7538e84e672d7c58
TraceId: 9e6017214e5403d19faa7ec7bc912581
ParentId: 0000000000000000
RequestId: 40006107-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

   OPENAI_ENDPOINT set: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:09:28Z"/><EventRecordID>1634658453</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 7538e84e672d7c58
TraceId: 9e6017214e5403d19faa7ec7bc912581
ParentId: 0000000000000000
RequestId: 40006107-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

   OPENAI_DEPLOYMENT_NAME set: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:09:30Z"/><EventRecordID>1634660359</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 7538e84e672d7c58
TraceId: 9e6017214e5403d19faa7ec7bc912581
ParentId: 0000000000000000
RequestId: 40006107-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE FUNCTION DEBUG: Running in Azure environment
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:09:30Z"/><EventRecordID>1634660375</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 7538e84e672d7c58
TraceId: 9e6017214e5403d19faa7ec7bc912581
ParentId: 0000000000000000
RequestId: 40006107-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE FUNCTION CONFIG: URL=https://fn-conversationsave.azurewebsites.net/***/conversations/update, HasKey=True, HasUserId=False, HasUserEmail=False
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:09:30Z"/><EventRecordID>1634660406</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 7538e84e672d7c58
TraceId: 9e6017214e5403d19faa7ec7bc912581
ParentId: 0000000000000000
RequestId: 40006107-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE_FUNCTION_SAVE_START [d31226be]: Starting conversation save
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:09:30Z"/><EventRecordID>1634660406</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 7538e84e672d7c58
TraceId: 9e6017214e5403d19faa7ec7bc912581
ParentId: 0000000000000000
RequestId: 40006107-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Starting configuration retrieval for Azure Function
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:09:30Z"/><EventRecordID>1634660421</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 7538e84e672d7c58
TraceId: 9e6017214e5403d19faa7ec7bc912581
ParentId: 0000000000000000
RequestId: 40006107-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Raw env URL: [VALUE SET], Raw config URL: [NOT SET]
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:09:30Z"/><EventRecordID>1634660421</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 7538e84e672d7c58
TraceId: 9e6017214e5403d19faa7ec7bc912581
ParentId: 0000000000000000
RequestId: 40006107-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Key from env: True, Key from config: False
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:09:30Z"/><EventRecordID>1634660437</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 7538e84e672d7c58
TraceId: 9e6017214e5403d19faa7ec7bc912581
ParentId: 0000000000000000
RequestId: 40006107-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Final URL configured: True, URL value: https://fn-conversationsave.azurewebsites.net/****/conversations/update
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:09:30Z"/><EventRecordID>1634660437</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 7538e84e672d7c58
TraceId: 9e6017214e5403d19faa7ec7bc912581
ParentId: 0000000000000000
RequestId: 40006107-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Final Key configured: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:09:31Z"/><EventRecordID>1634660625</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 7538e84e672d7c58
TraceId: 9e6017214e5403d19faa7ec7bc912581
ParentId: 0000000000000000
RequestId: 40006107-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE_FUNCTION_SAVE_SUCCESS [d31226be]: Successfully saved conversation
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:10:08Z"/><EventRecordID>1634697578</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 1b888d95d30e26a2
TraceId: 79a579513d0bff1478686b3b354dceac
ParentId: 0000000000000000
RequestId: 40006108-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

DEBUG - OpenAI API Connection Details:
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:10:08Z"/><EventRecordID>1634697593</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 1b888d95d30e26a2
TraceId: 79a579513d0bff1478686b3b354dceac
ParentId: 0000000000000000
RequestId: 40006108-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

OpenAI Endpoint: https://generalsearchai.openai.azure.com/
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:10:08Z"/><EventRecordID>1634697593</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 1b888d95d30e26a2
TraceId: 79a579513d0bff1478686b3b354dceac
ParentId: 0000000000000000
RequestId: 40006108-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

OpenAI API Key Length: 84
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:10:08Z"/><EventRecordID>1634697609</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 1b888d95d30e26a2
TraceId: 79a579513d0bff1478686b3b354dceac
ParentId: 0000000000000000
RequestId: 40006108-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

OpenAI IsConfigured: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:10:08Z"/><EventRecordID>1634697609</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 1b888d95d30e26a2
TraceId: 79a579513d0bff1478686b3b354dceac
ParentId: 0000000000000000
RequestId: 40006108-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

API CALL DETAILS - Endpoint: https://generalsearchai.openai.azure.com/
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:10:08Z"/><EventRecordID>1634697625</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 1b888d95d30e26a2
TraceId: 79a579513d0bff1478686b3b354dceac
ParentId: 0000000000000000
RequestId: 40006108-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

API CALL DETAILS - DeploymentName: gpt-4.1
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:10:08Z"/><EventRecordID>1634697640</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 1b888d95d30e26a2
TraceId: 79a579513d0bff1478686b3b354dceac
ParentId: 0000000000000000
RequestId: 40006108-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

API CALL DETAILS - API Version: 2025-01-01-preview
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:10:08Z"/><EventRecordID>1634697640</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 1b888d95d30e26a2
TraceId: 79a579513d0bff1478686b3b354dceac
ParentId: 0000000000000000
RequestId: 40006108-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

DETAILED OPENAI DIAGNOSTICS:
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:10:08Z"/><EventRecordID>1634697656</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 1b888d95d30e26a2
TraceId: 79a579513d0bff1478686b3b354dceac
ParentId: 0000000000000000
RequestId: 40006108-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

1. Using OpenAIClient of type: Azure.AI.OpenAI.OpenAIClient
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:10:08Z"/><EventRecordID>1634697656</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 1b888d95d30e26a2
TraceId: 79a579513d0bff1478686b3b354dceac
ParentId: 0000000000000000
RequestId: 40006108-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

2. Endpoint URL being used: https://generalsearchai.openai.azure.com/
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:10:08Z"/><EventRecordID>1634697671</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 1b888d95d30e26a2
TraceId: 79a579513d0bff1478686b3b354dceac
ParentId: 0000000000000000
RequestId: 40006108-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

3. Deployment name being used: gpt-4.1
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:10:08Z"/><EventRecordID>1634697687</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 1b888d95d30e26a2
TraceId: 79a579513d0bff1478686b3b354dceac
ParentId: 0000000000000000
RequestId: 40006108-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

4. Environment variables:
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:10:08Z"/><EventRecordID>1634697687</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 1b888d95d30e26a2
TraceId: 79a579513d0bff1478686b3b354dceac
ParentId: 0000000000000000
RequestId: 40006108-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

   OPENAI_API_KEY set: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:10:08Z"/><EventRecordID>1634697687</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 1b888d95d30e26a2
TraceId: 79a579513d0bff1478686b3b354dceac
ParentId: 0000000000000000
RequestId: 40006108-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

   OPENAI_ENDPOINT set: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:10:08Z"/><EventRecordID>1634697703</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 1b888d95d30e26a2
TraceId: 79a579513d0bff1478686b3b354dceac
ParentId: 0000000000000000
RequestId: 40006108-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

   OPENAI_DEPLOYMENT_NAME set: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:10:09Z"/><EventRecordID>1634699484</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 1b888d95d30e26a2
TraceId: 79a579513d0bff1478686b3b354dceac
ParentId: 0000000000000000
RequestId: 40006108-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE FUNCTION DEBUG: Running in Azure environment
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:10:09Z"/><EventRecordID>1634699500</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 1b888d95d30e26a2
TraceId: 79a579513d0bff1478686b3b354dceac
ParentId: 0000000000000000
RequestId: 40006108-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE FUNCTION CONFIG: URL=https://fn-conversationsave.azurewebsites.net/***/conversations/update, HasKey=True, HasUserId=False, HasUserEmail=False
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:10:09Z"/><EventRecordID>1634699500</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 1b888d95d30e26a2
TraceId: 79a579513d0bff1478686b3b354dceac
ParentId: 0000000000000000
RequestId: 40006108-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE_FUNCTION_SAVE_START [fb435265]: Starting conversation save
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:10:09Z"/><EventRecordID>1634699515</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 1b888d95d30e26a2
TraceId: 79a579513d0bff1478686b3b354dceac
ParentId: 0000000000000000
RequestId: 40006108-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Starting configuration retrieval for Azure Function
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:10:10Z"/><EventRecordID>1634699531</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 1b888d95d30e26a2
TraceId: 79a579513d0bff1478686b3b354dceac
ParentId: 0000000000000000
RequestId: 40006108-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Raw env URL: [VALUE SET], Raw config URL: [NOT SET]
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:10:10Z"/><EventRecordID>1634699531</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 1b888d95d30e26a2
TraceId: 79a579513d0bff1478686b3b354dceac
ParentId: 0000000000000000
RequestId: 40006108-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Key from env: True, Key from config: False
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:10:10Z"/><EventRecordID>1634699546</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 1b888d95d30e26a2
TraceId: 79a579513d0bff1478686b3b354dceac
ParentId: 0000000000000000
RequestId: 40006108-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Final URL configured: True, URL value: https://fn-conversationsave.azurewebsites.net/****/conversations/update
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:10:10Z"/><EventRecordID>1634699546</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 1b888d95d30e26a2
TraceId: 79a579513d0bff1478686b3b354dceac
ParentId: 0000000000000000
RequestId: 40006108-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Final Key configured: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:10:10Z"/><EventRecordID>1634699718</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 1b888d95d30e26a2
TraceId: 79a579513d0bff1478686b3b354dceac
ParentId: 0000000000000000
RequestId: 40006108-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE_FUNCTION_SAVE_SUCCESS [fb435265]: Successfully saved conversation
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>1</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:11:43Z"/><EventRecordID>1634792562</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Controllers.ChatController
EventId: 0
SpanId: e4e965170b9e67c1
TraceId: 929164878b0396458bde1e731e900676
ParentId: 0000000000000000
RequestId: 40003db4-0000-e700-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

SESSION CHANGED! Previous session: a2c36059-f3d1-7c76-d17a-9bc74bf0b6bf, Current session: 27b245bd-e4a0-26c5-f3b4-36c269dc1049
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:11:43Z"/><EventRecordID>1634792578</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: e4e965170b9e67c1
TraceId: 929164878b0396458bde1e731e900676
ParentId: 0000000000000000
RequestId: 40003db4-0000-e700-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

DEBUG - OpenAI API Connection Details:
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:11:43Z"/><EventRecordID>1634792578</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: e4e965170b9e67c1
TraceId: 929164878b0396458bde1e731e900676
ParentId: 0000000000000000
RequestId: 40003db4-0000-e700-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

OpenAI Endpoint: https://generalsearchai.openai.azure.com/
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:11:43Z"/><EventRecordID>1634792593</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: e4e965170b9e67c1
TraceId: 929164878b0396458bde1e731e900676
ParentId: 0000000000000000
RequestId: 40003db4-0000-e700-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

OpenAI API Key Length: 84
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:11:43Z"/><EventRecordID>1634792593</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: e4e965170b9e67c1
TraceId: 929164878b0396458bde1e731e900676
ParentId: 0000000000000000
RequestId: 40003db4-0000-e700-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

OpenAI IsConfigured: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:11:43Z"/><EventRecordID>1634792609</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: e4e965170b9e67c1
TraceId: 929164878b0396458bde1e731e900676
ParentId: 0000000000000000
RequestId: 40003db4-0000-e700-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

API CALL DETAILS - Endpoint: https://generalsearchai.openai.azure.com/
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:11:43Z"/><EventRecordID>1634792609</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: e4e965170b9e67c1
TraceId: 929164878b0396458bde1e731e900676
ParentId: 0000000000000000
RequestId: 40003db4-0000-e700-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

API CALL DETAILS - DeploymentName: gpt-4.1
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:11:43Z"/><EventRecordID>1634792625</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: e4e965170b9e67c1
TraceId: 929164878b0396458bde1e731e900676
ParentId: 0000000000000000
RequestId: 40003db4-0000-e700-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

API CALL DETAILS - API Version: 2025-01-01-preview
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:11:43Z"/><EventRecordID>1634792640</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: e4e965170b9e67c1
TraceId: 929164878b0396458bde1e731e900676
ParentId: 0000000000000000
RequestId: 40003db4-0000-e700-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

DETAILED OPENAI DIAGNOSTICS:
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:11:43Z"/><EventRecordID>1634792640</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: e4e965170b9e67c1
TraceId: 929164878b0396458bde1e731e900676
ParentId: 0000000000000000
RequestId: 40003db4-0000-e700-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

1. Using OpenAIClient of type: Azure.AI.OpenAI.OpenAIClient
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:11:43Z"/><EventRecordID>1634792656</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: e4e965170b9e67c1
TraceId: 929164878b0396458bde1e731e900676
ParentId: 0000000000000000
RequestId: 40003db4-0000-e700-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

2. Endpoint URL being used: https://generalsearchai.openai.azure.com/
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:11:43Z"/><EventRecordID>1634792656</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: e4e965170b9e67c1
TraceId: 929164878b0396458bde1e731e900676
ParentId: 0000000000000000
RequestId: 40003db4-0000-e700-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

3. Deployment name being used: gpt-4.1
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:11:43Z"/><EventRecordID>1634792671</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: e4e965170b9e67c1
TraceId: 929164878b0396458bde1e731e900676
ParentId: 0000000000000000
RequestId: 40003db4-0000-e700-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

4. Environment variables:
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:11:43Z"/><EventRecordID>1634792687</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: e4e965170b9e67c1
TraceId: 929164878b0396458bde1e731e900676
ParentId: 0000000000000000
RequestId: 40003db4-0000-e700-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

   OPENAI_API_KEY set: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:11:43Z"/><EventRecordID>1634792687</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: e4e965170b9e67c1
TraceId: 929164878b0396458bde1e731e900676
ParentId: 0000000000000000
RequestId: 40003db4-0000-e700-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

   OPENAI_ENDPOINT set: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:11:43Z"/><EventRecordID>1634792703</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: e4e965170b9e67c1
TraceId: 929164878b0396458bde1e731e900676
ParentId: 0000000000000000
RequestId: 40003db4-0000-e700-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

   OPENAI_DEPLOYMENT_NAME set: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:11:44Z"/><EventRecordID>1634793953</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: e4e965170b9e67c1
TraceId: 929164878b0396458bde1e731e900676
ParentId: 0000000000000000
RequestId: 40003db4-0000-e700-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE FUNCTION DEBUG: Running in Azure environment
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:11:44Z"/><EventRecordID>1634793953</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: e4e965170b9e67c1
TraceId: 929164878b0396458bde1e731e900676
ParentId: 0000000000000000
RequestId: 40003db4-0000-e700-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE FUNCTION CONFIG: URL=https://fn-conversationsave.azurewebsites.net/***/conversations/update, HasKey=True, HasUserId=False, HasUserEmail=False
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:11:44Z"/><EventRecordID>1634793968</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: e4e965170b9e67c1
TraceId: 929164878b0396458bde1e731e900676
ParentId: 0000000000000000
RequestId: 40003db4-0000-e700-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE_FUNCTION_SAVE_START [4bd0953c]: Starting conversation save
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:11:44Z"/><EventRecordID>1634794000</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: e4e965170b9e67c1
TraceId: 929164878b0396458bde1e731e900676
ParentId: 0000000000000000
RequestId: 40003db4-0000-e700-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Starting configuration retrieval for Azure Function
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:11:44Z"/><EventRecordID>1634794000</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: e4e965170b9e67c1
TraceId: 929164878b0396458bde1e731e900676
ParentId: 0000000000000000
RequestId: 40003db4-0000-e700-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Raw env URL: [VALUE SET], Raw config URL: [NOT SET]
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:11:44Z"/><EventRecordID>1634794000</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: e4e965170b9e67c1
TraceId: 929164878b0396458bde1e731e900676
ParentId: 0000000000000000
RequestId: 40003db4-0000-e700-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Key from env: True, Key from config: False
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:11:44Z"/><EventRecordID>1634794015</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: e4e965170b9e67c1
TraceId: 929164878b0396458bde1e731e900676
ParentId: 0000000000000000
RequestId: 40003db4-0000-e700-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Final URL configured: True, URL value: https://fn-conversationsave.azurewebsites.net/****/conversations/update
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:11:44Z"/><EventRecordID>1634794015</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: e4e965170b9e67c1
TraceId: 929164878b0396458bde1e731e900676
ParentId: 0000000000000000
RequestId: 40003db4-0000-e700-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Final Key configured: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:11:44Z"/><EventRecordID>1634794203</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: e4e965170b9e67c1
TraceId: 929164878b0396458bde1e731e900676
ParentId: 0000000000000000
RequestId: 40003db4-0000-e700-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE_FUNCTION_SAVE_SUCCESS [4bd0953c]: Successfully saved conversation
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:12:09Z"/><EventRecordID>1634818984</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 248b9b16cf49550b
TraceId: d51c770fe4d24939c9b878c9b12ede18
ParentId: 0000000000000000
RequestId: 4000610b-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

DEBUG - OpenAI API Connection Details:
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:12:09Z"/><EventRecordID>1634818984</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 248b9b16cf49550b
TraceId: d51c770fe4d24939c9b878c9b12ede18
ParentId: 0000000000000000
RequestId: 4000610b-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

OpenAI Endpoint: https://generalsearchai.openai.azure.com/
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:12:09Z"/><EventRecordID>1634819000</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 248b9b16cf49550b
TraceId: d51c770fe4d24939c9b878c9b12ede18
ParentId: 0000000000000000
RequestId: 4000610b-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

OpenAI API Key Length: 84
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:12:09Z"/><EventRecordID>1634819015</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 248b9b16cf49550b
TraceId: d51c770fe4d24939c9b878c9b12ede18
ParentId: 0000000000000000
RequestId: 4000610b-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

OpenAI IsConfigured: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:12:09Z"/><EventRecordID>1634819031</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 248b9b16cf49550b
TraceId: d51c770fe4d24939c9b878c9b12ede18
ParentId: 0000000000000000
RequestId: 4000610b-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

API CALL DETAILS - Endpoint: https://generalsearchai.openai.azure.com/
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:12:09Z"/><EventRecordID>1634819031</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 248b9b16cf49550b
TraceId: d51c770fe4d24939c9b878c9b12ede18
ParentId: 0000000000000000
RequestId: 4000610b-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

API CALL DETAILS - DeploymentName: gpt-4.1
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:12:09Z"/><EventRecordID>1634819046</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 248b9b16cf49550b
TraceId: d51c770fe4d24939c9b878c9b12ede18
ParentId: 0000000000000000
RequestId: 4000610b-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

API CALL DETAILS - API Version: 2025-01-01-preview
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:12:09Z"/><EventRecordID>1634819046</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 248b9b16cf49550b
TraceId: d51c770fe4d24939c9b878c9b12ede18
ParentId: 0000000000000000
RequestId: 4000610b-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

DETAILED OPENAI DIAGNOSTICS:
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:12:09Z"/><EventRecordID>1634819062</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 248b9b16cf49550b
TraceId: d51c770fe4d24939c9b878c9b12ede18
ParentId: 0000000000000000
RequestId: 4000610b-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

1. Using OpenAIClient of type: Azure.AI.OpenAI.OpenAIClient
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:12:09Z"/><EventRecordID>1634819062</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 248b9b16cf49550b
TraceId: d51c770fe4d24939c9b878c9b12ede18
ParentId: 0000000000000000
RequestId: 4000610b-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

2. Endpoint URL being used: https://generalsearchai.openai.azure.com/
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:12:09Z"/><EventRecordID>1634819078</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 248b9b16cf49550b
TraceId: d51c770fe4d24939c9b878c9b12ede18
ParentId: 0000000000000000
RequestId: 4000610b-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

3. Deployment name being used: gpt-4.1
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:12:09Z"/><EventRecordID>1634819093</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 248b9b16cf49550b
TraceId: d51c770fe4d24939c9b878c9b12ede18
ParentId: 0000000000000000
RequestId: 4000610b-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

4. Environment variables:
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:12:09Z"/><EventRecordID>1634819093</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 248b9b16cf49550b
TraceId: d51c770fe4d24939c9b878c9b12ede18
ParentId: 0000000000000000
RequestId: 4000610b-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

   OPENAI_API_KEY set: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:12:09Z"/><EventRecordID>1634819093</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 248b9b16cf49550b
TraceId: d51c770fe4d24939c9b878c9b12ede18
ParentId: 0000000000000000
RequestId: 4000610b-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

   OPENAI_ENDPOINT set: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:12:09Z"/><EventRecordID>1634819109</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 248b9b16cf49550b
TraceId: d51c770fe4d24939c9b878c9b12ede18
ParentId: 0000000000000000
RequestId: 4000610b-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

   OPENAI_DEPLOYMENT_NAME set: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:12:10Z"/><EventRecordID>1634820171</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 248b9b16cf49550b
TraceId: d51c770fe4d24939c9b878c9b12ede18
ParentId: 0000000000000000
RequestId: 4000610b-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE FUNCTION DEBUG: Running in Azure environment
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:12:10Z"/><EventRecordID>1634820187</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 248b9b16cf49550b
TraceId: d51c770fe4d24939c9b878c9b12ede18
ParentId: 0000000000000000
RequestId: 4000610b-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE FUNCTION CONFIG: URL=https://fn-conversationsave.azurewebsites.net/***/conversations/update, HasKey=True, HasUserId=False, HasUserEmail=False
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:12:10Z"/><EventRecordID>1634820203</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 248b9b16cf49550b
TraceId: d51c770fe4d24939c9b878c9b12ede18
ParentId: 0000000000000000
RequestId: 4000610b-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE_FUNCTION_SAVE_START [a8b390c3]: Starting conversation save
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:12:10Z"/><EventRecordID>1634820218</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 248b9b16cf49550b
TraceId: d51c770fe4d24939c9b878c9b12ede18
ParentId: 0000000000000000
RequestId: 4000610b-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Starting configuration retrieval for Azure Function
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:12:10Z"/><EventRecordID>1634820234</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 248b9b16cf49550b
TraceId: d51c770fe4d24939c9b878c9b12ede18
ParentId: 0000000000000000
RequestId: 4000610b-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Raw env URL: [VALUE SET], Raw config URL: [NOT SET]
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:12:10Z"/><EventRecordID>1634820250</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 248b9b16cf49550b
TraceId: d51c770fe4d24939c9b878c9b12ede18
ParentId: 0000000000000000
RequestId: 4000610b-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Key from env: True, Key from config: False
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:12:10Z"/><EventRecordID>1634820265</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 248b9b16cf49550b
TraceId: d51c770fe4d24939c9b878c9b12ede18
ParentId: 0000000000000000
RequestId: 4000610b-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Final URL configured: True, URL value: https://fn-conversationsave.azurewebsites.net/****/conversations/update
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:12:10Z"/><EventRecordID>1634820265</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 248b9b16cf49550b
TraceId: d51c770fe4d24939c9b878c9b12ede18
ParentId: 0000000000000000
RequestId: 4000610b-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Final Key configured: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:12:10Z"/><EventRecordID>1634820453</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 248b9b16cf49550b
TraceId: d51c770fe4d24939c9b878c9b12ede18
ParentId: 0000000000000000
RequestId: 4000610b-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE_FUNCTION_SAVE_SUCCESS [a8b390c3]: Successfully saved conversation
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:13:02Z"/><EventRecordID>1634872156</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 81af061dba26f211
TraceId: 1d60ac4ad647f66553914d869a83701c
ParentId: 0000000000000000
RequestId: 4000610d-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

DEBUG - OpenAI API Connection Details:
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:13:02Z"/><EventRecordID>1634872171</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 81af061dba26f211
TraceId: 1d60ac4ad647f66553914d869a83701c
ParentId: 0000000000000000
RequestId: 4000610d-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

OpenAI Endpoint: https://generalsearchai.openai.azure.com/
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:13:02Z"/><EventRecordID>1634872171</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 81af061dba26f211
TraceId: 1d60ac4ad647f66553914d869a83701c
ParentId: 0000000000000000
RequestId: 4000610d-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

OpenAI API Key Length: 84
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:13:02Z"/><EventRecordID>1634872187</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 81af061dba26f211
TraceId: 1d60ac4ad647f66553914d869a83701c
ParentId: 0000000000000000
RequestId: 4000610d-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

OpenAI IsConfigured: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:13:02Z"/><EventRecordID>1634872187</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 81af061dba26f211
TraceId: 1d60ac4ad647f66553914d869a83701c
ParentId: 0000000000000000
RequestId: 4000610d-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

API CALL DETAILS - Endpoint: https://generalsearchai.openai.azure.com/
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:13:02Z"/><EventRecordID>1634872203</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 81af061dba26f211
TraceId: 1d60ac4ad647f66553914d869a83701c
ParentId: 0000000000000000
RequestId: 4000610d-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

API CALL DETAILS - DeploymentName: gpt-4.1
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:13:02Z"/><EventRecordID>1634872203</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 81af061dba26f211
TraceId: 1d60ac4ad647f66553914d869a83701c
ParentId: 0000000000000000
RequestId: 4000610d-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

API CALL DETAILS - API Version: 2025-01-01-preview
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:13:02Z"/><EventRecordID>1634872218</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 81af061dba26f211
TraceId: 1d60ac4ad647f66553914d869a83701c
ParentId: 0000000000000000
RequestId: 4000610d-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

DETAILED OPENAI DIAGNOSTICS:
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:13:02Z"/><EventRecordID>1634872218</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 81af061dba26f211
TraceId: 1d60ac4ad647f66553914d869a83701c
ParentId: 0000000000000000
RequestId: 4000610d-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

1. Using OpenAIClient of type: Azure.AI.OpenAI.OpenAIClient
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:13:02Z"/><EventRecordID>1634872234</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 81af061dba26f211
TraceId: 1d60ac4ad647f66553914d869a83701c
ParentId: 0000000000000000
RequestId: 4000610d-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

2. Endpoint URL being used: https://generalsearchai.openai.azure.com/
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:13:02Z"/><EventRecordID>1634872234</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 81af061dba26f211
TraceId: 1d60ac4ad647f66553914d869a83701c
ParentId: 0000000000000000
RequestId: 4000610d-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

3. Deployment name being used: gpt-4.1
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:13:02Z"/><EventRecordID>1634872250</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 81af061dba26f211
TraceId: 1d60ac4ad647f66553914d869a83701c
ParentId: 0000000000000000
RequestId: 4000610d-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

4. Environment variables:
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:13:02Z"/><EventRecordID>1634872265</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 81af061dba26f211
TraceId: 1d60ac4ad647f66553914d869a83701c
ParentId: 0000000000000000
RequestId: 4000610d-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

   OPENAI_API_KEY set: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:13:02Z"/><EventRecordID>1634872265</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 81af061dba26f211
TraceId: 1d60ac4ad647f66553914d869a83701c
ParentId: 0000000000000000
RequestId: 4000610d-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

   OPENAI_ENDPOINT set: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:13:02Z"/><EventRecordID>1634872281</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 81af061dba26f211
TraceId: 1d60ac4ad647f66553914d869a83701c
ParentId: 0000000000000000
RequestId: 4000610d-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

   OPENAI_DEPLOYMENT_NAME set: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:13:06Z"/><EventRecordID>1634876359</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 81af061dba26f211
TraceId: 1d60ac4ad647f66553914d869a83701c
ParentId: 0000000000000000
RequestId: 4000610d-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE FUNCTION DEBUG: Running in Azure environment
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:13:06Z"/><EventRecordID>1634876375</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 81af061dba26f211
TraceId: 1d60ac4ad647f66553914d869a83701c
ParentId: 0000000000000000
RequestId: 4000610d-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE FUNCTION CONFIG: URL=https://fn-conversationsave.azurewebsites.net/***/conversations/update, HasKey=True, HasUserId=False, HasUserEmail=False
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:13:06Z"/><EventRecordID>1634876390</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 81af061dba26f211
TraceId: 1d60ac4ad647f66553914d869a83701c
ParentId: 0000000000000000
RequestId: 4000610d-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE_FUNCTION_SAVE_START [a9379dc4]: Starting conversation save
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:13:06Z"/><EventRecordID>1634876406</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 81af061dba26f211
TraceId: 1d60ac4ad647f66553914d869a83701c
ParentId: 0000000000000000
RequestId: 4000610d-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Starting configuration retrieval for Azure Function
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:13:06Z"/><EventRecordID>1634876421</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 81af061dba26f211
TraceId: 1d60ac4ad647f66553914d869a83701c
ParentId: 0000000000000000
RequestId: 4000610d-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Raw env URL: [VALUE SET], Raw config URL: [NOT SET]
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:13:06Z"/><EventRecordID>1634876421</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 81af061dba26f211
TraceId: 1d60ac4ad647f66553914d869a83701c
ParentId: 0000000000000000
RequestId: 4000610d-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Key from env: True, Key from config: False
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:13:06Z"/><EventRecordID>1634876468</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 81af061dba26f211
TraceId: 1d60ac4ad647f66553914d869a83701c
ParentId: 0000000000000000
RequestId: 4000610d-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Final URL configured: True, URL value: https://fn-conversationsave.azurewebsites.net/****/conversations/update
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:13:06Z"/><EventRecordID>1634876500</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 81af061dba26f211
TraceId: 1d60ac4ad647f66553914d869a83701c
ParentId: 0000000000000000
RequestId: 4000610d-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Final Key configured: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:13:07Z"/><EventRecordID>1634876625</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 81af061dba26f211
TraceId: 1d60ac4ad647f66553914d869a83701c
ParentId: 0000000000000000
RequestId: 4000610d-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE_FUNCTION_SAVE_SUCCESS [a9379dc4]: Successfully saved conversation
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:13:25Z"/><EventRecordID>1634895218</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 7870d82d44a89d71
TraceId: 76739fe1ef4204d52b9422a85af4cdbf
ParentId: 0000000000000000
RequestId: 4000610e-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

DEBUG - OpenAI API Connection Details:
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:13:25Z"/><EventRecordID>1634895218</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 7870d82d44a89d71
TraceId: 76739fe1ef4204d52b9422a85af4cdbf
ParentId: 0000000000000000
RequestId: 4000610e-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

OpenAI Endpoint: https://generalsearchai.openai.azure.com/
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:13:25Z"/><EventRecordID>1634895234</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 7870d82d44a89d71
TraceId: 76739fe1ef4204d52b9422a85af4cdbf
ParentId: 0000000000000000
RequestId: 4000610e-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

OpenAI API Key Length: 84
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:13:25Z"/><EventRecordID>1634895234</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 7870d82d44a89d71
TraceId: 76739fe1ef4204d52b9422a85af4cdbf
ParentId: 0000000000000000
RequestId: 4000610e-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

OpenAI IsConfigured: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:13:25Z"/><EventRecordID>1634895250</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 7870d82d44a89d71
TraceId: 76739fe1ef4204d52b9422a85af4cdbf
ParentId: 0000000000000000
RequestId: 4000610e-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

API CALL DETAILS - Endpoint: https://generalsearchai.openai.azure.com/
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:13:25Z"/><EventRecordID>1634895281</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 7870d82d44a89d71
TraceId: 76739fe1ef4204d52b9422a85af4cdbf
ParentId: 0000000000000000
RequestId: 4000610e-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

API CALL DETAILS - DeploymentName: gpt-4.1
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:13:25Z"/><EventRecordID>1634895281</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 7870d82d44a89d71
TraceId: 76739fe1ef4204d52b9422a85af4cdbf
ParentId: 0000000000000000
RequestId: 4000610e-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

API CALL DETAILS - API Version: 2025-01-01-preview
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:13:25Z"/><EventRecordID>1634895281</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 7870d82d44a89d71
TraceId: 76739fe1ef4204d52b9422a85af4cdbf
ParentId: 0000000000000000
RequestId: 4000610e-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

DETAILED OPENAI DIAGNOSTICS:
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:13:25Z"/><EventRecordID>1634895281</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 7870d82d44a89d71
TraceId: 76739fe1ef4204d52b9422a85af4cdbf
ParentId: 0000000000000000
RequestId: 4000610e-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

1. Using OpenAIClient of type: Azure.AI.OpenAI.OpenAIClient
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:13:25Z"/><EventRecordID>1634895296</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 7870d82d44a89d71
TraceId: 76739fe1ef4204d52b9422a85af4cdbf
ParentId: 0000000000000000
RequestId: 4000610e-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

2. Endpoint URL being used: https://generalsearchai.openai.azure.com/
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:13:25Z"/><EventRecordID>1634895296</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 7870d82d44a89d71
TraceId: 76739fe1ef4204d52b9422a85af4cdbf
ParentId: 0000000000000000
RequestId: 4000610e-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

3. Deployment name being used: gpt-4.1
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:13:25Z"/><EventRecordID>1634895328</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 7870d82d44a89d71
TraceId: 76739fe1ef4204d52b9422a85af4cdbf
ParentId: 0000000000000000
RequestId: 4000610e-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

4. Environment variables:
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:13:25Z"/><EventRecordID>1634895328</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 7870d82d44a89d71
TraceId: 76739fe1ef4204d52b9422a85af4cdbf
ParentId: 0000000000000000
RequestId: 4000610e-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

   OPENAI_API_KEY set: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:13:25Z"/><EventRecordID>1634895328</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 7870d82d44a89d71
TraceId: 76739fe1ef4204d52b9422a85af4cdbf
ParentId: 0000000000000000
RequestId: 4000610e-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

   OPENAI_ENDPOINT set: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:13:25Z"/><EventRecordID>1634895343</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 7870d82d44a89d71
TraceId: 76739fe1ef4204d52b9422a85af4cdbf
ParentId: 0000000000000000
RequestId: 4000610e-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

   OPENAI_DEPLOYMENT_NAME set: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:13:28Z"/><EventRecordID>1634897640</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 7870d82d44a89d71
TraceId: 76739fe1ef4204d52b9422a85af4cdbf
ParentId: 0000000000000000
RequestId: 4000610e-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE FUNCTION DEBUG: Running in Azure environment
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:13:28Z"/><EventRecordID>1634897671</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 7870d82d44a89d71
TraceId: 76739fe1ef4204d52b9422a85af4cdbf
ParentId: 0000000000000000
RequestId: 4000610e-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE FUNCTION CONFIG: URL=https://fn-conversationsave.azurewebsites.net/***/conversations/update, HasKey=True, HasUserId=False, HasUserEmail=False
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:13:28Z"/><EventRecordID>1634897703</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 7870d82d44a89d71
TraceId: 76739fe1ef4204d52b9422a85af4cdbf
ParentId: 0000000000000000
RequestId: 4000610e-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE_FUNCTION_SAVE_START [f5d1ec28]: Starting conversation save
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:13:28Z"/><EventRecordID>1634897718</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 7870d82d44a89d71
TraceId: 76739fe1ef4204d52b9422a85af4cdbf
ParentId: 0000000000000000
RequestId: 4000610e-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Starting configuration retrieval for Azure Function
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:13:28Z"/><EventRecordID>1634897734</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 7870d82d44a89d71
TraceId: 76739fe1ef4204d52b9422a85af4cdbf
ParentId: 0000000000000000
RequestId: 4000610e-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Raw env URL: [VALUE SET], Raw config URL: [NOT SET]
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:13:28Z"/><EventRecordID>1634897750</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 7870d82d44a89d71
TraceId: 76739fe1ef4204d52b9422a85af4cdbf
ParentId: 0000000000000000
RequestId: 4000610e-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Key from env: True, Key from config: False
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:13:28Z"/><EventRecordID>1634897765</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 7870d82d44a89d71
TraceId: 76739fe1ef4204d52b9422a85af4cdbf
ParentId: 0000000000000000
RequestId: 4000610e-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Final URL configured: True, URL value: https://fn-conversationsave.azurewebsites.net/****/conversations/update
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:13:28Z"/><EventRecordID>1634897781</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 7870d82d44a89d71
TraceId: 76739fe1ef4204d52b9422a85af4cdbf
ParentId: 0000000000000000
RequestId: 4000610e-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Final Key configured: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:13:28Z"/><EventRecordID>1634897906</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 7870d82d44a89d71
TraceId: 76739fe1ef4204d52b9422a85af4cdbf
ParentId: 0000000000000000
RequestId: 4000610e-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE_FUNCTION_SAVE_SUCCESS [f5d1ec28]: Successfully saved conversation
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:13:46Z"/><EventRecordID>1634916156</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 74bf5d6dc65d19d5
TraceId: f2816bc0d0b1a5921f3aef09859af25a
ParentId: 0000000000000000
RequestId: 4000610f-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

DEBUG - OpenAI API Connection Details:
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:13:46Z"/><EventRecordID>1634916156</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 74bf5d6dc65d19d5
TraceId: f2816bc0d0b1a5921f3aef09859af25a
ParentId: 0000000000000000
RequestId: 4000610f-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

OpenAI Endpoint: https://generalsearchai.openai.azure.com/
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:13:46Z"/><EventRecordID>1634916171</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 74bf5d6dc65d19d5
TraceId: f2816bc0d0b1a5921f3aef09859af25a
ParentId: 0000000000000000
RequestId: 4000610f-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

OpenAI API Key Length: 84
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:13:46Z"/><EventRecordID>1634916171</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 74bf5d6dc65d19d5
TraceId: f2816bc0d0b1a5921f3aef09859af25a
ParentId: 0000000000000000
RequestId: 4000610f-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

OpenAI IsConfigured: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:13:46Z"/><EventRecordID>1634916187</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 74bf5d6dc65d19d5
TraceId: f2816bc0d0b1a5921f3aef09859af25a
ParentId: 0000000000000000
RequestId: 4000610f-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

API CALL DETAILS - Endpoint: https://generalsearchai.openai.azure.com/
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:13:46Z"/><EventRecordID>1634916187</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 74bf5d6dc65d19d5
TraceId: f2816bc0d0b1a5921f3aef09859af25a
ParentId: 0000000000000000
RequestId: 4000610f-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

API CALL DETAILS - DeploymentName: gpt-4.1
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:13:46Z"/><EventRecordID>1634916203</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 74bf5d6dc65d19d5
TraceId: f2816bc0d0b1a5921f3aef09859af25a
ParentId: 0000000000000000
RequestId: 4000610f-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

API CALL DETAILS - API Version: 2025-01-01-preview
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:13:46Z"/><EventRecordID>1634916203</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 74bf5d6dc65d19d5
TraceId: f2816bc0d0b1a5921f3aef09859af25a
ParentId: 0000000000000000
RequestId: 4000610f-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

DETAILED OPENAI DIAGNOSTICS:
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:13:46Z"/><EventRecordID>1634916218</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 74bf5d6dc65d19d5
TraceId: f2816bc0d0b1a5921f3aef09859af25a
ParentId: 0000000000000000
RequestId: 4000610f-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

1. Using OpenAIClient of type: Azure.AI.OpenAI.OpenAIClient
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:13:46Z"/><EventRecordID>1634916218</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 74bf5d6dc65d19d5
TraceId: f2816bc0d0b1a5921f3aef09859af25a
ParentId: 0000000000000000
RequestId: 4000610f-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

2. Endpoint URL being used: https://generalsearchai.openai.azure.com/
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:13:46Z"/><EventRecordID>1634916234</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 74bf5d6dc65d19d5
TraceId: f2816bc0d0b1a5921f3aef09859af25a
ParentId: 0000000000000000
RequestId: 4000610f-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

3. Deployment name being used: gpt-4.1
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:13:46Z"/><EventRecordID>1634916234</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 74bf5d6dc65d19d5
TraceId: f2816bc0d0b1a5921f3aef09859af25a
ParentId: 0000000000000000
RequestId: 4000610f-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

4. Environment variables:
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:13:46Z"/><EventRecordID>1634916250</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 74bf5d6dc65d19d5
TraceId: f2816bc0d0b1a5921f3aef09859af25a
ParentId: 0000000000000000
RequestId: 4000610f-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

   OPENAI_API_KEY set: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:13:46Z"/><EventRecordID>1634916250</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 74bf5d6dc65d19d5
TraceId: f2816bc0d0b1a5921f3aef09859af25a
ParentId: 0000000000000000
RequestId: 4000610f-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

   OPENAI_ENDPOINT set: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:13:46Z"/><EventRecordID>1634916265</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 74bf5d6dc65d19d5
TraceId: f2816bc0d0b1a5921f3aef09859af25a
ParentId: 0000000000000000
RequestId: 4000610f-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

   OPENAI_DEPLOYMENT_NAME set: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:13:49Z"/><EventRecordID>1634919343</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 74bf5d6dc65d19d5
TraceId: f2816bc0d0b1a5921f3aef09859af25a
ParentId: 0000000000000000
RequestId: 4000610f-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE FUNCTION DEBUG: Running in Azure environment
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:13:49Z"/><EventRecordID>1634919359</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 74bf5d6dc65d19d5
TraceId: f2816bc0d0b1a5921f3aef09859af25a
ParentId: 0000000000000000
RequestId: 4000610f-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE FUNCTION CONFIG: URL=https://fn-conversationsave.azurewebsites.net/***/conversations/update, HasKey=True, HasUserId=False, HasUserEmail=False
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:13:49Z"/><EventRecordID>1634919375</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 74bf5d6dc65d19d5
TraceId: f2816bc0d0b1a5921f3aef09859af25a
ParentId: 0000000000000000
RequestId: 4000610f-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE_FUNCTION_SAVE_START [4e4b35d4]: Starting conversation save
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:13:49Z"/><EventRecordID>1634919375</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 74bf5d6dc65d19d5
TraceId: f2816bc0d0b1a5921f3aef09859af25a
ParentId: 0000000000000000
RequestId: 4000610f-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Starting configuration retrieval for Azure Function
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:13:49Z"/><EventRecordID>1634919390</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 74bf5d6dc65d19d5
TraceId: f2816bc0d0b1a5921f3aef09859af25a
ParentId: 0000000000000000
RequestId: 4000610f-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Raw env URL: [VALUE SET], Raw config URL: [NOT SET]
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:13:49Z"/><EventRecordID>1634919406</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 74bf5d6dc65d19d5
TraceId: f2816bc0d0b1a5921f3aef09859af25a
ParentId: 0000000000000000
RequestId: 4000610f-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Key from env: True, Key from config: False
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:13:49Z"/><EventRecordID>1634919406</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 74bf5d6dc65d19d5
TraceId: f2816bc0d0b1a5921f3aef09859af25a
ParentId: 0000000000000000
RequestId: 4000610f-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Final URL configured: True, URL value: https://fn-conversationsave.azurewebsites.net/****/conversations/update
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:13:49Z"/><EventRecordID>1634919421</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 74bf5d6dc65d19d5
TraceId: f2816bc0d0b1a5921f3aef09859af25a
ParentId: 0000000000000000
RequestId: 4000610f-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Final Key configured: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:13:50Z"/><EventRecordID>1634919531</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 74bf5d6dc65d19d5
TraceId: f2816bc0d0b1a5921f3aef09859af25a
ParentId: 0000000000000000
RequestId: 4000610f-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE_FUNCTION_SAVE_SUCCESS [4e4b35d4]: Successfully saved conversation
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:14:16Z"/><EventRecordID>1634946140</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 1be015f7b884cf29
TraceId: 22c985a8ed46aa3e4160d1451c4e2743
ParentId: 0000000000000000
RequestId: 40006110-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

DEBUG - OpenAI API Connection Details:
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:14:16Z"/><EventRecordID>1634946156</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 1be015f7b884cf29
TraceId: 22c985a8ed46aa3e4160d1451c4e2743
ParentId: 0000000000000000
RequestId: 40006110-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

OpenAI Endpoint: https://generalsearchai.openai.azure.com/
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:14:16Z"/><EventRecordID>1634946171</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 1be015f7b884cf29
TraceId: 22c985a8ed46aa3e4160d1451c4e2743
ParentId: 0000000000000000
RequestId: 40006110-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

OpenAI API Key Length: 84
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:14:16Z"/><EventRecordID>1634946187</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 1be015f7b884cf29
TraceId: 22c985a8ed46aa3e4160d1451c4e2743
ParentId: 0000000000000000
RequestId: 40006110-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

OpenAI IsConfigured: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:14:16Z"/><EventRecordID>1634946187</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 1be015f7b884cf29
TraceId: 22c985a8ed46aa3e4160d1451c4e2743
ParentId: 0000000000000000
RequestId: 40006110-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

API CALL DETAILS - Endpoint: https://generalsearchai.openai.azure.com/
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:14:16Z"/><EventRecordID>1634946203</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 1be015f7b884cf29
TraceId: 22c985a8ed46aa3e4160d1451c4e2743
ParentId: 0000000000000000
RequestId: 40006110-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

API CALL DETAILS - DeploymentName: gpt-4.1
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:14:16Z"/><EventRecordID>1634946218</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 1be015f7b884cf29
TraceId: 22c985a8ed46aa3e4160d1451c4e2743
ParentId: 0000000000000000
RequestId: 40006110-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

API CALL DETAILS - API Version: 2025-01-01-preview
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:14:16Z"/><EventRecordID>1634946218</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 1be015f7b884cf29
TraceId: 22c985a8ed46aa3e4160d1451c4e2743
ParentId: 0000000000000000
RequestId: 40006110-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

DETAILED OPENAI DIAGNOSTICS:
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:14:16Z"/><EventRecordID>1634946250</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 1be015f7b884cf29
TraceId: 22c985a8ed46aa3e4160d1451c4e2743
ParentId: 0000000000000000
RequestId: 40006110-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

1. Using OpenAIClient of type: Azure.AI.OpenAI.OpenAIClient
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:14:17Z"/><EventRecordID>1634946593</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 1be015f7b884cf29
TraceId: 22c985a8ed46aa3e4160d1451c4e2743
ParentId: 0000000000000000
RequestId: 40006110-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

2. Endpoint URL being used: https://generalsearchai.openai.azure.com/
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:14:17Z"/><EventRecordID>1634946609</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 1be015f7b884cf29
TraceId: 22c985a8ed46aa3e4160d1451c4e2743
ParentId: 0000000000000000
RequestId: 40006110-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

3. Deployment name being used: gpt-4.1
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:14:17Z"/><EventRecordID>1634946609</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 1be015f7b884cf29
TraceId: 22c985a8ed46aa3e4160d1451c4e2743
ParentId: 0000000000000000
RequestId: 40006110-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

4. Environment variables:
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:14:17Z"/><EventRecordID>1634946625</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 1be015f7b884cf29
TraceId: 22c985a8ed46aa3e4160d1451c4e2743
ParentId: 0000000000000000
RequestId: 40006110-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

   OPENAI_API_KEY set: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:14:17Z"/><EventRecordID>1634946625</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 1be015f7b884cf29
TraceId: 22c985a8ed46aa3e4160d1451c4e2743
ParentId: 0000000000000000
RequestId: 40006110-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

   OPENAI_ENDPOINT set: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:14:17Z"/><EventRecordID>1634946640</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 1be015f7b884cf29
TraceId: 22c985a8ed46aa3e4160d1451c4e2743
ParentId: 0000000000000000
RequestId: 40006110-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

   OPENAI_DEPLOYMENT_NAME set: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:14:19Z"/><EventRecordID>1634949031</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 1be015f7b884cf29
TraceId: 22c985a8ed46aa3e4160d1451c4e2743
ParentId: 0000000000000000
RequestId: 40006110-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE FUNCTION DEBUG: Running in Azure environment
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:14:19Z"/><EventRecordID>1634949046</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 1be015f7b884cf29
TraceId: 22c985a8ed46aa3e4160d1451c4e2743
ParentId: 0000000000000000
RequestId: 40006110-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE FUNCTION CONFIG: URL=https://fn-conversationsave.azurewebsites.net/***/conversations/update, HasKey=True, HasUserId=False, HasUserEmail=False
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:14:19Z"/><EventRecordID>1634949062</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 1be015f7b884cf29
TraceId: 22c985a8ed46aa3e4160d1451c4e2743
ParentId: 0000000000000000
RequestId: 40006110-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE_FUNCTION_SAVE_START [9555a418]: Starting conversation save
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:14:19Z"/><EventRecordID>1634949062</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 1be015f7b884cf29
TraceId: 22c985a8ed46aa3e4160d1451c4e2743
ParentId: 0000000000000000
RequestId: 40006110-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Starting configuration retrieval for Azure Function
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:14:19Z"/><EventRecordID>1634949078</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 1be015f7b884cf29
TraceId: 22c985a8ed46aa3e4160d1451c4e2743
ParentId: 0000000000000000
RequestId: 40006110-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Raw env URL: [VALUE SET], Raw config URL: [NOT SET]
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:14:19Z"/><EventRecordID>1634949093</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 1be015f7b884cf29
TraceId: 22c985a8ed46aa3e4160d1451c4e2743
ParentId: 0000000000000000
RequestId: 40006110-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Key from env: True, Key from config: False
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:14:19Z"/><EventRecordID>1634949093</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 1be015f7b884cf29
TraceId: 22c985a8ed46aa3e4160d1451c4e2743
ParentId: 0000000000000000
RequestId: 40006110-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Final URL configured: True, URL value: https://fn-conversationsave.azurewebsites.net/****/conversations/update
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:14:19Z"/><EventRecordID>1634949093</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 1be015f7b884cf29
TraceId: 22c985a8ed46aa3e4160d1451c4e2743
ParentId: 0000000000000000
RequestId: 40006110-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Final Key configured: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:14:19Z"/><EventRecordID>1634949281</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 1be015f7b884cf29
TraceId: 22c985a8ed46aa3e4160d1451c4e2743
ParentId: 0000000000000000
RequestId: 40006110-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE_FUNCTION_SAVE_SUCCESS [9555a418]: Successfully saved conversation
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:15:11Z"/><EventRecordID>1635001078</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: b78302ee2cbba683
TraceId: e1e22646d193b0df9853adf43482040d
ParentId: 0000000000000000
RequestId: 40006111-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

DEBUG - OpenAI API Connection Details:
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:15:11Z"/><EventRecordID>1635001078</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: b78302ee2cbba683
TraceId: e1e22646d193b0df9853adf43482040d
ParentId: 0000000000000000
RequestId: 40006111-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

OpenAI Endpoint: https://generalsearchai.openai.azure.com/
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:15:11Z"/><EventRecordID>1635001093</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: b78302ee2cbba683
TraceId: e1e22646d193b0df9853adf43482040d
ParentId: 0000000000000000
RequestId: 40006111-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

OpenAI API Key Length: 84
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:15:11Z"/><EventRecordID>1635001093</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: b78302ee2cbba683
TraceId: e1e22646d193b0df9853adf43482040d
ParentId: 0000000000000000
RequestId: 40006111-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

OpenAI IsConfigured: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:15:11Z"/><EventRecordID>1635001109</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: b78302ee2cbba683
TraceId: e1e22646d193b0df9853adf43482040d
ParentId: 0000000000000000
RequestId: 40006111-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

API CALL DETAILS - Endpoint: https://generalsearchai.openai.azure.com/
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:15:11Z"/><EventRecordID>1635001109</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: b78302ee2cbba683
TraceId: e1e22646d193b0df9853adf43482040d
ParentId: 0000000000000000
RequestId: 40006111-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

API CALL DETAILS - DeploymentName: gpt-4.1
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:15:11Z"/><EventRecordID>1635001125</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: b78302ee2cbba683
TraceId: e1e22646d193b0df9853adf43482040d
ParentId: 0000000000000000
RequestId: 40006111-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

API CALL DETAILS - API Version: 2025-01-01-preview
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:15:11Z"/><EventRecordID>1635001140</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: b78302ee2cbba683
TraceId: e1e22646d193b0df9853adf43482040d
ParentId: 0000000000000000
RequestId: 40006111-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

DETAILED OPENAI DIAGNOSTICS:
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:15:11Z"/><EventRecordID>1635001140</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: b78302ee2cbba683
TraceId: e1e22646d193b0df9853adf43482040d
ParentId: 0000000000000000
RequestId: 40006111-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

1. Using OpenAIClient of type: Azure.AI.OpenAI.OpenAIClient
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:15:11Z"/><EventRecordID>1635001140</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: b78302ee2cbba683
TraceId: e1e22646d193b0df9853adf43482040d
ParentId: 0000000000000000
RequestId: 40006111-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

2. Endpoint URL being used: https://generalsearchai.openai.azure.com/
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:15:11Z"/><EventRecordID>1635001156</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: b78302ee2cbba683
TraceId: e1e22646d193b0df9853adf43482040d
ParentId: 0000000000000000
RequestId: 40006111-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

3. Deployment name being used: gpt-4.1
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:15:11Z"/><EventRecordID>1635001156</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: b78302ee2cbba683
TraceId: e1e22646d193b0df9853adf43482040d
ParentId: 0000000000000000
RequestId: 40006111-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

4. Environment variables:
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:15:11Z"/><EventRecordID>1635001171</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: b78302ee2cbba683
TraceId: e1e22646d193b0df9853adf43482040d
ParentId: 0000000000000000
RequestId: 40006111-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

   OPENAI_API_KEY set: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:15:11Z"/><EventRecordID>1635001171</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: b78302ee2cbba683
TraceId: e1e22646d193b0df9853adf43482040d
ParentId: 0000000000000000
RequestId: 40006111-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

   OPENAI_ENDPOINT set: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:15:11Z"/><EventRecordID>1635001187</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: b78302ee2cbba683
TraceId: e1e22646d193b0df9853adf43482040d
ParentId: 0000000000000000
RequestId: 40006111-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

   OPENAI_DEPLOYMENT_NAME set: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:15:15Z"/><EventRecordID>1635004656</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: b78302ee2cbba683
TraceId: e1e22646d193b0df9853adf43482040d
ParentId: 0000000000000000
RequestId: 40006111-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE FUNCTION DEBUG: Running in Azure environment
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:15:15Z"/><EventRecordID>1635004671</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: b78302ee2cbba683
TraceId: e1e22646d193b0df9853adf43482040d
ParentId: 0000000000000000
RequestId: 40006111-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE FUNCTION CONFIG: URL=https://fn-conversationsave.azurewebsites.net/***/conversations/update, HasKey=True, HasUserId=False, HasUserEmail=False
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:15:15Z"/><EventRecordID>1635004687</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: b78302ee2cbba683
TraceId: e1e22646d193b0df9853adf43482040d
ParentId: 0000000000000000
RequestId: 40006111-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE_FUNCTION_SAVE_START [69c8ea5d]: Starting conversation save
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:15:15Z"/><EventRecordID>1635004703</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: b78302ee2cbba683
TraceId: e1e22646d193b0df9853adf43482040d
ParentId: 0000000000000000
RequestId: 40006111-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Starting configuration retrieval for Azure Function
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:15:15Z"/><EventRecordID>1635004718</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: b78302ee2cbba683
TraceId: e1e22646d193b0df9853adf43482040d
ParentId: 0000000000000000
RequestId: 40006111-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Raw env URL: [VALUE SET], Raw config URL: [NOT SET]
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:15:15Z"/><EventRecordID>1635004718</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: b78302ee2cbba683
TraceId: e1e22646d193b0df9853adf43482040d
ParentId: 0000000000000000
RequestId: 40006111-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Key from env: True, Key from config: False
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:15:15Z"/><EventRecordID>1635004734</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: b78302ee2cbba683
TraceId: e1e22646d193b0df9853adf43482040d
ParentId: 0000000000000000
RequestId: 40006111-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Final URL configured: True, URL value: https://fn-conversationsave.azurewebsites.net/****/conversations/update
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:15:15Z"/><EventRecordID>1635004734</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: b78302ee2cbba683
TraceId: e1e22646d193b0df9853adf43482040d
ParentId: 0000000000000000
RequestId: 40006111-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Final Key configured: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:15:15Z"/><EventRecordID>1635004906</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: b78302ee2cbba683
TraceId: e1e22646d193b0df9853adf43482040d
ParentId: 0000000000000000
RequestId: 40006111-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE_FUNCTION_SAVE_SUCCESS [69c8ea5d]: Successfully saved conversation
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:15:51Z"/><EventRecordID>1635040750</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: c5d649397b00ccfd
TraceId: 9bb94d79402656ce59d6bdbd55f4e74f
ParentId: 0000000000000000
RequestId: 40006112-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

DEBUG - OpenAI API Connection Details:
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:15:51Z"/><EventRecordID>1635040765</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: c5d649397b00ccfd
TraceId: 9bb94d79402656ce59d6bdbd55f4e74f
ParentId: 0000000000000000
RequestId: 40006112-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

OpenAI Endpoint: https://generalsearchai.openai.azure.com/
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:15:51Z"/><EventRecordID>1635040765</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: c5d649397b00ccfd
TraceId: 9bb94d79402656ce59d6bdbd55f4e74f
ParentId: 0000000000000000
RequestId: 40006112-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

OpenAI API Key Length: 84
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:15:51Z"/><EventRecordID>1635040781</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: c5d649397b00ccfd
TraceId: 9bb94d79402656ce59d6bdbd55f4e74f
ParentId: 0000000000000000
RequestId: 40006112-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

OpenAI IsConfigured: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:15:51Z"/><EventRecordID>1635040781</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: c5d649397b00ccfd
TraceId: 9bb94d79402656ce59d6bdbd55f4e74f
ParentId: 0000000000000000
RequestId: 40006112-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

API CALL DETAILS - Endpoint: https://generalsearchai.openai.azure.com/
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:15:51Z"/><EventRecordID>1635040796</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: c5d649397b00ccfd
TraceId: 9bb94d79402656ce59d6bdbd55f4e74f
ParentId: 0000000000000000
RequestId: 40006112-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

API CALL DETAILS - DeploymentName: gpt-4.1
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:15:51Z"/><EventRecordID>1635040796</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: c5d649397b00ccfd
TraceId: 9bb94d79402656ce59d6bdbd55f4e74f
ParentId: 0000000000000000
RequestId: 40006112-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

API CALL DETAILS - API Version: 2025-01-01-preview
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:15:51Z"/><EventRecordID>1635040812</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: c5d649397b00ccfd
TraceId: 9bb94d79402656ce59d6bdbd55f4e74f
ParentId: 0000000000000000
RequestId: 40006112-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

DETAILED OPENAI DIAGNOSTICS:
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:15:51Z"/><EventRecordID>1635040812</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: c5d649397b00ccfd
TraceId: 9bb94d79402656ce59d6bdbd55f4e74f
ParentId: 0000000000000000
RequestId: 40006112-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

1. Using OpenAIClient of type: Azure.AI.OpenAI.OpenAIClient
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:15:51Z"/><EventRecordID>1635040828</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: c5d649397b00ccfd
TraceId: 9bb94d79402656ce59d6bdbd55f4e74f
ParentId: 0000000000000000
RequestId: 40006112-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

2. Endpoint URL being used: https://generalsearchai.openai.azure.com/
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:15:51Z"/><EventRecordID>1635040843</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: c5d649397b00ccfd
TraceId: 9bb94d79402656ce59d6bdbd55f4e74f
ParentId: 0000000000000000
RequestId: 40006112-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

3. Deployment name being used: gpt-4.1
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:15:51Z"/><EventRecordID>1635040843</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: c5d649397b00ccfd
TraceId: 9bb94d79402656ce59d6bdbd55f4e74f
ParentId: 0000000000000000
RequestId: 40006112-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

4. Environment variables:
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:15:51Z"/><EventRecordID>1635040859</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: c5d649397b00ccfd
TraceId: 9bb94d79402656ce59d6bdbd55f4e74f
ParentId: 0000000000000000
RequestId: 40006112-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

   OPENAI_API_KEY set: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:15:51Z"/><EventRecordID>1635040875</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: c5d649397b00ccfd
TraceId: 9bb94d79402656ce59d6bdbd55f4e74f
ParentId: 0000000000000000
RequestId: 40006112-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

   OPENAI_ENDPOINT set: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:15:51Z"/><EventRecordID>1635040875</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: c5d649397b00ccfd
TraceId: 9bb94d79402656ce59d6bdbd55f4e74f
ParentId: 0000000000000000
RequestId: 40006112-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

   OPENAI_DEPLOYMENT_NAME set: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:15:54Z"/><EventRecordID>1635044109</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: c5d649397b00ccfd
TraceId: 9bb94d79402656ce59d6bdbd55f4e74f
ParentId: 0000000000000000
RequestId: 40006112-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE FUNCTION DEBUG: Running in Azure environment
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:15:54Z"/><EventRecordID>1635044125</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: c5d649397b00ccfd
TraceId: 9bb94d79402656ce59d6bdbd55f4e74f
ParentId: 0000000000000000
RequestId: 40006112-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE FUNCTION CONFIG: URL=https://fn-conversationsave.azurewebsites.net/***/conversations/update, HasKey=True, HasUserId=False, HasUserEmail=False
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:15:54Z"/><EventRecordID>1635044140</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: c5d649397b00ccfd
TraceId: 9bb94d79402656ce59d6bdbd55f4e74f
ParentId: 0000000000000000
RequestId: 40006112-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE_FUNCTION_SAVE_START [807b864c]: Starting conversation save
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:15:54Z"/><EventRecordID>1635044140</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: c5d649397b00ccfd
TraceId: 9bb94d79402656ce59d6bdbd55f4e74f
ParentId: 0000000000000000
RequestId: 40006112-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Starting configuration retrieval for Azure Function
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:15:54Z"/><EventRecordID>1635044156</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: c5d649397b00ccfd
TraceId: 9bb94d79402656ce59d6bdbd55f4e74f
ParentId: 0000000000000000
RequestId: 40006112-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Raw env URL: [VALUE SET], Raw config URL: [NOT SET]
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:15:54Z"/><EventRecordID>1635044156</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: c5d649397b00ccfd
TraceId: 9bb94d79402656ce59d6bdbd55f4e74f
ParentId: 0000000000000000
RequestId: 40006112-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Key from env: True, Key from config: False
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:15:54Z"/><EventRecordID>1635044171</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: c5d649397b00ccfd
TraceId: 9bb94d79402656ce59d6bdbd55f4e74f
ParentId: 0000000000000000
RequestId: 40006112-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Final URL configured: True, URL value: https://fn-conversationsave.azurewebsites.net/****/conversations/update
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:15:54Z"/><EventRecordID>1635044187</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: c5d649397b00ccfd
TraceId: 9bb94d79402656ce59d6bdbd55f4e74f
ParentId: 0000000000000000
RequestId: 40006112-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Final Key configured: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:15:54Z"/><EventRecordID>1635044328</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: c5d649397b00ccfd
TraceId: 9bb94d79402656ce59d6bdbd55f4e74f
ParentId: 0000000000000000
RequestId: 40006112-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE_FUNCTION_SAVE_SUCCESS [807b864c]: Successfully saved conversation
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:16:14Z"/><EventRecordID>1635063875</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: c3f2ef849366db42
TraceId: 7c8a62a3a11480f3fd014719400e6371
ParentId: 0000000000000000
RequestId: 40006113-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

DEBUG - OpenAI API Connection Details:
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:16:14Z"/><EventRecordID>1635063890</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: c3f2ef849366db42
TraceId: 7c8a62a3a11480f3fd014719400e6371
ParentId: 0000000000000000
RequestId: 40006113-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

OpenAI Endpoint: https://generalsearchai.openai.azure.com/
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:16:14Z"/><EventRecordID>1635063906</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: c3f2ef849366db42
TraceId: 7c8a62a3a11480f3fd014719400e6371
ParentId: 0000000000000000
RequestId: 40006113-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

OpenAI API Key Length: 84
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:16:14Z"/><EventRecordID>1635063906</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: c3f2ef849366db42
TraceId: 7c8a62a3a11480f3fd014719400e6371
ParentId: 0000000000000000
RequestId: 40006113-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

OpenAI IsConfigured: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:16:14Z"/><EventRecordID>1635063921</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: c3f2ef849366db42
TraceId: 7c8a62a3a11480f3fd014719400e6371
ParentId: 0000000000000000
RequestId: 40006113-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

API CALL DETAILS - Endpoint: https://generalsearchai.openai.azure.com/
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:16:14Z"/><EventRecordID>1635063921</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: c3f2ef849366db42
TraceId: 7c8a62a3a11480f3fd014719400e6371
ParentId: 0000000000000000
RequestId: 40006113-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

API CALL DETAILS - DeploymentName: gpt-4.1
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:16:14Z"/><EventRecordID>1635063937</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: c3f2ef849366db42
TraceId: 7c8a62a3a11480f3fd014719400e6371
ParentId: 0000000000000000
RequestId: 40006113-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

API CALL DETAILS - API Version: 2025-01-01-preview
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:16:14Z"/><EventRecordID>1635063937</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: c3f2ef849366db42
TraceId: 7c8a62a3a11480f3fd014719400e6371
ParentId: 0000000000000000
RequestId: 40006113-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

DETAILED OPENAI DIAGNOSTICS:
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:16:14Z"/><EventRecordID>1635063953</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: c3f2ef849366db42
TraceId: 7c8a62a3a11480f3fd014719400e6371
ParentId: 0000000000000000
RequestId: 40006113-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

1. Using OpenAIClient of type: Azure.AI.OpenAI.OpenAIClient
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:16:14Z"/><EventRecordID>1635063968</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: c3f2ef849366db42
TraceId: 7c8a62a3a11480f3fd014719400e6371
ParentId: 0000000000000000
RequestId: 40006113-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

2. Endpoint URL being used: https://generalsearchai.openai.azure.com/
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:16:14Z"/><EventRecordID>1635063968</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: c3f2ef849366db42
TraceId: 7c8a62a3a11480f3fd014719400e6371
ParentId: 0000000000000000
RequestId: 40006113-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

3. Deployment name being used: gpt-4.1
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:16:14Z"/><EventRecordID>1635063984</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: c3f2ef849366db42
TraceId: 7c8a62a3a11480f3fd014719400e6371
ParentId: 0000000000000000
RequestId: 40006113-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

4. Environment variables:
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:16:14Z"/><EventRecordID>1635063984</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: c3f2ef849366db42
TraceId: 7c8a62a3a11480f3fd014719400e6371
ParentId: 0000000000000000
RequestId: 40006113-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

   OPENAI_API_KEY set: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:16:14Z"/><EventRecordID>1635064000</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: c3f2ef849366db42
TraceId: 7c8a62a3a11480f3fd014719400e6371
ParentId: 0000000000000000
RequestId: 40006113-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

   OPENAI_ENDPOINT set: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:16:14Z"/><EventRecordID>1635064015</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: c3f2ef849366db42
TraceId: 7c8a62a3a11480f3fd014719400e6371
ParentId: 0000000000000000
RequestId: 40006113-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

   OPENAI_DEPLOYMENT_NAME set: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:16:19Z"/><EventRecordID>1635068625</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: c3f2ef849366db42
TraceId: 7c8a62a3a11480f3fd014719400e6371
ParentId: 0000000000000000
RequestId: 40006113-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE FUNCTION DEBUG: Running in Azure environment
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:16:19Z"/><EventRecordID>1635068718</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: c3f2ef849366db42
TraceId: 7c8a62a3a11480f3fd014719400e6371
ParentId: 0000000000000000
RequestId: 40006113-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE FUNCTION CONFIG: URL=https://fn-conversationsave.azurewebsites.net/***/conversations/update, HasKey=True, HasUserId=False, HasUserEmail=False
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:16:19Z"/><EventRecordID>1635068765</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: c3f2ef849366db42
TraceId: 7c8a62a3a11480f3fd014719400e6371
ParentId: 0000000000000000
RequestId: 40006113-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE_FUNCTION_SAVE_START [43b08d1d]: Starting conversation save
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:16:19Z"/><EventRecordID>1635068781</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: c3f2ef849366db42
TraceId: 7c8a62a3a11480f3fd014719400e6371
ParentId: 0000000000000000
RequestId: 40006113-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Starting configuration retrieval for Azure Function
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:16:19Z"/><EventRecordID>1635068796</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: c3f2ef849366db42
TraceId: 7c8a62a3a11480f3fd014719400e6371
ParentId: 0000000000000000
RequestId: 40006113-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Raw env URL: [VALUE SET], Raw config URL: [NOT SET]
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:16:19Z"/><EventRecordID>1635068812</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: c3f2ef849366db42
TraceId: 7c8a62a3a11480f3fd014719400e6371
ParentId: 0000000000000000
RequestId: 40006113-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Key from env: True, Key from config: False
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:16:19Z"/><EventRecordID>1635068812</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: c3f2ef849366db42
TraceId: 7c8a62a3a11480f3fd014719400e6371
ParentId: 0000000000000000
RequestId: 40006113-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Final URL configured: True, URL value: https://fn-conversationsave.azurewebsites.net/****/conversations/update
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:16:19Z"/><EventRecordID>1635068812</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: c3f2ef849366db42
TraceId: 7c8a62a3a11480f3fd014719400e6371
ParentId: 0000000000000000
RequestId: 40006113-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Final Key configured: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:16:19Z"/><EventRecordID>1635068937</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: c3f2ef849366db42
TraceId: 7c8a62a3a11480f3fd014719400e6371
ParentId: 0000000000000000
RequestId: 40006113-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE_FUNCTION_SAVE_SUCCESS [43b08d1d]: Successfully saved conversation
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:17:05Z"/><EventRecordID>1635115453</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 67483ad0da4b4af7
TraceId: bea3e9bf7e6c625989e049265614f3f7
ParentId: 0000000000000000
RequestId: 40006114-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

DEBUG - OpenAI API Connection Details:
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:17:05Z"/><EventRecordID>1635115453</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 67483ad0da4b4af7
TraceId: bea3e9bf7e6c625989e049265614f3f7
ParentId: 0000000000000000
RequestId: 40006114-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

OpenAI Endpoint: https://generalsearchai.openai.azure.com/
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:17:05Z"/><EventRecordID>1635115468</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 67483ad0da4b4af7
TraceId: bea3e9bf7e6c625989e049265614f3f7
ParentId: 0000000000000000
RequestId: 40006114-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

OpenAI API Key Length: 84
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:17:05Z"/><EventRecordID>1635115500</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 67483ad0da4b4af7
TraceId: bea3e9bf7e6c625989e049265614f3f7
ParentId: 0000000000000000
RequestId: 40006114-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

OpenAI IsConfigured: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:17:05Z"/><EventRecordID>1635115500</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 67483ad0da4b4af7
TraceId: bea3e9bf7e6c625989e049265614f3f7
ParentId: 0000000000000000
RequestId: 40006114-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

API CALL DETAILS - Endpoint: https://generalsearchai.openai.azure.com/
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:17:05Z"/><EventRecordID>1635115500</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 67483ad0da4b4af7
TraceId: bea3e9bf7e6c625989e049265614f3f7
ParentId: 0000000000000000
RequestId: 40006114-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

API CALL DETAILS - DeploymentName: gpt-4.1
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:17:05Z"/><EventRecordID>1635115515</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 67483ad0da4b4af7
TraceId: bea3e9bf7e6c625989e049265614f3f7
ParentId: 0000000000000000
RequestId: 40006114-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

API CALL DETAILS - API Version: 2025-01-01-preview
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:17:05Z"/><EventRecordID>1635115515</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 67483ad0da4b4af7
TraceId: bea3e9bf7e6c625989e049265614f3f7
ParentId: 0000000000000000
RequestId: 40006114-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

DETAILED OPENAI DIAGNOSTICS:
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:17:06Z"/><EventRecordID>1635115531</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 67483ad0da4b4af7
TraceId: bea3e9bf7e6c625989e049265614f3f7
ParentId: 0000000000000000
RequestId: 40006114-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

1. Using OpenAIClient of type: Azure.AI.OpenAI.OpenAIClient
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:17:06Z"/><EventRecordID>1635115531</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 67483ad0da4b4af7
TraceId: bea3e9bf7e6c625989e049265614f3f7
ParentId: 0000000000000000
RequestId: 40006114-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

2. Endpoint URL being used: https://generalsearchai.openai.azure.com/
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:17:06Z"/><EventRecordID>1635115546</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 67483ad0da4b4af7
TraceId: bea3e9bf7e6c625989e049265614f3f7
ParentId: 0000000000000000
RequestId: 40006114-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

3. Deployment name being used: gpt-4.1
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:17:06Z"/><EventRecordID>1635115546</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 67483ad0da4b4af7
TraceId: bea3e9bf7e6c625989e049265614f3f7
ParentId: 0000000000000000
RequestId: 40006114-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

4. Environment variables:
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:17:06Z"/><EventRecordID>1635115562</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 67483ad0da4b4af7
TraceId: bea3e9bf7e6c625989e049265614f3f7
ParentId: 0000000000000000
RequestId: 40006114-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

   OPENAI_API_KEY set: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:17:06Z"/><EventRecordID>1635115593</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 67483ad0da4b4af7
TraceId: bea3e9bf7e6c625989e049265614f3f7
ParentId: 0000000000000000
RequestId: 40006114-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

   OPENAI_ENDPOINT set: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:17:06Z"/><EventRecordID>1635115593</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 67483ad0da4b4af7
TraceId: bea3e9bf7e6c625989e049265614f3f7
ParentId: 0000000000000000
RequestId: 40006114-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

   OPENAI_DEPLOYMENT_NAME set: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:17:08Z"/><EventRecordID>1635118187</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 67483ad0da4b4af7
TraceId: bea3e9bf7e6c625989e049265614f3f7
ParentId: 0000000000000000
RequestId: 40006114-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE FUNCTION DEBUG: Running in Azure environment
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:17:08Z"/><EventRecordID>1635118203</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 67483ad0da4b4af7
TraceId: bea3e9bf7e6c625989e049265614f3f7
ParentId: 0000000000000000
RequestId: 40006114-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE FUNCTION CONFIG: URL=https://fn-conversationsave.azurewebsites.net/***/conversations/update, HasKey=True, HasUserId=False, HasUserEmail=False
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:17:08Z"/><EventRecordID>1635118218</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 67483ad0da4b4af7
TraceId: bea3e9bf7e6c625989e049265614f3f7
ParentId: 0000000000000000
RequestId: 40006114-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE_FUNCTION_SAVE_START [e5d5327f]: Starting conversation save
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:17:08Z"/><EventRecordID>1635118234</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 67483ad0da4b4af7
TraceId: bea3e9bf7e6c625989e049265614f3f7
ParentId: 0000000000000000
RequestId: 40006114-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Starting configuration retrieval for Azure Function
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:17:08Z"/><EventRecordID>1635118234</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 67483ad0da4b4af7
TraceId: bea3e9bf7e6c625989e049265614f3f7
ParentId: 0000000000000000
RequestId: 40006114-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Raw env URL: [VALUE SET], Raw config URL: [NOT SET]
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:17:08Z"/><EventRecordID>1635118250</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 67483ad0da4b4af7
TraceId: bea3e9bf7e6c625989e049265614f3f7
ParentId: 0000000000000000
RequestId: 40006114-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Key from env: True, Key from config: False
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:17:08Z"/><EventRecordID>1635118250</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 67483ad0da4b4af7
TraceId: bea3e9bf7e6c625989e049265614f3f7
ParentId: 0000000000000000
RequestId: 40006114-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Final URL configured: True, URL value: https://fn-conversationsave.azurewebsites.net/****/conversations/update
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:17:08Z"/><EventRecordID>1635118265</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 67483ad0da4b4af7
TraceId: bea3e9bf7e6c625989e049265614f3f7
ParentId: 0000000000000000
RequestId: 40006114-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Final Key configured: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:17:08Z"/><EventRecordID>1635118437</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 67483ad0da4b4af7
TraceId: bea3e9bf7e6c625989e049265614f3f7
ParentId: 0000000000000000
RequestId: 40006114-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE_FUNCTION_SAVE_SUCCESS [e5d5327f]: Successfully saved conversation
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:17:36Z"/><EventRecordID>1635145796</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: f08d6617ece0c3af
TraceId: 6e950234becf2873cea2a443eb373067
ParentId: 0000000000000000
RequestId: 40006116-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

DEBUG - OpenAI API Connection Details:
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:17:36Z"/><EventRecordID>1635145812</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: f08d6617ece0c3af
TraceId: 6e950234becf2873cea2a443eb373067
ParentId: 0000000000000000
RequestId: 40006116-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

OpenAI Endpoint: https://generalsearchai.openai.azure.com/
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:17:36Z"/><EventRecordID>1635145812</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: f08d6617ece0c3af
TraceId: 6e950234becf2873cea2a443eb373067
ParentId: 0000000000000000
RequestId: 40006116-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

OpenAI API Key Length: 84
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:17:36Z"/><EventRecordID>1635145828</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: f08d6617ece0c3af
TraceId: 6e950234becf2873cea2a443eb373067
ParentId: 0000000000000000
RequestId: 40006116-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

OpenAI IsConfigured: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:17:36Z"/><EventRecordID>1635145828</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: f08d6617ece0c3af
TraceId: 6e950234becf2873cea2a443eb373067
ParentId: 0000000000000000
RequestId: 40006116-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

API CALL DETAILS - Endpoint: https://generalsearchai.openai.azure.com/
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:17:36Z"/><EventRecordID>1635145859</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: f08d6617ece0c3af
TraceId: 6e950234becf2873cea2a443eb373067
ParentId: 0000000000000000
RequestId: 40006116-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

API CALL DETAILS - DeploymentName: gpt-4.1
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:17:36Z"/><EventRecordID>1635145875</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: f08d6617ece0c3af
TraceId: 6e950234becf2873cea2a443eb373067
ParentId: 0000000000000000
RequestId: 40006116-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

API CALL DETAILS - API Version: 2025-01-01-preview
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:17:36Z"/><EventRecordID>1635145875</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: f08d6617ece0c3af
TraceId: 6e950234becf2873cea2a443eb373067
ParentId: 0000000000000000
RequestId: 40006116-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

DETAILED OPENAI DIAGNOSTICS:
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:17:36Z"/><EventRecordID>1635145890</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: f08d6617ece0c3af
TraceId: 6e950234becf2873cea2a443eb373067
ParentId: 0000000000000000
RequestId: 40006116-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

1. Using OpenAIClient of type: Azure.AI.OpenAI.OpenAIClient
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:17:36Z"/><EventRecordID>1635145890</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: f08d6617ece0c3af
TraceId: 6e950234becf2873cea2a443eb373067
ParentId: 0000000000000000
RequestId: 40006116-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

2. Endpoint URL being used: https://generalsearchai.openai.azure.com/
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:17:36Z"/><EventRecordID>1635145906</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: f08d6617ece0c3af
TraceId: 6e950234becf2873cea2a443eb373067
ParentId: 0000000000000000
RequestId: 40006116-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

3. Deployment name being used: gpt-4.1
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:17:36Z"/><EventRecordID>1635145906</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: f08d6617ece0c3af
TraceId: 6e950234becf2873cea2a443eb373067
ParentId: 0000000000000000
RequestId: 40006116-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

4. Environment variables:
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:17:36Z"/><EventRecordID>1635145906</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: f08d6617ece0c3af
TraceId: 6e950234becf2873cea2a443eb373067
ParentId: 0000000000000000
RequestId: 40006116-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

   OPENAI_API_KEY set: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:17:36Z"/><EventRecordID>1635145921</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: f08d6617ece0c3af
TraceId: 6e950234becf2873cea2a443eb373067
ParentId: 0000000000000000
RequestId: 40006116-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

   OPENAI_ENDPOINT set: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:17:36Z"/><EventRecordID>1635145937</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: f08d6617ece0c3af
TraceId: 6e950234becf2873cea2a443eb373067
ParentId: 0000000000000000
RequestId: 40006116-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

   OPENAI_DEPLOYMENT_NAME set: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:17:38Z"/><EventRecordID>1635148062</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: f08d6617ece0c3af
TraceId: 6e950234becf2873cea2a443eb373067
ParentId: 0000000000000000
RequestId: 40006116-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE FUNCTION DEBUG: Running in Azure environment
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:17:38Z"/><EventRecordID>1635148078</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: f08d6617ece0c3af
TraceId: 6e950234becf2873cea2a443eb373067
ParentId: 0000000000000000
RequestId: 40006116-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE FUNCTION CONFIG: URL=https://fn-conversationsave.azurewebsites.net/***/conversations/update, HasKey=True, HasUserId=False, HasUserEmail=False
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:17:38Z"/><EventRecordID>1635148093</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: f08d6617ece0c3af
TraceId: 6e950234becf2873cea2a443eb373067
ParentId: 0000000000000000
RequestId: 40006116-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE_FUNCTION_SAVE_START [f4c4924e]: Starting conversation save
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:17:38Z"/><EventRecordID>1635148125</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: f08d6617ece0c3af
TraceId: 6e950234becf2873cea2a443eb373067
ParentId: 0000000000000000
RequestId: 40006116-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Starting configuration retrieval for Azure Function
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:17:38Z"/><EventRecordID>1635148125</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: f08d6617ece0c3af
TraceId: 6e950234becf2873cea2a443eb373067
ParentId: 0000000000000000
RequestId: 40006116-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Raw env URL: [VALUE SET], Raw config URL: [NOT SET]
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:17:38Z"/><EventRecordID>1635148125</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: f08d6617ece0c3af
TraceId: 6e950234becf2873cea2a443eb373067
ParentId: 0000000000000000
RequestId: 40006116-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Key from env: True, Key from config: False
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:17:38Z"/><EventRecordID>1635148140</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: f08d6617ece0c3af
TraceId: 6e950234becf2873cea2a443eb373067
ParentId: 0000000000000000
RequestId: 40006116-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Final URL configured: True, URL value: https://fn-conversationsave.azurewebsites.net/****/conversations/update
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:17:38Z"/><EventRecordID>1635148140</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: f08d6617ece0c3af
TraceId: 6e950234becf2873cea2a443eb373067
ParentId: 0000000000000000
RequestId: 40006116-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Final Key configured: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:17:38Z"/><EventRecordID>1635148453</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: f08d6617ece0c3af
TraceId: 6e950234becf2873cea2a443eb373067
ParentId: 0000000000000000
RequestId: 40006116-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE_FUNCTION_SAVE_SUCCESS [f4c4924e]: Successfully saved conversation
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:18:00Z"/><EventRecordID>1635170281</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 7471c242f269b393
TraceId: bf30ad037b422af2794ca068fd49e3bb
ParentId: 0000000000000000
RequestId: 40006117-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

DEBUG - OpenAI API Connection Details:
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:18:00Z"/><EventRecordID>1635170296</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 7471c242f269b393
TraceId: bf30ad037b422af2794ca068fd49e3bb
ParentId: 0000000000000000
RequestId: 40006117-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

OpenAI Endpoint: https://generalsearchai.openai.azure.com/
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:18:00Z"/><EventRecordID>1635170312</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 7471c242f269b393
TraceId: bf30ad037b422af2794ca068fd49e3bb
ParentId: 0000000000000000
RequestId: 40006117-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

OpenAI API Key Length: 84
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:18:00Z"/><EventRecordID>1635170328</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 7471c242f269b393
TraceId: bf30ad037b422af2794ca068fd49e3bb
ParentId: 0000000000000000
RequestId: 40006117-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

OpenAI IsConfigured: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:18:00Z"/><EventRecordID>1635170328</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 7471c242f269b393
TraceId: bf30ad037b422af2794ca068fd49e3bb
ParentId: 0000000000000000
RequestId: 40006117-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

API CALL DETAILS - Endpoint: https://generalsearchai.openai.azure.com/
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:18:00Z"/><EventRecordID>1635170343</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 7471c242f269b393
TraceId: bf30ad037b422af2794ca068fd49e3bb
ParentId: 0000000000000000
RequestId: 40006117-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

API CALL DETAILS - DeploymentName: gpt-4.1
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:18:00Z"/><EventRecordID>1635170343</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 7471c242f269b393
TraceId: bf30ad037b422af2794ca068fd49e3bb
ParentId: 0000000000000000
RequestId: 40006117-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

API CALL DETAILS - API Version: 2025-01-01-preview
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:18:00Z"/><EventRecordID>1635170343</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 7471c242f269b393
TraceId: bf30ad037b422af2794ca068fd49e3bb
ParentId: 0000000000000000
RequestId: 40006117-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

DETAILED OPENAI DIAGNOSTICS:
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:18:00Z"/><EventRecordID>1635170359</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 7471c242f269b393
TraceId: bf30ad037b422af2794ca068fd49e3bb
ParentId: 0000000000000000
RequestId: 40006117-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

1. Using OpenAIClient of type: Azure.AI.OpenAI.OpenAIClient
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:18:00Z"/><EventRecordID>1635170375</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 7471c242f269b393
TraceId: bf30ad037b422af2794ca068fd49e3bb
ParentId: 0000000000000000
RequestId: 40006117-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

2. Endpoint URL being used: https://generalsearchai.openai.azure.com/
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:18:00Z"/><EventRecordID>1635170375</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 7471c242f269b393
TraceId: bf30ad037b422af2794ca068fd49e3bb
ParentId: 0000000000000000
RequestId: 40006117-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

3. Deployment name being used: gpt-4.1
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:18:00Z"/><EventRecordID>1635170390</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 7471c242f269b393
TraceId: bf30ad037b422af2794ca068fd49e3bb
ParentId: 0000000000000000
RequestId: 40006117-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

4. Environment variables:
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:18:00Z"/><EventRecordID>1635170406</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 7471c242f269b393
TraceId: bf30ad037b422af2794ca068fd49e3bb
ParentId: 0000000000000000
RequestId: 40006117-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

   OPENAI_API_KEY set: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:18:00Z"/><EventRecordID>1635170421</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 7471c242f269b393
TraceId: bf30ad037b422af2794ca068fd49e3bb
ParentId: 0000000000000000
RequestId: 40006117-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

   OPENAI_ENDPOINT set: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:18:00Z"/><EventRecordID>1635170421</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 7471c242f269b393
TraceId: bf30ad037b422af2794ca068fd49e3bb
ParentId: 0000000000000000
RequestId: 40006117-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

   OPENAI_DEPLOYMENT_NAME set: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:18:02Z"/><EventRecordID>1635172062</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 7471c242f269b393
TraceId: bf30ad037b422af2794ca068fd49e3bb
ParentId: 0000000000000000
RequestId: 40006117-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE FUNCTION DEBUG: Running in Azure environment
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:18:02Z"/><EventRecordID>1635172078</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 7471c242f269b393
TraceId: bf30ad037b422af2794ca068fd49e3bb
ParentId: 0000000000000000
RequestId: 40006117-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE FUNCTION CONFIG: URL=https://fn-conversationsave.azurewebsites.net/***/conversations/update, HasKey=True, HasUserId=False, HasUserEmail=False
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:18:02Z"/><EventRecordID>1635172093</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 7471c242f269b393
TraceId: bf30ad037b422af2794ca068fd49e3bb
ParentId: 0000000000000000
RequestId: 40006117-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE_FUNCTION_SAVE_START [ee5124e7]: Starting conversation save
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:18:02Z"/><EventRecordID>1635172125</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 7471c242f269b393
TraceId: bf30ad037b422af2794ca068fd49e3bb
ParentId: 0000000000000000
RequestId: 40006117-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Starting configuration retrieval for Azure Function
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:18:02Z"/><EventRecordID>1635172125</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 7471c242f269b393
TraceId: bf30ad037b422af2794ca068fd49e3bb
ParentId: 0000000000000000
RequestId: 40006117-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Raw env URL: [VALUE SET], Raw config URL: [NOT SET]
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:18:02Z"/><EventRecordID>1635172140</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 7471c242f269b393
TraceId: bf30ad037b422af2794ca068fd49e3bb
ParentId: 0000000000000000
RequestId: 40006117-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Key from env: True, Key from config: False
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:18:02Z"/><EventRecordID>1635172156</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 7471c242f269b393
TraceId: bf30ad037b422af2794ca068fd49e3bb
ParentId: 0000000000000000
RequestId: 40006117-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Final URL configured: True, URL value: https://fn-conversationsave.azurewebsites.net/****/conversations/update
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:18:02Z"/><EventRecordID>1635172171</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 7471c242f269b393
TraceId: bf30ad037b422af2794ca068fd49e3bb
ParentId: 0000000000000000
RequestId: 40006117-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Final Key configured: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:18:02Z"/><EventRecordID>1635172312</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 7471c242f269b393
TraceId: bf30ad037b422af2794ca068fd49e3bb
ParentId: 0000000000000000
RequestId: 40006117-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE_FUNCTION_SAVE_SUCCESS [ee5124e7]: Successfully saved conversation
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:18:37Z"/><EventRecordID>1635207000</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 51594ab94b335121
TraceId: 893bcd5c2f0007efb298e35ac905e678
ParentId: 0000000000000000
RequestId: 40006118-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

DEBUG - OpenAI API Connection Details:
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:18:37Z"/><EventRecordID>1635207000</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 51594ab94b335121
TraceId: 893bcd5c2f0007efb298e35ac905e678
ParentId: 0000000000000000
RequestId: 40006118-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

OpenAI Endpoint: https://generalsearchai.openai.azure.com/
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:18:37Z"/><EventRecordID>1635207015</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 51594ab94b335121
TraceId: 893bcd5c2f0007efb298e35ac905e678
ParentId: 0000000000000000
RequestId: 40006118-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

OpenAI API Key Length: 84
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:18:37Z"/><EventRecordID>1635207015</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 51594ab94b335121
TraceId: 893bcd5c2f0007efb298e35ac905e678
ParentId: 0000000000000000
RequestId: 40006118-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

OpenAI IsConfigured: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:18:37Z"/><EventRecordID>1635207031</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 51594ab94b335121
TraceId: 893bcd5c2f0007efb298e35ac905e678
ParentId: 0000000000000000
RequestId: 40006118-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

API CALL DETAILS - Endpoint: https://generalsearchai.openai.azure.com/
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:18:37Z"/><EventRecordID>1635207046</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 51594ab94b335121
TraceId: 893bcd5c2f0007efb298e35ac905e678
ParentId: 0000000000000000
RequestId: 40006118-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

API CALL DETAILS - DeploymentName: gpt-4.1
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:18:37Z"/><EventRecordID>1635207046</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 51594ab94b335121
TraceId: 893bcd5c2f0007efb298e35ac905e678
ParentId: 0000000000000000
RequestId: 40006118-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

API CALL DETAILS - API Version: 2025-01-01-preview
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:18:37Z"/><EventRecordID>1635207062</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 51594ab94b335121
TraceId: 893bcd5c2f0007efb298e35ac905e678
ParentId: 0000000000000000
RequestId: 40006118-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

DETAILED OPENAI DIAGNOSTICS:
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:18:37Z"/><EventRecordID>1635207062</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 51594ab94b335121
TraceId: 893bcd5c2f0007efb298e35ac905e678
ParentId: 0000000000000000
RequestId: 40006118-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

1. Using OpenAIClient of type: Azure.AI.OpenAI.OpenAIClient
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:18:37Z"/><EventRecordID>1635207078</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 51594ab94b335121
TraceId: 893bcd5c2f0007efb298e35ac905e678
ParentId: 0000000000000000
RequestId: 40006118-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

2. Endpoint URL being used: https://generalsearchai.openai.azure.com/
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:18:37Z"/><EventRecordID>1635207078</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 51594ab94b335121
TraceId: 893bcd5c2f0007efb298e35ac905e678
ParentId: 0000000000000000
RequestId: 40006118-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

3. Deployment name being used: gpt-4.1
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:18:37Z"/><EventRecordID>1635207093</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 51594ab94b335121
TraceId: 893bcd5c2f0007efb298e35ac905e678
ParentId: 0000000000000000
RequestId: 40006118-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

4. Environment variables:
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:18:37Z"/><EventRecordID>1635207109</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 51594ab94b335121
TraceId: 893bcd5c2f0007efb298e35ac905e678
ParentId: 0000000000000000
RequestId: 40006118-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

   OPENAI_API_KEY set: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:18:37Z"/><EventRecordID>1635207140</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 51594ab94b335121
TraceId: 893bcd5c2f0007efb298e35ac905e678
ParentId: 0000000000000000
RequestId: 40006118-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

   OPENAI_ENDPOINT set: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:18:37Z"/><EventRecordID>1635207156</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 51594ab94b335121
TraceId: 893bcd5c2f0007efb298e35ac905e678
ParentId: 0000000000000000
RequestId: 40006118-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

   OPENAI_DEPLOYMENT_NAME set: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:18:39Z"/><EventRecordID>1635208859</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 51594ab94b335121
TraceId: 893bcd5c2f0007efb298e35ac905e678
ParentId: 0000000000000000
RequestId: 40006118-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE FUNCTION DEBUG: Running in Azure environment
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:18:39Z"/><EventRecordID>1635208875</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 51594ab94b335121
TraceId: 893bcd5c2f0007efb298e35ac905e678
ParentId: 0000000000000000
RequestId: 40006118-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE FUNCTION CONFIG: URL=https://fn-conversationsave.azurewebsites.net/***/conversations/update, HasKey=True, HasUserId=False, HasUserEmail=False
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:18:39Z"/><EventRecordID>1635208890</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 51594ab94b335121
TraceId: 893bcd5c2f0007efb298e35ac905e678
ParentId: 0000000000000000
RequestId: 40006118-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE_FUNCTION_SAVE_START [11dfbe05]: Starting conversation save
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:18:39Z"/><EventRecordID>1635208921</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 51594ab94b335121
TraceId: 893bcd5c2f0007efb298e35ac905e678
ParentId: 0000000000000000
RequestId: 40006118-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Starting configuration retrieval for Azure Function
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:18:39Z"/><EventRecordID>1635208968</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 51594ab94b335121
TraceId: 893bcd5c2f0007efb298e35ac905e678
ParentId: 0000000000000000
RequestId: 40006118-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Raw env URL: [VALUE SET], Raw config URL: [NOT SET]
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:18:39Z"/><EventRecordID>1635209000</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 51594ab94b335121
TraceId: 893bcd5c2f0007efb298e35ac905e678
ParentId: 0000000000000000
RequestId: 40006118-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Key from env: True, Key from config: False
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:18:39Z"/><EventRecordID>1635209031</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 51594ab94b335121
TraceId: 893bcd5c2f0007efb298e35ac905e678
ParentId: 0000000000000000
RequestId: 40006118-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Final URL configured: True, URL value: https://fn-conversationsave.azurewebsites.net/****/conversations/update
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:18:39Z"/><EventRecordID>1635209031</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 51594ab94b335121
TraceId: 893bcd5c2f0007efb298e35ac905e678
ParentId: 0000000000000000
RequestId: 40006118-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Final Key configured: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:18:39Z"/><EventRecordID>1635209203</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 51594ab94b335121
TraceId: 893bcd5c2f0007efb298e35ac905e678
ParentId: 0000000000000000
RequestId: 40006118-0000-8a00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE_FUNCTION_SAVE_SUCCESS [11dfbe05]: Successfully saved conversation
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:20:11Z"/><EventRecordID>1635300937</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 73f39c8393bb460c
TraceId: 7c69c1f22441f0aca868a94a19bd99ea
ParentId: 0000000000000000
RequestId: 40022d3e-0000-5e00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

DEBUG - OpenAI API Connection Details:
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:20:11Z"/><EventRecordID>1635300937</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 73f39c8393bb460c
TraceId: 7c69c1f22441f0aca868a94a19bd99ea
ParentId: 0000000000000000
RequestId: 40022d3e-0000-5e00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

OpenAI Endpoint: https://generalsearchai.openai.azure.com/
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:20:11Z"/><EventRecordID>1635300953</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 73f39c8393bb460c
TraceId: 7c69c1f22441f0aca868a94a19bd99ea
ParentId: 0000000000000000
RequestId: 40022d3e-0000-5e00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

OpenAI API Key Length: 84
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:20:11Z"/><EventRecordID>1635300968</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 73f39c8393bb460c
TraceId: 7c69c1f22441f0aca868a94a19bd99ea
ParentId: 0000000000000000
RequestId: 40022d3e-0000-5e00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

OpenAI IsConfigured: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:20:11Z"/><EventRecordID>1635300984</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 73f39c8393bb460c
TraceId: 7c69c1f22441f0aca868a94a19bd99ea
ParentId: 0000000000000000
RequestId: 40022d3e-0000-5e00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

API CALL DETAILS - Endpoint: https://generalsearchai.openai.azure.com/
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:20:11Z"/><EventRecordID>1635300984</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 73f39c8393bb460c
TraceId: 7c69c1f22441f0aca868a94a19bd99ea
ParentId: 0000000000000000
RequestId: 40022d3e-0000-5e00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

API CALL DETAILS - DeploymentName: gpt-4.1
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:20:11Z"/><EventRecordID>1635301000</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 73f39c8393bb460c
TraceId: 7c69c1f22441f0aca868a94a19bd99ea
ParentId: 0000000000000000
RequestId: 40022d3e-0000-5e00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

API CALL DETAILS - API Version: 2025-01-01-preview
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:20:11Z"/><EventRecordID>1635301015</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 73f39c8393bb460c
TraceId: 7c69c1f22441f0aca868a94a19bd99ea
ParentId: 0000000000000000
RequestId: 40022d3e-0000-5e00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

DETAILED OPENAI DIAGNOSTICS:
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:20:11Z"/><EventRecordID>1635301015</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 73f39c8393bb460c
TraceId: 7c69c1f22441f0aca868a94a19bd99ea
ParentId: 0000000000000000
RequestId: 40022d3e-0000-5e00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

1. Using OpenAIClient of type: Azure.AI.OpenAI.OpenAIClient
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:20:11Z"/><EventRecordID>1635301031</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 73f39c8393bb460c
TraceId: 7c69c1f22441f0aca868a94a19bd99ea
ParentId: 0000000000000000
RequestId: 40022d3e-0000-5e00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

2. Endpoint URL being used: https://generalsearchai.openai.azure.com/
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:20:11Z"/><EventRecordID>1635301031</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 73f39c8393bb460c
TraceId: 7c69c1f22441f0aca868a94a19bd99ea
ParentId: 0000000000000000
RequestId: 40022d3e-0000-5e00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

3. Deployment name being used: gpt-4.1
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:20:11Z"/><EventRecordID>1635301046</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 73f39c8393bb460c
TraceId: 7c69c1f22441f0aca868a94a19bd99ea
ParentId: 0000000000000000
RequestId: 40022d3e-0000-5e00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

4. Environment variables:
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:20:11Z"/><EventRecordID>1635301046</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 73f39c8393bb460c
TraceId: 7c69c1f22441f0aca868a94a19bd99ea
ParentId: 0000000000000000
RequestId: 40022d3e-0000-5e00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

   OPENAI_API_KEY set: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:20:11Z"/><EventRecordID>1635301046</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 73f39c8393bb460c
TraceId: 7c69c1f22441f0aca868a94a19bd99ea
ParentId: 0000000000000000
RequestId: 40022d3e-0000-5e00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

   OPENAI_ENDPOINT set: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:20:11Z"/><EventRecordID>1635301062</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 73f39c8393bb460c
TraceId: 7c69c1f22441f0aca868a94a19bd99ea
ParentId: 0000000000000000
RequestId: 40022d3e-0000-5e00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

   OPENAI_DEPLOYMENT_NAME set: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:20:14Z"/><EventRecordID>1635304468</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 73f39c8393bb460c
TraceId: 7c69c1f22441f0aca868a94a19bd99ea
ParentId: 0000000000000000
RequestId: 40022d3e-0000-5e00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE FUNCTION DEBUG: Running in Azure environment
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:20:14Z"/><EventRecordID>1635304484</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 73f39c8393bb460c
TraceId: 7c69c1f22441f0aca868a94a19bd99ea
ParentId: 0000000000000000
RequestId: 40022d3e-0000-5e00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE FUNCTION CONFIG: URL=https://fn-conversationsave.azurewebsites.net/***/conversations/update, HasKey=True, HasUserId=False, HasUserEmail=False
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:20:14Z"/><EventRecordID>1635304500</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 73f39c8393bb460c
TraceId: 7c69c1f22441f0aca868a94a19bd99ea
ParentId: 0000000000000000
RequestId: 40022d3e-0000-5e00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE_FUNCTION_SAVE_START [b8c3c19f]: Starting conversation save
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:20:14Z"/><EventRecordID>1635304515</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 73f39c8393bb460c
TraceId: 7c69c1f22441f0aca868a94a19bd99ea
ParentId: 0000000000000000
RequestId: 40022d3e-0000-5e00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Starting configuration retrieval for Azure Function
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:20:14Z"/><EventRecordID>1635304515</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 73f39c8393bb460c
TraceId: 7c69c1f22441f0aca868a94a19bd99ea
ParentId: 0000000000000000
RequestId: 40022d3e-0000-5e00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Raw env URL: [VALUE SET], Raw config URL: [NOT SET]
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:20:15Z"/><EventRecordID>1635304531</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 73f39c8393bb460c
TraceId: 7c69c1f22441f0aca868a94a19bd99ea
ParentId: 0000000000000000
RequestId: 40022d3e-0000-5e00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Key from env: True, Key from config: False
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:20:15Z"/><EventRecordID>1635304531</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 73f39c8393bb460c
TraceId: 7c69c1f22441f0aca868a94a19bd99ea
ParentId: 0000000000000000
RequestId: 40022d3e-0000-5e00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Final URL configured: True, URL value: https://fn-conversationsave.azurewebsites.net/****/conversations/update
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:20:15Z"/><EventRecordID>1635304546</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 73f39c8393bb460c
TraceId: 7c69c1f22441f0aca868a94a19bd99ea
ParentId: 0000000000000000
RequestId: 40022d3e-0000-5e00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Final Key configured: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:20:15Z"/><EventRecordID>1635304734</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 73f39c8393bb460c
TraceId: 7c69c1f22441f0aca868a94a19bd99ea
ParentId: 0000000000000000
RequestId: 40022d3e-0000-5e00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE_FUNCTION_SAVE_SUCCESS [b8c3c19f]: Successfully saved conversation
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:20:39Z"/><EventRecordID>1635328593</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 4a23780e51aa9a39
TraceId: 3c67287e7563020922b2522e4f5b0837
ParentId: 0000000000000000
RequestId: 40022d3f-0000-5e00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

DEBUG - OpenAI API Connection Details:
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:20:39Z"/><EventRecordID>1635328625</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 4a23780e51aa9a39
TraceId: 3c67287e7563020922b2522e4f5b0837
ParentId: 0000000000000000
RequestId: 40022d3f-0000-5e00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

OpenAI Endpoint: https://generalsearchai.openai.azure.com/
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:20:39Z"/><EventRecordID>1635328640</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 4a23780e51aa9a39
TraceId: 3c67287e7563020922b2522e4f5b0837
ParentId: 0000000000000000
RequestId: 40022d3f-0000-5e00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

OpenAI API Key Length: 84
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:20:39Z"/><EventRecordID>1635328640</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 4a23780e51aa9a39
TraceId: 3c67287e7563020922b2522e4f5b0837
ParentId: 0000000000000000
RequestId: 40022d3f-0000-5e00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

OpenAI IsConfigured: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:20:39Z"/><EventRecordID>1635328656</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 4a23780e51aa9a39
TraceId: 3c67287e7563020922b2522e4f5b0837
ParentId: 0000000000000000
RequestId: 40022d3f-0000-5e00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

API CALL DETAILS - Endpoint: https://generalsearchai.openai.azure.com/
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:20:39Z"/><EventRecordID>1635328671</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 4a23780e51aa9a39
TraceId: 3c67287e7563020922b2522e4f5b0837
ParentId: 0000000000000000
RequestId: 40022d3f-0000-5e00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

API CALL DETAILS - DeploymentName: gpt-4.1
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:20:39Z"/><EventRecordID>1635328687</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 4a23780e51aa9a39
TraceId: 3c67287e7563020922b2522e4f5b0837
ParentId: 0000000000000000
RequestId: 40022d3f-0000-5e00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

API CALL DETAILS - API Version: 2025-01-01-preview
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:20:39Z"/><EventRecordID>1635328687</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 4a23780e51aa9a39
TraceId: 3c67287e7563020922b2522e4f5b0837
ParentId: 0000000000000000
RequestId: 40022d3f-0000-5e00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

DETAILED OPENAI DIAGNOSTICS:
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:20:39Z"/><EventRecordID>1635328703</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 4a23780e51aa9a39
TraceId: 3c67287e7563020922b2522e4f5b0837
ParentId: 0000000000000000
RequestId: 40022d3f-0000-5e00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

1. Using OpenAIClient of type: Azure.AI.OpenAI.OpenAIClient
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:20:39Z"/><EventRecordID>1635328703</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 4a23780e51aa9a39
TraceId: 3c67287e7563020922b2522e4f5b0837
ParentId: 0000000000000000
RequestId: 40022d3f-0000-5e00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

2. Endpoint URL being used: https://generalsearchai.openai.azure.com/
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:20:39Z"/><EventRecordID>1635328734</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 4a23780e51aa9a39
TraceId: 3c67287e7563020922b2522e4f5b0837
ParentId: 0000000000000000
RequestId: 40022d3f-0000-5e00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

3. Deployment name being used: gpt-4.1
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:20:39Z"/><EventRecordID>1635328750</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 4a23780e51aa9a39
TraceId: 3c67287e7563020922b2522e4f5b0837
ParentId: 0000000000000000
RequestId: 40022d3f-0000-5e00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

4. Environment variables:
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:20:39Z"/><EventRecordID>1635328765</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 4a23780e51aa9a39
TraceId: 3c67287e7563020922b2522e4f5b0837
ParentId: 0000000000000000
RequestId: 40022d3f-0000-5e00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

   OPENAI_API_KEY set: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:20:39Z"/><EventRecordID>1635328765</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 4a23780e51aa9a39
TraceId: 3c67287e7563020922b2522e4f5b0837
ParentId: 0000000000000000
RequestId: 40022d3f-0000-5e00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

   OPENAI_ENDPOINT set: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:20:39Z"/><EventRecordID>1635328781</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 4a23780e51aa9a39
TraceId: 3c67287e7563020922b2522e4f5b0837
ParentId: 0000000000000000
RequestId: 40022d3f-0000-5e00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

   OPENAI_DEPLOYMENT_NAME set: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:20:42Z"/><EventRecordID>1635331750</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 4a23780e51aa9a39
TraceId: 3c67287e7563020922b2522e4f5b0837
ParentId: 0000000000000000
RequestId: 40022d3f-0000-5e00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE FUNCTION DEBUG: Running in Azure environment
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:20:42Z"/><EventRecordID>1635331765</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 4a23780e51aa9a39
TraceId: 3c67287e7563020922b2522e4f5b0837
ParentId: 0000000000000000
RequestId: 40022d3f-0000-5e00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE FUNCTION CONFIG: URL=https://fn-conversationsave.azurewebsites.net/***/conversations/update, HasKey=True, HasUserId=False, HasUserEmail=False
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:20:42Z"/><EventRecordID>1635331781</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 4a23780e51aa9a39
TraceId: 3c67287e7563020922b2522e4f5b0837
ParentId: 0000000000000000
RequestId: 40022d3f-0000-5e00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE_FUNCTION_SAVE_START [5e34df22]: Starting conversation save
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:20:42Z"/><EventRecordID>1635331781</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 4a23780e51aa9a39
TraceId: 3c67287e7563020922b2522e4f5b0837
ParentId: 0000000000000000
RequestId: 40022d3f-0000-5e00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Starting configuration retrieval for Azure Function
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:20:42Z"/><EventRecordID>1635331796</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 4a23780e51aa9a39
TraceId: 3c67287e7563020922b2522e4f5b0837
ParentId: 0000000000000000
RequestId: 40022d3f-0000-5e00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Raw env URL: [VALUE SET], Raw config URL: [NOT SET]
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:20:42Z"/><EventRecordID>1635331796</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 4a23780e51aa9a39
TraceId: 3c67287e7563020922b2522e4f5b0837
ParentId: 0000000000000000
RequestId: 40022d3f-0000-5e00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Key from env: True, Key from config: False
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:20:42Z"/><EventRecordID>1635331812</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 4a23780e51aa9a39
TraceId: 3c67287e7563020922b2522e4f5b0837
ParentId: 0000000000000000
RequestId: 40022d3f-0000-5e00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Final URL configured: True, URL value: https://fn-conversationsave.azurewebsites.net/****/conversations/update
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:20:42Z"/><EventRecordID>1635331812</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 4a23780e51aa9a39
TraceId: 3c67287e7563020922b2522e4f5b0837
ParentId: 0000000000000000
RequestId: 40022d3f-0000-5e00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Final Key configured: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:20:42Z"/><EventRecordID>1635331921</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 4a23780e51aa9a39
TraceId: 3c67287e7563020922b2522e4f5b0837
ParentId: 0000000000000000
RequestId: 40022d3f-0000-5e00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE_FUNCTION_SAVE_SUCCESS [5e34df22]: Successfully saved conversation
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:21:26Z"/><EventRecordID>1635375734</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 53a6c9712fad24e6
TraceId: 146f958aa325452b897ba95d66dffe3a
ParentId: 0000000000000000
RequestId: 40022d40-0000-5e00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

DEBUG - OpenAI API Connection Details:
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:21:26Z"/><EventRecordID>1635375750</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 53a6c9712fad24e6
TraceId: 146f958aa325452b897ba95d66dffe3a
ParentId: 0000000000000000
RequestId: 40022d40-0000-5e00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

OpenAI Endpoint: https://generalsearchai.openai.azure.com/
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:21:26Z"/><EventRecordID>1635375750</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 53a6c9712fad24e6
TraceId: 146f958aa325452b897ba95d66dffe3a
ParentId: 0000000000000000
RequestId: 40022d40-0000-5e00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

OpenAI API Key Length: 84
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:21:26Z"/><EventRecordID>1635375765</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 53a6c9712fad24e6
TraceId: 146f958aa325452b897ba95d66dffe3a
ParentId: 0000000000000000
RequestId: 40022d40-0000-5e00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

OpenAI IsConfigured: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:21:26Z"/><EventRecordID>1635375781</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 53a6c9712fad24e6
TraceId: 146f958aa325452b897ba95d66dffe3a
ParentId: 0000000000000000
RequestId: 40022d40-0000-5e00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

API CALL DETAILS - Endpoint: https://generalsearchai.openai.azure.com/
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:21:26Z"/><EventRecordID>1635375796</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 53a6c9712fad24e6
TraceId: 146f958aa325452b897ba95d66dffe3a
ParentId: 0000000000000000
RequestId: 40022d40-0000-5e00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

API CALL DETAILS - DeploymentName: gpt-4.1
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:21:26Z"/><EventRecordID>1635375796</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 53a6c9712fad24e6
TraceId: 146f958aa325452b897ba95d66dffe3a
ParentId: 0000000000000000
RequestId: 40022d40-0000-5e00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

API CALL DETAILS - API Version: 2025-01-01-preview
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:21:26Z"/><EventRecordID>1635375812</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 53a6c9712fad24e6
TraceId: 146f958aa325452b897ba95d66dffe3a
ParentId: 0000000000000000
RequestId: 40022d40-0000-5e00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

DETAILED OPENAI DIAGNOSTICS:
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:21:26Z"/><EventRecordID>1635375812</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 53a6c9712fad24e6
TraceId: 146f958aa325452b897ba95d66dffe3a
ParentId: 0000000000000000
RequestId: 40022d40-0000-5e00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

1. Using OpenAIClient of type: Azure.AI.OpenAI.OpenAIClient
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:21:26Z"/><EventRecordID>1635375828</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 53a6c9712fad24e6
TraceId: 146f958aa325452b897ba95d66dffe3a
ParentId: 0000000000000000
RequestId: 40022d40-0000-5e00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

2. Endpoint URL being used: https://generalsearchai.openai.azure.com/
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:21:26Z"/><EventRecordID>1635375828</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 53a6c9712fad24e6
TraceId: 146f958aa325452b897ba95d66dffe3a
ParentId: 0000000000000000
RequestId: 40022d40-0000-5e00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

3. Deployment name being used: gpt-4.1
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:21:26Z"/><EventRecordID>1635375859</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 53a6c9712fad24e6
TraceId: 146f958aa325452b897ba95d66dffe3a
ParentId: 0000000000000000
RequestId: 40022d40-0000-5e00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

4. Environment variables:
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:21:26Z"/><EventRecordID>1635375859</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 53a6c9712fad24e6
TraceId: 146f958aa325452b897ba95d66dffe3a
ParentId: 0000000000000000
RequestId: 40022d40-0000-5e00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

   OPENAI_API_KEY set: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:21:26Z"/><EventRecordID>1635375875</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 53a6c9712fad24e6
TraceId: 146f958aa325452b897ba95d66dffe3a
ParentId: 0000000000000000
RequestId: 40022d40-0000-5e00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

   OPENAI_ENDPOINT set: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:21:26Z"/><EventRecordID>1635375875</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 53a6c9712fad24e6
TraceId: 146f958aa325452b897ba95d66dffe3a
ParentId: 0000000000000000
RequestId: 40022d40-0000-5e00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

   OPENAI_DEPLOYMENT_NAME set: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:21:28Z"/><EventRecordID>1635377562</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 53a6c9712fad24e6
TraceId: 146f958aa325452b897ba95d66dffe3a
ParentId: 0000000000000000
RequestId: 40022d40-0000-5e00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE FUNCTION DEBUG: Running in Azure environment
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:21:28Z"/><EventRecordID>1635377640</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 53a6c9712fad24e6
TraceId: 146f958aa325452b897ba95d66dffe3a
ParentId: 0000000000000000
RequestId: 40022d40-0000-5e00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE FUNCTION CONFIG: URL=https://fn-conversationsave.azurewebsites.net/***/conversations/update, HasKey=True, HasUserId=False, HasUserEmail=False
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:21:28Z"/><EventRecordID>1635377656</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 53a6c9712fad24e6
TraceId: 146f958aa325452b897ba95d66dffe3a
ParentId: 0000000000000000
RequestId: 40022d40-0000-5e00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE_FUNCTION_SAVE_START [193a0411]: Starting conversation save
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:21:28Z"/><EventRecordID>1635377671</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 53a6c9712fad24e6
TraceId: 146f958aa325452b897ba95d66dffe3a
ParentId: 0000000000000000
RequestId: 40022d40-0000-5e00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Starting configuration retrieval for Azure Function
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:21:28Z"/><EventRecordID>1635377703</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 53a6c9712fad24e6
TraceId: 146f958aa325452b897ba95d66dffe3a
ParentId: 0000000000000000
RequestId: 40022d40-0000-5e00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Raw env URL: [VALUE SET], Raw config URL: [NOT SET]
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:21:28Z"/><EventRecordID>1635377718</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 53a6c9712fad24e6
TraceId: 146f958aa325452b897ba95d66dffe3a
ParentId: 0000000000000000
RequestId: 40022d40-0000-5e00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Key from env: True, Key from config: False
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:21:28Z"/><EventRecordID>1635377718</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 53a6c9712fad24e6
TraceId: 146f958aa325452b897ba95d66dffe3a
ParentId: 0000000000000000
RequestId: 40022d40-0000-5e00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Final URL configured: True, URL value: https://fn-conversationsave.azurewebsites.net/****/conversations/update
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:21:28Z"/><EventRecordID>1635377734</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 53a6c9712fad24e6
TraceId: 146f958aa325452b897ba95d66dffe3a
ParentId: 0000000000000000
RequestId: 40022d40-0000-5e00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Final Key configured: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:21:28Z"/><EventRecordID>1635377921</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 53a6c9712fad24e6
TraceId: 146f958aa325452b897ba95d66dffe3a
ParentId: 0000000000000000
RequestId: 40022d40-0000-5e00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE_FUNCTION_SAVE_SUCCESS [193a0411]: Successfully saved conversation
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:21:59Z"/><EventRecordID>1635409015</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: ea66038de120bcfa
TraceId: f38281fff1fb68affdb31c2c883c142a
ParentId: 0000000000000000
RequestId: 40022d41-0000-5e00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

DEBUG - OpenAI API Connection Details:
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:21:59Z"/><EventRecordID>1635409015</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: ea66038de120bcfa
TraceId: f38281fff1fb68affdb31c2c883c142a
ParentId: 0000000000000000
RequestId: 40022d41-0000-5e00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

OpenAI Endpoint: https://generalsearchai.openai.azure.com/
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:21:59Z"/><EventRecordID>1635409015</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: ea66038de120bcfa
TraceId: f38281fff1fb68affdb31c2c883c142a
ParentId: 0000000000000000
RequestId: 40022d41-0000-5e00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

OpenAI API Key Length: 84
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:21:59Z"/><EventRecordID>1635409031</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: ea66038de120bcfa
TraceId: f38281fff1fb68affdb31c2c883c142a
ParentId: 0000000000000000
RequestId: 40022d41-0000-5e00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

OpenAI IsConfigured: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:21:59Z"/><EventRecordID>1635409046</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: ea66038de120bcfa
TraceId: f38281fff1fb68affdb31c2c883c142a
ParentId: 0000000000000000
RequestId: 40022d41-0000-5e00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

API CALL DETAILS - Endpoint: https://generalsearchai.openai.azure.com/
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:21:59Z"/><EventRecordID>1635409046</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: ea66038de120bcfa
TraceId: f38281fff1fb68affdb31c2c883c142a
ParentId: 0000000000000000
RequestId: 40022d41-0000-5e00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

API CALL DETAILS - DeploymentName: gpt-4.1
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:21:59Z"/><EventRecordID>1635409062</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: ea66038de120bcfa
TraceId: f38281fff1fb68affdb31c2c883c142a
ParentId: 0000000000000000
RequestId: 40022d41-0000-5e00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

API CALL DETAILS - API Version: 2025-01-01-preview
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:21:59Z"/><EventRecordID>1635409062</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: ea66038de120bcfa
TraceId: f38281fff1fb68affdb31c2c883c142a
ParentId: 0000000000000000
RequestId: 40022d41-0000-5e00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

DETAILED OPENAI DIAGNOSTICS:
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:21:59Z"/><EventRecordID>1635409078</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: ea66038de120bcfa
TraceId: f38281fff1fb68affdb31c2c883c142a
ParentId: 0000000000000000
RequestId: 40022d41-0000-5e00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

1. Using OpenAIClient of type: Azure.AI.OpenAI.OpenAIClient
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:21:59Z"/><EventRecordID>1635409078</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: ea66038de120bcfa
TraceId: f38281fff1fb68affdb31c2c883c142a
ParentId: 0000000000000000
RequestId: 40022d41-0000-5e00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

2. Endpoint URL being used: https://generalsearchai.openai.azure.com/
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:21:59Z"/><EventRecordID>1635409093</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: ea66038de120bcfa
TraceId: f38281fff1fb68affdb31c2c883c142a
ParentId: 0000000000000000
RequestId: 40022d41-0000-5e00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

3. Deployment name being used: gpt-4.1
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:21:59Z"/><EventRecordID>1635409109</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: ea66038de120bcfa
TraceId: f38281fff1fb68affdb31c2c883c142a
ParentId: 0000000000000000
RequestId: 40022d41-0000-5e00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

4. Environment variables:
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:21:59Z"/><EventRecordID>1635409109</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: ea66038de120bcfa
TraceId: f38281fff1fb68affdb31c2c883c142a
ParentId: 0000000000000000
RequestId: 40022d41-0000-5e00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

   OPENAI_API_KEY set: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:21:59Z"/><EventRecordID>1635409109</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: ea66038de120bcfa
TraceId: f38281fff1fb68affdb31c2c883c142a
ParentId: 0000000000000000
RequestId: 40022d41-0000-5e00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

   OPENAI_ENDPOINT set: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:21:59Z"/><EventRecordID>1635409125</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: ea66038de120bcfa
TraceId: f38281fff1fb68affdb31c2c883c142a
ParentId: 0000000000000000
RequestId: 40022d41-0000-5e00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

   OPENAI_DEPLOYMENT_NAME set: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:22:02Z"/><EventRecordID>1635411703</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: ea66038de120bcfa
TraceId: f38281fff1fb68affdb31c2c883c142a
ParentId: 0000000000000000
RequestId: 40022d41-0000-5e00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE FUNCTION DEBUG: Running in Azure environment
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:22:02Z"/><EventRecordID>1635411703</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: ea66038de120bcfa
TraceId: f38281fff1fb68affdb31c2c883c142a
ParentId: 0000000000000000
RequestId: 40022d41-0000-5e00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE FUNCTION CONFIG: URL=https://fn-conversationsave.azurewebsites.net/***/conversations/update, HasKey=True, HasUserId=False, HasUserEmail=False
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:22:02Z"/><EventRecordID>1635411718</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: ea66038de120bcfa
TraceId: f38281fff1fb68affdb31c2c883c142a
ParentId: 0000000000000000
RequestId: 40022d41-0000-5e00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE_FUNCTION_SAVE_START [4a05b55c]: Starting conversation save
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:22:02Z"/><EventRecordID>1635411734</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: ea66038de120bcfa
TraceId: f38281fff1fb68affdb31c2c883c142a
ParentId: 0000000000000000
RequestId: 40022d41-0000-5e00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Starting configuration retrieval for Azure Function
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:22:02Z"/><EventRecordID>1635411750</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: ea66038de120bcfa
TraceId: f38281fff1fb68affdb31c2c883c142a
ParentId: 0000000000000000
RequestId: 40022d41-0000-5e00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Raw env URL: [VALUE SET], Raw config URL: [NOT SET]
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:22:02Z"/><EventRecordID>1635411750</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: ea66038de120bcfa
TraceId: f38281fff1fb68affdb31c2c883c142a
ParentId: 0000000000000000
RequestId: 40022d41-0000-5e00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Key from env: True, Key from config: False
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:22:02Z"/><EventRecordID>1635411765</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: ea66038de120bcfa
TraceId: f38281fff1fb68affdb31c2c883c142a
ParentId: 0000000000000000
RequestId: 40022d41-0000-5e00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Final URL configured: True, URL value: https://fn-conversationsave.azurewebsites.net/****/conversations/update
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:22:02Z"/><EventRecordID>1635411781</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: ea66038de120bcfa
TraceId: f38281fff1fb68affdb31c2c883c142a
ParentId: 0000000000000000
RequestId: 40022d41-0000-5e00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Final Key configured: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:22:02Z"/><EventRecordID>1635411953</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: ea66038de120bcfa
TraceId: f38281fff1fb68affdb31c2c883c142a
ParentId: 0000000000000000
RequestId: 40022d41-0000-5e00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE_FUNCTION_SAVE_SUCCESS [4a05b55c]: Successfully saved conversation
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:24:48Z"/><EventRecordID>1635578250</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 48142bdae8902822
TraceId: 02e38faa165b6db4033948d0a14730b8
ParentId: 0000000000000000
RequestId: 4000688d-0000-cb00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

DEBUG - OpenAI API Connection Details:
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:24:48Z"/><EventRecordID>1635578250</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 48142bdae8902822
TraceId: 02e38faa165b6db4033948d0a14730b8
ParentId: 0000000000000000
RequestId: 4000688d-0000-cb00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

OpenAI Endpoint: https://generalsearchai.openai.azure.com/
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:24:48Z"/><EventRecordID>1635578265</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 48142bdae8902822
TraceId: 02e38faa165b6db4033948d0a14730b8
ParentId: 0000000000000000
RequestId: 4000688d-0000-cb00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

OpenAI API Key Length: 84
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:24:48Z"/><EventRecordID>1635578265</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 48142bdae8902822
TraceId: 02e38faa165b6db4033948d0a14730b8
ParentId: 0000000000000000
RequestId: 4000688d-0000-cb00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

OpenAI IsConfigured: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:24:48Z"/><EventRecordID>1635578281</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 48142bdae8902822
TraceId: 02e38faa165b6db4033948d0a14730b8
ParentId: 0000000000000000
RequestId: 4000688d-0000-cb00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

API CALL DETAILS - Endpoint: https://generalsearchai.openai.azure.com/
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:24:48Z"/><EventRecordID>1635578281</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 48142bdae8902822
TraceId: 02e38faa165b6db4033948d0a14730b8
ParentId: 0000000000000000
RequestId: 4000688d-0000-cb00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

API CALL DETAILS - DeploymentName: gpt-4.1
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:24:48Z"/><EventRecordID>1635578296</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 48142bdae8902822
TraceId: 02e38faa165b6db4033948d0a14730b8
ParentId: 0000000000000000
RequestId: 4000688d-0000-cb00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

API CALL DETAILS - API Version: 2025-01-01-preview
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:24:48Z"/><EventRecordID>1635578296</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 48142bdae8902822
TraceId: 02e38faa165b6db4033948d0a14730b8
ParentId: 0000000000000000
RequestId: 4000688d-0000-cb00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

DETAILED OPENAI DIAGNOSTICS:
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:24:48Z"/><EventRecordID>1635578312</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 48142bdae8902822
TraceId: 02e38faa165b6db4033948d0a14730b8
ParentId: 0000000000000000
RequestId: 4000688d-0000-cb00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

1. Using OpenAIClient of type: Azure.AI.OpenAI.OpenAIClient
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:24:48Z"/><EventRecordID>1635578343</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 48142bdae8902822
TraceId: 02e38faa165b6db4033948d0a14730b8
ParentId: 0000000000000000
RequestId: 4000688d-0000-cb00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

2. Endpoint URL being used: https://generalsearchai.openai.azure.com/
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:24:48Z"/><EventRecordID>1635578343</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 48142bdae8902822
TraceId: 02e38faa165b6db4033948d0a14730b8
ParentId: 0000000000000000
RequestId: 4000688d-0000-cb00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

3. Deployment name being used: gpt-4.1
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:24:48Z"/><EventRecordID>1635578359</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 48142bdae8902822
TraceId: 02e38faa165b6db4033948d0a14730b8
ParentId: 0000000000000000
RequestId: 4000688d-0000-cb00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

4. Environment variables:
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:24:48Z"/><EventRecordID>1635578359</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 48142bdae8902822
TraceId: 02e38faa165b6db4033948d0a14730b8
ParentId: 0000000000000000
RequestId: 4000688d-0000-cb00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

   OPENAI_API_KEY set: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:24:48Z"/><EventRecordID>1635578375</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 48142bdae8902822
TraceId: 02e38faa165b6db4033948d0a14730b8
ParentId: 0000000000000000
RequestId: 4000688d-0000-cb00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

   OPENAI_ENDPOINT set: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:24:48Z"/><EventRecordID>1635578375</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 48142bdae8902822
TraceId: 02e38faa165b6db4033948d0a14730b8
ParentId: 0000000000000000
RequestId: 4000688d-0000-cb00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

   OPENAI_DEPLOYMENT_NAME set: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:24:50Z"/><EventRecordID>1635580125</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 48142bdae8902822
TraceId: 02e38faa165b6db4033948d0a14730b8
ParentId: 0000000000000000
RequestId: 4000688d-0000-cb00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE FUNCTION DEBUG: Running in Azure environment
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:24:50Z"/><EventRecordID>1635580156</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 48142bdae8902822
TraceId: 02e38faa165b6db4033948d0a14730b8
ParentId: 0000000000000000
RequestId: 4000688d-0000-cb00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE FUNCTION CONFIG: URL=https://fn-conversationsave.azurewebsites.net/***/conversations/update, HasKey=True, HasUserId=False, HasUserEmail=False
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:24:50Z"/><EventRecordID>1635580187</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 48142bdae8902822
TraceId: 02e38faa165b6db4033948d0a14730b8
ParentId: 0000000000000000
RequestId: 4000688d-0000-cb00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE_FUNCTION_SAVE_START [3f0b3be2]: Starting conversation save
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:24:50Z"/><EventRecordID>1635580203</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 48142bdae8902822
TraceId: 02e38faa165b6db4033948d0a14730b8
ParentId: 0000000000000000
RequestId: 4000688d-0000-cb00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Starting configuration retrieval for Azure Function
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:24:50Z"/><EventRecordID>1635580203</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 48142bdae8902822
TraceId: 02e38faa165b6db4033948d0a14730b8
ParentId: 0000000000000000
RequestId: 4000688d-0000-cb00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Raw env URL: [VALUE SET], Raw config URL: [NOT SET]
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:24:50Z"/><EventRecordID>1635580218</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 48142bdae8902822
TraceId: 02e38faa165b6db4033948d0a14730b8
ParentId: 0000000000000000
RequestId: 4000688d-0000-cb00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Key from env: True, Key from config: False
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:24:50Z"/><EventRecordID>1635580218</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 48142bdae8902822
TraceId: 02e38faa165b6db4033948d0a14730b8
ParentId: 0000000000000000
RequestId: 4000688d-0000-cb00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Final URL configured: True, URL value: https://fn-conversationsave.azurewebsites.net/****/conversations/update
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:24:50Z"/><EventRecordID>1635580234</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 48142bdae8902822
TraceId: 02e38faa165b6db4033948d0a14730b8
ParentId: 0000000000000000
RequestId: 4000688d-0000-cb00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Final Key configured: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:24:50Z"/><EventRecordID>1635580500</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 48142bdae8902822
TraceId: 02e38faa165b6db4033948d0a14730b8
ParentId: 0000000000000000
RequestId: 4000688d-0000-cb00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE_FUNCTION_SAVE_SUCCESS [3f0b3be2]: Successfully saved conversation
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:25:37Z"/><EventRecordID>1635627312</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 24b9bdcd65eb62aa
TraceId: ebfd0fa352f59ad776fab3ffbf51f5b1
ParentId: 0000000000000000
RequestId: 4000688f-0000-cb00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

DEBUG - OpenAI API Connection Details:
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:25:37Z"/><EventRecordID>1635627328</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 24b9bdcd65eb62aa
TraceId: ebfd0fa352f59ad776fab3ffbf51f5b1
ParentId: 0000000000000000
RequestId: 4000688f-0000-cb00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

OpenAI Endpoint: https://generalsearchai.openai.azure.com/
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:25:37Z"/><EventRecordID>1635627328</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 24b9bdcd65eb62aa
TraceId: ebfd0fa352f59ad776fab3ffbf51f5b1
ParentId: 0000000000000000
RequestId: 4000688f-0000-cb00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

OpenAI API Key Length: 84
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:25:37Z"/><EventRecordID>1635627328</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 24b9bdcd65eb62aa
TraceId: ebfd0fa352f59ad776fab3ffbf51f5b1
ParentId: 0000000000000000
RequestId: 4000688f-0000-cb00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

OpenAI IsConfigured: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:25:37Z"/><EventRecordID>1635627343</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 24b9bdcd65eb62aa
TraceId: ebfd0fa352f59ad776fab3ffbf51f5b1
ParentId: 0000000000000000
RequestId: 4000688f-0000-cb00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

API CALL DETAILS - Endpoint: https://generalsearchai.openai.azure.com/
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:25:37Z"/><EventRecordID>1635627359</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 24b9bdcd65eb62aa
TraceId: ebfd0fa352f59ad776fab3ffbf51f5b1
ParentId: 0000000000000000
RequestId: 4000688f-0000-cb00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

API CALL DETAILS - DeploymentName: gpt-4.1
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:25:37Z"/><EventRecordID>1635627359</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 24b9bdcd65eb62aa
TraceId: ebfd0fa352f59ad776fab3ffbf51f5b1
ParentId: 0000000000000000
RequestId: 4000688f-0000-cb00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

API CALL DETAILS - API Version: 2025-01-01-preview
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:25:37Z"/><EventRecordID>1635627375</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 24b9bdcd65eb62aa
TraceId: ebfd0fa352f59ad776fab3ffbf51f5b1
ParentId: 0000000000000000
RequestId: 4000688f-0000-cb00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

DETAILED OPENAI DIAGNOSTICS:
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:25:37Z"/><EventRecordID>1635627375</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 24b9bdcd65eb62aa
TraceId: ebfd0fa352f59ad776fab3ffbf51f5b1
ParentId: 0000000000000000
RequestId: 4000688f-0000-cb00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

1. Using OpenAIClient of type: Azure.AI.OpenAI.OpenAIClient
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:25:37Z"/><EventRecordID>1635627390</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 24b9bdcd65eb62aa
TraceId: ebfd0fa352f59ad776fab3ffbf51f5b1
ParentId: 0000000000000000
RequestId: 4000688f-0000-cb00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

2. Endpoint URL being used: https://generalsearchai.openai.azure.com/
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:25:37Z"/><EventRecordID>1635627421</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 24b9bdcd65eb62aa
TraceId: ebfd0fa352f59ad776fab3ffbf51f5b1
ParentId: 0000000000000000
RequestId: 4000688f-0000-cb00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

3. Deployment name being used: gpt-4.1
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:25:37Z"/><EventRecordID>1635627421</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 24b9bdcd65eb62aa
TraceId: ebfd0fa352f59ad776fab3ffbf51f5b1
ParentId: 0000000000000000
RequestId: 4000688f-0000-cb00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

4. Environment variables:
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:25:37Z"/><EventRecordID>1635627437</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 24b9bdcd65eb62aa
TraceId: ebfd0fa352f59ad776fab3ffbf51f5b1
ParentId: 0000000000000000
RequestId: 4000688f-0000-cb00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

   OPENAI_API_KEY set: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:25:37Z"/><EventRecordID>1635627453</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 24b9bdcd65eb62aa
TraceId: ebfd0fa352f59ad776fab3ffbf51f5b1
ParentId: 0000000000000000
RequestId: 4000688f-0000-cb00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

   OPENAI_ENDPOINT set: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:25:37Z"/><EventRecordID>1635627468</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 24b9bdcd65eb62aa
TraceId: ebfd0fa352f59ad776fab3ffbf51f5b1
ParentId: 0000000000000000
RequestId: 4000688f-0000-cb00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

   OPENAI_DEPLOYMENT_NAME set: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:25:40Z"/><EventRecordID>1635629828</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 24b9bdcd65eb62aa
TraceId: ebfd0fa352f59ad776fab3ffbf51f5b1
ParentId: 0000000000000000
RequestId: 4000688f-0000-cb00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE FUNCTION DEBUG: Running in Azure environment
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:25:40Z"/><EventRecordID>1635629937</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 24b9bdcd65eb62aa
TraceId: ebfd0fa352f59ad776fab3ffbf51f5b1
ParentId: 0000000000000000
RequestId: 4000688f-0000-cb00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE FUNCTION CONFIG: URL=https://fn-conversationsave.azurewebsites.net/***/conversations/update, HasKey=True, HasUserId=False, HasUserEmail=False
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:25:40Z"/><EventRecordID>1635629953</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 24b9bdcd65eb62aa
TraceId: ebfd0fa352f59ad776fab3ffbf51f5b1
ParentId: 0000000000000000
RequestId: 4000688f-0000-cb00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE_FUNCTION_SAVE_START [7333a37a]: Starting conversation save
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:25:40Z"/><EventRecordID>1635629968</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 24b9bdcd65eb62aa
TraceId: ebfd0fa352f59ad776fab3ffbf51f5b1
ParentId: 0000000000000000
RequestId: 4000688f-0000-cb00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Starting configuration retrieval for Azure Function
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:25:40Z"/><EventRecordID>1635630156</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 24b9bdcd65eb62aa
TraceId: ebfd0fa352f59ad776fab3ffbf51f5b1
ParentId: 0000000000000000
RequestId: 4000688f-0000-cb00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Raw env URL: [VALUE SET], Raw config URL: [NOT SET]
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:25:40Z"/><EventRecordID>1635630156</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 24b9bdcd65eb62aa
TraceId: ebfd0fa352f59ad776fab3ffbf51f5b1
ParentId: 0000000000000000
RequestId: 4000688f-0000-cb00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Key from env: True, Key from config: False
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:25:40Z"/><EventRecordID>1635630156</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 24b9bdcd65eb62aa
TraceId: ebfd0fa352f59ad776fab3ffbf51f5b1
ParentId: 0000000000000000
RequestId: 4000688f-0000-cb00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Final URL configured: True, URL value: https://fn-conversationsave.azurewebsites.net/****/conversations/update
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:25:40Z"/><EventRecordID>1635630171</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 24b9bdcd65eb62aa
TraceId: ebfd0fa352f59ad776fab3ffbf51f5b1
ParentId: 0000000000000000
RequestId: 4000688f-0000-cb00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Final Key configured: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:25:40Z"/><EventRecordID>1635630312</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 24b9bdcd65eb62aa
TraceId: ebfd0fa352f59ad776fab3ffbf51f5b1
ParentId: 0000000000000000
RequestId: 4000688f-0000-cb00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE_FUNCTION_SAVE_SUCCESS [7333a37a]: Successfully saved conversation
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:26:06Z"/><EventRecordID>1635656171</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: f9c7b212803c8cd9
TraceId: c6a1f45c42e75cea88ebd0ae60a31496
ParentId: 0000000000000000
RequestId: 40006890-0000-cb00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

DEBUG - OpenAI API Connection Details:
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:26:06Z"/><EventRecordID>1635656187</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: f9c7b212803c8cd9
TraceId: c6a1f45c42e75cea88ebd0ae60a31496
ParentId: 0000000000000000
RequestId: 40006890-0000-cb00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

OpenAI Endpoint: https://generalsearchai.openai.azure.com/
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:26:06Z"/><EventRecordID>1635656218</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: f9c7b212803c8cd9
TraceId: c6a1f45c42e75cea88ebd0ae60a31496
ParentId: 0000000000000000
RequestId: 40006890-0000-cb00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

OpenAI API Key Length: 84
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:26:06Z"/><EventRecordID>1635656234</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: f9c7b212803c8cd9
TraceId: c6a1f45c42e75cea88ebd0ae60a31496
ParentId: 0000000000000000
RequestId: 40006890-0000-cb00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

OpenAI IsConfigured: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:26:06Z"/><EventRecordID>1635656265</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: f9c7b212803c8cd9
TraceId: c6a1f45c42e75cea88ebd0ae60a31496
ParentId: 0000000000000000
RequestId: 40006890-0000-cb00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

API CALL DETAILS - Endpoint: https://generalsearchai.openai.azure.com/
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:26:06Z"/><EventRecordID>1635656281</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: f9c7b212803c8cd9
TraceId: c6a1f45c42e75cea88ebd0ae60a31496
ParentId: 0000000000000000
RequestId: 40006890-0000-cb00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

API CALL DETAILS - DeploymentName: gpt-4.1
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:26:06Z"/><EventRecordID>1635656296</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: f9c7b212803c8cd9
TraceId: c6a1f45c42e75cea88ebd0ae60a31496
ParentId: 0000000000000000
RequestId: 40006890-0000-cb00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

API CALL DETAILS - API Version: 2025-01-01-preview
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:26:06Z"/><EventRecordID>1635656328</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: f9c7b212803c8cd9
TraceId: c6a1f45c42e75cea88ebd0ae60a31496
ParentId: 0000000000000000
RequestId: 40006890-0000-cb00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

DETAILED OPENAI DIAGNOSTICS:
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:26:06Z"/><EventRecordID>1635656343</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: f9c7b212803c8cd9
TraceId: c6a1f45c42e75cea88ebd0ae60a31496
ParentId: 0000000000000000
RequestId: 40006890-0000-cb00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

1. Using OpenAIClient of type: Azure.AI.OpenAI.OpenAIClient
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:26:06Z"/><EventRecordID>1635656359</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: f9c7b212803c8cd9
TraceId: c6a1f45c42e75cea88ebd0ae60a31496
ParentId: 0000000000000000
RequestId: 40006890-0000-cb00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

2. Endpoint URL being used: https://generalsearchai.openai.azure.com/
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:26:06Z"/><EventRecordID>1635656437</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: f9c7b212803c8cd9
TraceId: c6a1f45c42e75cea88ebd0ae60a31496
ParentId: 0000000000000000
RequestId: 40006890-0000-cb00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

3. Deployment name being used: gpt-4.1
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:26:06Z"/><EventRecordID>1635656453</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: f9c7b212803c8cd9
TraceId: c6a1f45c42e75cea88ebd0ae60a31496
ParentId: 0000000000000000
RequestId: 40006890-0000-cb00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

4. Environment variables:
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:26:06Z"/><EventRecordID>1635656468</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: f9c7b212803c8cd9
TraceId: c6a1f45c42e75cea88ebd0ae60a31496
ParentId: 0000000000000000
RequestId: 40006890-0000-cb00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

   OPENAI_API_KEY set: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:26:06Z"/><EventRecordID>1635656500</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: f9c7b212803c8cd9
TraceId: c6a1f45c42e75cea88ebd0ae60a31496
ParentId: 0000000000000000
RequestId: 40006890-0000-cb00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

   OPENAI_ENDPOINT set: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:26:07Z"/><EventRecordID>1635656531</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: f9c7b212803c8cd9
TraceId: c6a1f45c42e75cea88ebd0ae60a31496
ParentId: 0000000000000000
RequestId: 40006890-0000-cb00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

   OPENAI_DEPLOYMENT_NAME set: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:26:08Z"/><EventRecordID>1635658500</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: f9c7b212803c8cd9
TraceId: c6a1f45c42e75cea88ebd0ae60a31496
ParentId: 0000000000000000
RequestId: 40006890-0000-cb00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE FUNCTION DEBUG: Running in Azure environment
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:26:08Z"/><EventRecordID>1635658531</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: f9c7b212803c8cd9
TraceId: c6a1f45c42e75cea88ebd0ae60a31496
ParentId: 0000000000000000
RequestId: 40006890-0000-cb00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE FUNCTION CONFIG: URL=https://fn-conversationsave.azurewebsites.net/***/conversations/update, HasKey=True, HasUserId=False, HasUserEmail=False
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:26:09Z"/><EventRecordID>1635658546</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: f9c7b212803c8cd9
TraceId: c6a1f45c42e75cea88ebd0ae60a31496
ParentId: 0000000000000000
RequestId: 40006890-0000-cb00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE_FUNCTION_SAVE_START [5fe42631]: Starting conversation save
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:26:09Z"/><EventRecordID>1635658562</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: f9c7b212803c8cd9
TraceId: c6a1f45c42e75cea88ebd0ae60a31496
ParentId: 0000000000000000
RequestId: 40006890-0000-cb00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Starting configuration retrieval for Azure Function
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:26:09Z"/><EventRecordID>1635658625</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: f9c7b212803c8cd9
TraceId: c6a1f45c42e75cea88ebd0ae60a31496
ParentId: 0000000000000000
RequestId: 40006890-0000-cb00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Raw env URL: [VALUE SET], Raw config URL: [NOT SET]
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:26:09Z"/><EventRecordID>1635658671</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: f9c7b212803c8cd9
TraceId: c6a1f45c42e75cea88ebd0ae60a31496
ParentId: 0000000000000000
RequestId: 40006890-0000-cb00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Key from env: True, Key from config: False
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:26:09Z"/><EventRecordID>1635658687</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: f9c7b212803c8cd9
TraceId: c6a1f45c42e75cea88ebd0ae60a31496
ParentId: 0000000000000000
RequestId: 40006890-0000-cb00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Final URL configured: True, URL value: https://fn-conversationsave.azurewebsites.net/****/conversations/update
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:26:09Z"/><EventRecordID>1635658718</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: f9c7b212803c8cd9
TraceId: c6a1f45c42e75cea88ebd0ae60a31496
ParentId: 0000000000000000
RequestId: 40006890-0000-cb00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Final Key configured: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:26:09Z"/><EventRecordID>1635658890</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: f9c7b212803c8cd9
TraceId: c6a1f45c42e75cea88ebd0ae60a31496
ParentId: 0000000000000000
RequestId: 40006890-0000-cb00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE_FUNCTION_SAVE_SUCCESS [5fe42631]: Successfully saved conversation
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:26:40Z"/><EventRecordID>1635689750</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: efbfdc3dee198ba9
TraceId: 8d7b5d071e4d7933a16e23c43cf63918
ParentId: 0000000000000000
RequestId: 40006891-0000-cb00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

DEBUG - OpenAI API Connection Details:
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:26:40Z"/><EventRecordID>1635689765</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: efbfdc3dee198ba9
TraceId: 8d7b5d071e4d7933a16e23c43cf63918
ParentId: 0000000000000000
RequestId: 40006891-0000-cb00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

OpenAI Endpoint: https://generalsearchai.openai.azure.com/
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:26:40Z"/><EventRecordID>1635689765</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: efbfdc3dee198ba9
TraceId: 8d7b5d071e4d7933a16e23c43cf63918
ParentId: 0000000000000000
RequestId: 40006891-0000-cb00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

OpenAI API Key Length: 84
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:26:40Z"/><EventRecordID>1635689781</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: efbfdc3dee198ba9
TraceId: 8d7b5d071e4d7933a16e23c43cf63918
ParentId: 0000000000000000
RequestId: 40006891-0000-cb00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

OpenAI IsConfigured: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:26:40Z"/><EventRecordID>1635689796</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: efbfdc3dee198ba9
TraceId: 8d7b5d071e4d7933a16e23c43cf63918
ParentId: 0000000000000000
RequestId: 40006891-0000-cb00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

API CALL DETAILS - Endpoint: https://generalsearchai.openai.azure.com/
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:26:40Z"/><EventRecordID>1635689812</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: efbfdc3dee198ba9
TraceId: 8d7b5d071e4d7933a16e23c43cf63918
ParentId: 0000000000000000
RequestId: 40006891-0000-cb00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

API CALL DETAILS - DeploymentName: gpt-4.1
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:26:40Z"/><EventRecordID>1635689828</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: efbfdc3dee198ba9
TraceId: 8d7b5d071e4d7933a16e23c43cf63918
ParentId: 0000000000000000
RequestId: 40006891-0000-cb00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

API CALL DETAILS - API Version: 2025-01-01-preview
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:26:40Z"/><EventRecordID>1635689843</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: efbfdc3dee198ba9
TraceId: 8d7b5d071e4d7933a16e23c43cf63918
ParentId: 0000000000000000
RequestId: 40006891-0000-cb00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

DETAILED OPENAI DIAGNOSTICS:
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:26:40Z"/><EventRecordID>1635689843</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: efbfdc3dee198ba9
TraceId: 8d7b5d071e4d7933a16e23c43cf63918
ParentId: 0000000000000000
RequestId: 40006891-0000-cb00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

1. Using OpenAIClient of type: Azure.AI.OpenAI.OpenAIClient
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:26:40Z"/><EventRecordID>1635689859</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: efbfdc3dee198ba9
TraceId: 8d7b5d071e4d7933a16e23c43cf63918
ParentId: 0000000000000000
RequestId: 40006891-0000-cb00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

2. Endpoint URL being used: https://generalsearchai.openai.azure.com/
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:26:40Z"/><EventRecordID>1635689859</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: efbfdc3dee198ba9
TraceId: 8d7b5d071e4d7933a16e23c43cf63918
ParentId: 0000000000000000
RequestId: 40006891-0000-cb00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

3. Deployment name being used: gpt-4.1
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:26:40Z"/><EventRecordID>1635689875</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: efbfdc3dee198ba9
TraceId: 8d7b5d071e4d7933a16e23c43cf63918
ParentId: 0000000000000000
RequestId: 40006891-0000-cb00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

4. Environment variables:
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:26:40Z"/><EventRecordID>1635689875</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: efbfdc3dee198ba9
TraceId: 8d7b5d071e4d7933a16e23c43cf63918
ParentId: 0000000000000000
RequestId: 40006891-0000-cb00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

   OPENAI_API_KEY set: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:26:40Z"/><EventRecordID>1635689890</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: efbfdc3dee198ba9
TraceId: 8d7b5d071e4d7933a16e23c43cf63918
ParentId: 0000000000000000
RequestId: 40006891-0000-cb00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

   OPENAI_ENDPOINT set: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:26:40Z"/><EventRecordID>1635689890</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: efbfdc3dee198ba9
TraceId: 8d7b5d071e4d7933a16e23c43cf63918
ParentId: 0000000000000000
RequestId: 40006891-0000-cb00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

   OPENAI_DEPLOYMENT_NAME set: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:26:43Z"/><EventRecordID>1635693062</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: efbfdc3dee198ba9
TraceId: 8d7b5d071e4d7933a16e23c43cf63918
ParentId: 0000000000000000
RequestId: 40006891-0000-cb00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE FUNCTION DEBUG: Running in Azure environment
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:26:43Z"/><EventRecordID>1635693078</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: efbfdc3dee198ba9
TraceId: 8d7b5d071e4d7933a16e23c43cf63918
ParentId: 0000000000000000
RequestId: 40006891-0000-cb00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE FUNCTION CONFIG: URL=https://fn-conversationsave.azurewebsites.net/***/conversations/update, HasKey=True, HasUserId=False, HasUserEmail=False
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:26:43Z"/><EventRecordID>1635693109</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: efbfdc3dee198ba9
TraceId: 8d7b5d071e4d7933a16e23c43cf63918
ParentId: 0000000000000000
RequestId: 40006891-0000-cb00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE_FUNCTION_SAVE_START [aed36803]: Starting conversation save
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:26:43Z"/><EventRecordID>1635693109</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: efbfdc3dee198ba9
TraceId: 8d7b5d071e4d7933a16e23c43cf63918
ParentId: 0000000000000000
RequestId: 40006891-0000-cb00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Starting configuration retrieval for Azure Function
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:26:43Z"/><EventRecordID>1635693109</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: efbfdc3dee198ba9
TraceId: 8d7b5d071e4d7933a16e23c43cf63918
ParentId: 0000000000000000
RequestId: 40006891-0000-cb00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Raw env URL: [VALUE SET], Raw config URL: [NOT SET]
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:26:43Z"/><EventRecordID>1635693109</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: efbfdc3dee198ba9
TraceId: 8d7b5d071e4d7933a16e23c43cf63918
ParentId: 0000000000000000
RequestId: 40006891-0000-cb00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Key from env: True, Key from config: False
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:26:43Z"/><EventRecordID>1635693125</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: efbfdc3dee198ba9
TraceId: 8d7b5d071e4d7933a16e23c43cf63918
ParentId: 0000000000000000
RequestId: 40006891-0000-cb00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Final URL configured: True, URL value: https://fn-conversationsave.azurewebsites.net/****/conversations/update
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:26:43Z"/><EventRecordID>1635693125</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: efbfdc3dee198ba9
TraceId: 8d7b5d071e4d7933a16e23c43cf63918
ParentId: 0000000000000000
RequestId: 40006891-0000-cb00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Final Key configured: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:26:43Z"/><EventRecordID>1635693265</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: efbfdc3dee198ba9
TraceId: 8d7b5d071e4d7933a16e23c43cf63918
ParentId: 0000000000000000
RequestId: 40006891-0000-cb00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE_FUNCTION_SAVE_SUCCESS [aed36803]: Successfully saved conversation
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:27:38Z"/><EventRecordID>1635747609</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 1bff99b88a0f6abf
TraceId: 909e0c0d4a946049814f5e526f20b488
ParentId: 0000000000000000
RequestId: 40006892-0000-cb00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

DEBUG - OpenAI API Connection Details:
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:27:38Z"/><EventRecordID>1635747625</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 1bff99b88a0f6abf
TraceId: 909e0c0d4a946049814f5e526f20b488
ParentId: 0000000000000000
RequestId: 40006892-0000-cb00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

OpenAI Endpoint: https://generalsearchai.openai.azure.com/
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:27:38Z"/><EventRecordID>1635747625</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 1bff99b88a0f6abf
TraceId: 909e0c0d4a946049814f5e526f20b488
ParentId: 0000000000000000
RequestId: 40006892-0000-cb00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

OpenAI API Key Length: 84
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:27:38Z"/><EventRecordID>1635747640</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 1bff99b88a0f6abf
TraceId: 909e0c0d4a946049814f5e526f20b488
ParentId: 0000000000000000
RequestId: 40006892-0000-cb00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

OpenAI IsConfigured: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:27:38Z"/><EventRecordID>1635747640</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 1bff99b88a0f6abf
TraceId: 909e0c0d4a946049814f5e526f20b488
ParentId: 0000000000000000
RequestId: 40006892-0000-cb00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

API CALL DETAILS - Endpoint: https://generalsearchai.openai.azure.com/
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:27:38Z"/><EventRecordID>1635747656</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 1bff99b88a0f6abf
TraceId: 909e0c0d4a946049814f5e526f20b488
ParentId: 0000000000000000
RequestId: 40006892-0000-cb00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

API CALL DETAILS - DeploymentName: gpt-4.1
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:27:38Z"/><EventRecordID>1635747656</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 1bff99b88a0f6abf
TraceId: 909e0c0d4a946049814f5e526f20b488
ParentId: 0000000000000000
RequestId: 40006892-0000-cb00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

API CALL DETAILS - API Version: 2025-01-01-preview
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:27:38Z"/><EventRecordID>1635747671</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 1bff99b88a0f6abf
TraceId: 909e0c0d4a946049814f5e526f20b488
ParentId: 0000000000000000
RequestId: 40006892-0000-cb00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

DETAILED OPENAI DIAGNOSTICS:
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:27:38Z"/><EventRecordID>1635747671</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 1bff99b88a0f6abf
TraceId: 909e0c0d4a946049814f5e526f20b488
ParentId: 0000000000000000
RequestId: 40006892-0000-cb00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

1. Using OpenAIClient of type: Azure.AI.OpenAI.OpenAIClient
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:27:38Z"/><EventRecordID>1635747687</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 1bff99b88a0f6abf
TraceId: 909e0c0d4a946049814f5e526f20b488
ParentId: 0000000000000000
RequestId: 40006892-0000-cb00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

2. Endpoint URL being used: https://generalsearchai.openai.azure.com/
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:27:38Z"/><EventRecordID>1635747687</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 1bff99b88a0f6abf
TraceId: 909e0c0d4a946049814f5e526f20b488
ParentId: 0000000000000000
RequestId: 40006892-0000-cb00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

3. Deployment name being used: gpt-4.1
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:27:38Z"/><EventRecordID>1635747703</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 1bff99b88a0f6abf
TraceId: 909e0c0d4a946049814f5e526f20b488
ParentId: 0000000000000000
RequestId: 40006892-0000-cb00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

4. Environment variables:
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:27:38Z"/><EventRecordID>1635747703</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 1bff99b88a0f6abf
TraceId: 909e0c0d4a946049814f5e526f20b488
ParentId: 0000000000000000
RequestId: 40006892-0000-cb00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

   OPENAI_API_KEY set: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:27:38Z"/><EventRecordID>1635747718</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 1bff99b88a0f6abf
TraceId: 909e0c0d4a946049814f5e526f20b488
ParentId: 0000000000000000
RequestId: 40006892-0000-cb00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

   OPENAI_ENDPOINT set: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:27:38Z"/><EventRecordID>1635747718</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 1bff99b88a0f6abf
TraceId: 909e0c0d4a946049814f5e526f20b488
ParentId: 0000000000000000
RequestId: 40006892-0000-cb00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

   OPENAI_DEPLOYMENT_NAME set: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:27:40Z"/><EventRecordID>1635750406</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 1bff99b88a0f6abf
TraceId: 909e0c0d4a946049814f5e526f20b488
ParentId: 0000000000000000
RequestId: 40006892-0000-cb00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE FUNCTION DEBUG: Running in Azure environment
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:27:40Z"/><EventRecordID>1635750468</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 1bff99b88a0f6abf
TraceId: 909e0c0d4a946049814f5e526f20b488
ParentId: 0000000000000000
RequestId: 40006892-0000-cb00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE FUNCTION CONFIG: URL=https://fn-conversationsave.azurewebsites.net/***/conversations/update, HasKey=True, HasUserId=False, HasUserEmail=False
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:27:40Z"/><EventRecordID>1635750484</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 1bff99b88a0f6abf
TraceId: 909e0c0d4a946049814f5e526f20b488
ParentId: 0000000000000000
RequestId: 40006892-0000-cb00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE_FUNCTION_SAVE_START [aa42e374]: Starting conversation save
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:27:40Z"/><EventRecordID>1635750484</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 1bff99b88a0f6abf
TraceId: 909e0c0d4a946049814f5e526f20b488
ParentId: 0000000000000000
RequestId: 40006892-0000-cb00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Starting configuration retrieval for Azure Function
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:27:40Z"/><EventRecordID>1635750500</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 1bff99b88a0f6abf
TraceId: 909e0c0d4a946049814f5e526f20b488
ParentId: 0000000000000000
RequestId: 40006892-0000-cb00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Raw env URL: [VALUE SET], Raw config URL: [NOT SET]
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:27:40Z"/><EventRecordID>1635750500</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 1bff99b88a0f6abf
TraceId: 909e0c0d4a946049814f5e526f20b488
ParentId: 0000000000000000
RequestId: 40006892-0000-cb00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Key from env: True, Key from config: False
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:27:40Z"/><EventRecordID>1635750515</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 1bff99b88a0f6abf
TraceId: 909e0c0d4a946049814f5e526f20b488
ParentId: 0000000000000000
RequestId: 40006892-0000-cb00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Final URL configured: True, URL value: https://fn-conversationsave.azurewebsites.net/****/conversations/update
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:27:40Z"/><EventRecordID>1635750515</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 1bff99b88a0f6abf
TraceId: 909e0c0d4a946049814f5e526f20b488
ParentId: 0000000000000000
RequestId: 40006892-0000-cb00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Final Key configured: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-30T21:27:41Z"/><EventRecordID>1635750703</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 1bff99b88a0f6abf
TraceId: 909e0c0d4a946049814f5e526f20b488
ParentId: 0000000000000000
RequestId: 40006892-0000-cb00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE_FUNCTION_SAVE_SUCCESS [aa42e374]: Successfully saved conversation
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-31T11:33:24Z"/><EventRecordID>1686493968</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 96f25b40508a2a91
TraceId: 29bc2683084f8a16ad2b96304170deb1
ParentId: 0000000000000000
RequestId: 400043a8-0000-6b00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

DEBUG - OpenAI API Connection Details:
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-31T11:33:25Z"/><EventRecordID>1686494000</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 96f25b40508a2a91
TraceId: 29bc2683084f8a16ad2b96304170deb1
ParentId: 0000000000000000
RequestId: 400043a8-0000-6b00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

OpenAI Endpoint: https://generalsearchai.openai.azure.com/
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-31T11:33:25Z"/><EventRecordID>1686494015</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 96f25b40508a2a91
TraceId: 29bc2683084f8a16ad2b96304170deb1
ParentId: 0000000000000000
RequestId: 400043a8-0000-6b00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

OpenAI API Key Length: 84
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-31T11:33:25Z"/><EventRecordID>1686494031</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 96f25b40508a2a91
TraceId: 29bc2683084f8a16ad2b96304170deb1
ParentId: 0000000000000000
RequestId: 400043a8-0000-6b00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

OpenAI IsConfigured: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-31T11:33:25Z"/><EventRecordID>1686494046</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 96f25b40508a2a91
TraceId: 29bc2683084f8a16ad2b96304170deb1
ParentId: 0000000000000000
RequestId: 400043a8-0000-6b00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

API CALL DETAILS - Endpoint: https://generalsearchai.openai.azure.com/
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-31T11:33:25Z"/><EventRecordID>1686494062</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 96f25b40508a2a91
TraceId: 29bc2683084f8a16ad2b96304170deb1
ParentId: 0000000000000000
RequestId: 400043a8-0000-6b00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

API CALL DETAILS - DeploymentName: gpt-4.1
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-31T11:33:25Z"/><EventRecordID>1686494062</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 96f25b40508a2a91
TraceId: 29bc2683084f8a16ad2b96304170deb1
ParentId: 0000000000000000
RequestId: 400043a8-0000-6b00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

API CALL DETAILS - API Version: 2025-01-01-preview
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-31T11:33:25Z"/><EventRecordID>1686494078</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 96f25b40508a2a91
TraceId: 29bc2683084f8a16ad2b96304170deb1
ParentId: 0000000000000000
RequestId: 400043a8-0000-6b00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

DETAILED OPENAI DIAGNOSTICS:
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-31T11:33:25Z"/><EventRecordID>1686494093</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 96f25b40508a2a91
TraceId: 29bc2683084f8a16ad2b96304170deb1
ParentId: 0000000000000000
RequestId: 400043a8-0000-6b00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

1. Using OpenAIClient of type: Azure.AI.OpenAI.OpenAIClient
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-31T11:33:25Z"/><EventRecordID>1686494093</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 96f25b40508a2a91
TraceId: 29bc2683084f8a16ad2b96304170deb1
ParentId: 0000000000000000
RequestId: 400043a8-0000-6b00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

2. Endpoint URL being used: https://generalsearchai.openai.azure.com/
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-31T11:33:25Z"/><EventRecordID>1686494109</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 96f25b40508a2a91
TraceId: 29bc2683084f8a16ad2b96304170deb1
ParentId: 0000000000000000
RequestId: 400043a8-0000-6b00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

3. Deployment name being used: gpt-4.1
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-31T11:33:25Z"/><EventRecordID>1686494125</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 96f25b40508a2a91
TraceId: 29bc2683084f8a16ad2b96304170deb1
ParentId: 0000000000000000
RequestId: 400043a8-0000-6b00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

4. Environment variables:
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-31T11:33:25Z"/><EventRecordID>1686494125</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 96f25b40508a2a91
TraceId: 29bc2683084f8a16ad2b96304170deb1
ParentId: 0000000000000000
RequestId: 400043a8-0000-6b00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

   OPENAI_API_KEY set: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-31T11:33:25Z"/><EventRecordID>1686494140</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 96f25b40508a2a91
TraceId: 29bc2683084f8a16ad2b96304170deb1
ParentId: 0000000000000000
RequestId: 400043a8-0000-6b00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

   OPENAI_ENDPOINT set: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-31T11:33:25Z"/><EventRecordID>1686494140</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 96f25b40508a2a91
TraceId: 29bc2683084f8a16ad2b96304170deb1
ParentId: 0000000000000000
RequestId: 400043a8-0000-6b00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

   OPENAI_DEPLOYMENT_NAME set: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-31T11:33:33Z"/><EventRecordID>1686502468</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 96f25b40508a2a91
TraceId: 29bc2683084f8a16ad2b96304170deb1
ParentId: 0000000000000000
RequestId: 400043a8-0000-6b00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE FUNCTION DEBUG: Running in Azure environment
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-31T11:33:33Z"/><EventRecordID>1686502484</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 96f25b40508a2a91
TraceId: 29bc2683084f8a16ad2b96304170deb1
ParentId: 0000000000000000
RequestId: 400043a8-0000-6b00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE FUNCTION CONFIG: URL=https://fn-conversationsave.azurewebsites.net/***/conversations/update, HasKey=True, HasUserId=False, HasUserEmail=False
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-31T11:33:33Z"/><EventRecordID>1686502500</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 96f25b40508a2a91
TraceId: 29bc2683084f8a16ad2b96304170deb1
ParentId: 0000000000000000
RequestId: 400043a8-0000-6b00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE_FUNCTION_SAVE_START [19360256]: Starting conversation save
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-31T11:33:33Z"/><EventRecordID>1686502500</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 96f25b40508a2a91
TraceId: 29bc2683084f8a16ad2b96304170deb1
ParentId: 0000000000000000
RequestId: 400043a8-0000-6b00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Starting configuration retrieval for Azure Function
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-31T11:33:33Z"/><EventRecordID>1686502531</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 96f25b40508a2a91
TraceId: 29bc2683084f8a16ad2b96304170deb1
ParentId: 0000000000000000
RequestId: 400043a8-0000-6b00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Raw env URL: [VALUE SET], Raw config URL: [NOT SET]
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-31T11:33:33Z"/><EventRecordID>1686502531</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 96f25b40508a2a91
TraceId: 29bc2683084f8a16ad2b96304170deb1
ParentId: 0000000000000000
RequestId: 400043a8-0000-6b00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Key from env: True, Key from config: False
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-31T11:33:33Z"/><EventRecordID>1686502546</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 96f25b40508a2a91
TraceId: 29bc2683084f8a16ad2b96304170deb1
ParentId: 0000000000000000
RequestId: 400043a8-0000-6b00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Final URL configured: True, URL value: https://fn-conversationsave.azurewebsites.net/****/conversations/update
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-31T11:33:33Z"/><EventRecordID>1686502562</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.AzureFunctionService
EventId: 0
SpanId: 96f25b40508a2a91
TraceId: 29bc2683084f8a16ad2b96304170deb1
ParentId: 0000000000000000
RequestId: 400043a8-0000-6b00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

CONFIGURATION DEBUG: Final Key configured: True
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>1</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-31T11:34:03Z"/><EventRecordID>1686532578</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Backend.Services.ChatService
EventId: 0
SpanId: 96f25b40508a2a91
TraceId: 29bc2683084f8a16ad2b96304170deb1
ParentId: 0000000000000000
RequestId: 400043a8-0000-6b00-b63f-84710c7967bb
RequestPath: /api/chat
ActionId: 721f9681-4497-41d2-9933-57c22468c541
ActionName: Backend.Controllers.ChatController.PostAsync (Backend)

AZURE_FUNCTION_SAVE_TIMEOUT [19360256]: Azure Function call timed out after 30 seconds
</Data></EventData></Event><Event><System><Provider Name="IIS AspNetCore Module V2"/><EventID>1033</EventID><Level>4</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-31T12:54:42Z"/><EventRecordID>1691371703</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Application 'MACHINE/WEBROOT/APPHOST/~1SITE-NET__E920/APPLICATIONINSIGHTS' has shutdown.</Data><Data>Process Id: 6524.</Data><Data>File Version: 13.1.22321.32. Description: IIS ASP.NET Core Module V2 Request Handler. Commit: 3eeb12e106b9e913c3a4dec1a7d16da7b74149eb</Data></EventData></Event><Event><System><Provider Name="W3SVC-WP"/><EventID>2303</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-31T12:54:42Z"/><EventRecordID>1691371859</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>site-net__e920</Data><Binary>02000780</Binary></EventData></Event><Event><System><Provider Name="W3SVC-WP"/><EventID>2303</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-31T12:54:43Z"/><EventRecordID>1691371937</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>site-net__e920</Data><Binary>02000780</Binary></EventData></Event><Event><System><Provider Name="IIS AspNetCore Module V2"/><EventID>1033</EventID><Level>4</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-31T12:54:45Z"/><EventRecordID>1691374375</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Application 'MACHINE/WEBROOT/APPHOST/SITE-NET__E920' has shutdown.</Data><Data>Process Id: 3308.</Data><Data>File Version: 19.0.25119.5. Description: IIS ASP.NET Core Module V2 Request Handler. Commit: </Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-31T12:54:48Z"/><EventRecordID>1691377171</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Program
EventId: 0

Registering Azure Function service with configuration checks
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-31T12:54:48Z"/><EventRecordID>1691377234</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Program
EventId: 0

STARTUP: Azure Function URL configured: False, Key configured: False
</Data></EventData></Event><Event><System><Provider Name="IIS AspNetCore Module V2"/><EventID>1032</EventID><Level>4</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-31T12:54:49Z"/><EventRecordID>1691378218</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Application 'C:\home\site\wwwroot\' started successfully.</Data><Data>Process Id: 3036.</Data><Data>File Version: 19.0.25119.5. Description: IIS ASP.NET Core Module V2 Request Handler. Commit: </Data></EventData></Event><Event><System><Provider Name="IIS AspNetCore Module V2"/><EventID>1032</EventID><Level>4</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-07-31T12:54:55Z"/><EventRecordID>1691384359</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Application 'C:\Program Files (x86)\SiteExtensions\ApplicationInsightsAgent\2.8.47\ExtensionManager\' started successfully.</Data><Data>Process Id: 8200.</Data><Data>File Version: 13.1.22321.32. Description: IIS ASP.NET Core Module V2 Request Handler. Commit: 3eeb12e106b9e913c3a4dec1a7d16da7b74149eb</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>1</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-08-11T20:09:47Z"/><EventRecordID>-1627101171</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Microsoft.AspNetCore.Server.IIS.Core.IISHttpServer
EventId: 2
SpanId: e37d866b1d27ddb3
TraceId: c14cc019b4f65b959fab45ced0adc534
ParentId: 0000000000000000
RequestId: 4000377f-0000-da00-b63f-84710c7967bb
RequestPath: /api/config/diagnostic

Connection ID "15708555501073610620", Request ID "4000377f-0000-da00-b63f-84710c7967bb": An unhandled exception was thrown by the application.

Exception: 
System.InvalidOperationException: Unable to resolve service for type 'Backend.Services.ChatService' while attempting to activate 'Backend.Controllers.ConfigController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method3(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerActivatorProvider.&lt;&gt;c__DisplayClass7_0.&lt;CreateActivator&gt;b__0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.&lt;&gt;c__DisplayClass6_0.&lt;CreateControllerFactory&gt;g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State&amp; next, Scope&amp; scope, Object&amp; state, Boolean&amp; isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.&lt;InvokeFilterPipelineAsync&gt;g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.&lt;InvokeAsync&gt;g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.&lt;InvokeAsync&gt;g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Program.&lt;&gt;c.&lt;&lt;&lt;Main&gt;$&gt;b__0_7&gt;d.MoveNext() in C:\home\site\repository\Backend\Program.cs:line 168
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
</Data></EventData></Event><Event><System><Provider Name="IIS AspNetCore Module V2"/><EventID>1033</EventID><Level>4</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-08-11T20:30:10Z"/><EventRecordID>-1625877968</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Application 'MACHINE/WEBROOT/APPHOST/~1SITE-NET__E920/APPLICATIONINSIGHTS' has shutdown.</Data><Data>Process Id: 8200.</Data><Data>File Version: 13.1.22321.32. Description: IIS ASP.NET Core Module V2 Request Handler. Commit: 3eeb12e106b9e913c3a4dec1a7d16da7b74149eb</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-08-11T20:30:18Z"/><EventRecordID>-1625870078</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Program
EventId: 0

Registering Azure Function service with configuration checks
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-08-11T20:30:19Z"/><EventRecordID>-1625868890</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Program
EventId: 0

STARTUP: Azure Function URL configured: False, Key configured: False
</Data></EventData></Event><Event><System><Provider Name="IIS AspNetCore Module V2"/><EventID>1032</EventID><Level>4</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-08-11T20:30:21Z"/><EventRecordID>-1625866812</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Application 'C:\home\site\wwwroot\' started successfully.</Data><Data>Process Id: 3692.</Data><Data>File Version: 19.0.25119.5. Description: IIS ASP.NET Core Module V2 Request Handler. Commit: </Data></EventData></Event><Event><System><Provider Name="IIS AspNetCore Module V2"/><EventID>1033</EventID><Level>4</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-08-11T20:30:24Z"/><EventRecordID>-1625864046</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Application 'MACHINE/WEBROOT/APPHOST/SITE-NET__E920' has shutdown.</Data><Data>Process Id: 3036.</Data><Data>File Version: 19.0.25119.5. Description: IIS ASP.NET Core Module V2 Request Handler. Commit: </Data></EventData></Event><Event><System><Provider Name="IIS AspNetCore Module V2"/><EventID>1032</EventID><Level>4</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-08-11T20:30:25Z"/><EventRecordID>-1625862843</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Application 'C:\Program Files (x86)\SiteExtensions\ApplicationInsightsAgent\2.8.47\ExtensionManager\' started successfully.</Data><Data>Process Id: 10056.</Data><Data>File Version: 13.1.22321.32. Description: IIS ASP.NET Core Module V2 Request Handler. Commit: 3eeb12e106b9e913c3a4dec1a7d16da7b74149eb</Data></EventData></Event><Event><System><Provider Name="IIS AspNetCore Module V2"/><EventID>1033</EventID><Level>4</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-08-11T20:32:12Z"/><EventRecordID>-1625755625</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Application 'MACHINE/WEBROOT/APPHOST/SITE-NET__E920' has shutdown.</Data><Data>Process Id: 3692.</Data><Data>File Version: 19.0.25119.5. Description: IIS ASP.NET Core Module V2 Request Handler. Commit: </Data></EventData></Event><Event><System><Provider Name="IIS AspNetCore Module V2"/><EventID>1033</EventID><Level>4</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-08-11T20:32:13Z"/><EventRecordID>-1625754593</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Application 'MACHINE/WEBROOT/APPHOST/~1SITE-NET__E920/APPLICATIONINSIGHTS' has shutdown.</Data><Data>Process Id: 10056.</Data><Data>File Version: 13.1.22321.32. Description: IIS ASP.NET Core Module V2 Request Handler. Commit: 3eeb12e106b9e913c3a4dec1a7d16da7b74149eb</Data></EventData></Event><Event><System><Provider Name="IIS AspNetCore Module V2"/><EventID>1032</EventID><Level>4</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-08-11T20:32:32Z"/><EventRecordID>-1625736421</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Application 'C:\Program Files (x86)\SiteExtensions\ApplicationInsightsAgent\2.8.47\ExtensionManager\' started successfully.</Data><Data>Process Id: 8876.</Data><Data>File Version: 13.1.22321.32. Description: IIS ASP.NET Core Module V2 Request Handler. Commit: 3eeb12e106b9e913c3a4dec1a7d16da7b74149eb</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-08-11T20:32:47Z"/><EventRecordID>-1625721375</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Program
EventId: 0

Registering Azure Function service with configuration checks
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-08-11T20:32:47Z"/><EventRecordID>-1625721265</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Program
EventId: 0

STARTUP: Azure Function URL configured: False, Key configured: False
</Data></EventData></Event><Event><System><Provider Name="IIS AspNetCore Module V2"/><EventID>1032</EventID><Level>4</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-08-11T20:32:48Z"/><EventRecordID>-1625720015</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Application 'C:\home\site\wwwroot\' started successfully.</Data><Data>Process Id: 7352.</Data><Data>File Version: 19.0.25119.5. Description: IIS ASP.NET Core Module V2 Request Handler. Commit: </Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>1</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-08-11T20:37:38Z"/><EventRecordID>-1625429968</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Microsoft.AspNetCore.Server.IIS.Core.IISHttpServer
EventId: 2
SpanId: ab47dac76a8e9a03
TraceId: da42827887ac0a0442077ac4f04513e9
ParentId: 0000000000000000
RequestId: 4000001d-0000-6f00-b63f-84710c7967bb
RequestPath: /api/config/diagnostic

Connection ID "7998392939015307289", Request ID "4000001d-0000-6f00-b63f-84710c7967bb": An unhandled exception was thrown by the application.

Exception: 
System.InvalidOperationException: Unable to resolve service for type 'Backend.Services.ChatService' while attempting to activate 'Backend.Controllers.ConfigController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method3(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerActivatorProvider.&lt;&gt;c__DisplayClass7_0.&lt;CreateActivator&gt;b__0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.&lt;&gt;c__DisplayClass6_0.&lt;CreateControllerFactory&gt;g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State&amp; next, Scope&amp; scope, Object&amp; state, Boolean&amp; isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.&lt;InvokeFilterPipelineAsync&gt;g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.&lt;InvokeAsync&gt;g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.&lt;InvokeAsync&gt;g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Program.&lt;&gt;c.&lt;&lt;&lt;Main&gt;$&gt;b__0_7&gt;d.MoveNext() in C:\home\site\repository\Backend\Program.cs:line 168
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>1</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-08-11T20:37:50Z"/><EventRecordID>-1625418234</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Microsoft.AspNetCore.Server.IIS.Core.IISHttpServer
EventId: 2
SpanId: 3bc7c113200fc431
TraceId: 450aae65f2a04e0bfb006891a4370b80
ParentId: 0000000000000000
RequestId: 40000025-0000-8400-b63f-84710c7967bb
RequestPath: /api/config/diagnostic

Connection ID "9511602413811793956", Request ID "40000025-0000-8400-b63f-84710c7967bb": An unhandled exception was thrown by the application.

Exception: 
System.InvalidOperationException: Unable to resolve service for type 'Backend.Services.ChatService' while attempting to activate 'Backend.Controllers.ConfigController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method3(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerActivatorProvider.&lt;&gt;c__DisplayClass7_0.&lt;CreateActivator&gt;b__0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.&lt;&gt;c__DisplayClass6_0.&lt;CreateControllerFactory&gt;g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State&amp; next, Scope&amp; scope, Object&amp; state, Boolean&amp; isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.&lt;InvokeFilterPipelineAsync&gt;g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.&lt;InvokeAsync&gt;g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.&lt;InvokeAsync&gt;g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Program.&lt;&gt;c.&lt;&lt;&lt;Main&gt;$&gt;b__0_7&gt;d.MoveNext() in C:\home\site\repository\Backend\Program.cs:line 168
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>1</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-08-11T20:38:13Z"/><EventRecordID>-1625394609</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Microsoft.AspNetCore.Server.IIS.Core.IISHttpServer
EventId: 2
SpanId: 8cf77c41131b0d54
TraceId: c37d5df330329cb4729ea07fa81c1341
ParentId: 0000000000000000
RequestId: 4000001f-0000-6f00-b63f-84710c7967bb
RequestPath: /api/config

Connection ID "7998392939015307289", Request ID "4000001f-0000-6f00-b63f-84710c7967bb": An unhandled exception was thrown by the application.

Exception: 
System.InvalidOperationException: Unable to resolve service for type 'Backend.Services.ChatService' while attempting to activate 'Backend.Controllers.ConfigController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method5(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerActivatorProvider.&lt;&gt;c__DisplayClass7_0.&lt;CreateActivator&gt;b__0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.&lt;&gt;c__DisplayClass6_0.&lt;CreateControllerFactory&gt;g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State&amp; next, Scope&amp; scope, Object&amp; state, Boolean&amp; isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.&lt;InvokeFilterPipelineAsync&gt;g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.&lt;InvokeAsync&gt;g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.&lt;InvokeAsync&gt;g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Program.&lt;&gt;c.&lt;&lt;&lt;Main&gt;$&gt;b__0_7&gt;d.MoveNext() in C:\home\site\repository\Backend\Program.cs:line 168
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>1</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-08-11T20:52:19Z"/><EventRecordID>-1624549015</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Microsoft.AspNetCore.Server.IIS.Core.IISHttpServer
EventId: 2
SpanId: c5a43f1646157ab9
TraceId: 64c16562aed1f84fccddc7f1644bf3b5
ParentId: 0000000000000000
RequestId: 4000002e-0000-6f00-b63f-84710c7967bb
RequestPath: /api/config/diagnostic

Connection ID "7998392939015307307", Request ID "4000002e-0000-6f00-b63f-84710c7967bb": An unhandled exception was thrown by the application.

Exception: 
System.InvalidOperationException: Unable to resolve service for type 'Backend.Services.ChatService' while attempting to activate 'Backend.Controllers.ConfigController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method3(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerActivatorProvider.&lt;&gt;c__DisplayClass7_0.&lt;CreateActivator&gt;b__0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.&lt;&gt;c__DisplayClass6_0.&lt;CreateControllerFactory&gt;g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State&amp; next, Scope&amp; scope, Object&amp; state, Boolean&amp; isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.&lt;InvokeFilterPipelineAsync&gt;g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.&lt;InvokeAsync&gt;g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.&lt;InvokeAsync&gt;g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Program.&lt;&gt;c.&lt;&lt;&lt;Main&gt;$&gt;b__0_7&gt;d.MoveNext() in C:\home\site\repository\Backend\Program.cs:line 168
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
</Data></EventData></Event><Event><System><Provider Name="IIS AspNetCore Module V2"/><EventID>1012</EventID><Level>4</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-08-11T20:55:17Z"/><EventRecordID>-1624371078</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Application 'C:\home\site\wwwroot\' was recycled after detecting app_offline.htm.</Data><Data>Process Id: 7352.</Data><Data>File Version: 19.0.25119.5. Description: IIS ASP.NET Core Module V2 Request Handler. Commit: </Data></EventData></Event><Event><System><Provider Name="IIS AspNetCore Module V2"/><EventID>1033</EventID><Level>4</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-08-11T20:55:20Z"/><EventRecordID>-1624368531</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Application 'MACHINE/WEBROOT/APPHOST/SITE-NET__E920' has shutdown.</Data><Data>Process Id: 7352.</Data><Data>File Version: 19.0.25119.5. Description: IIS ASP.NET Core Module V2 Request Handler. Commit: </Data></EventData></Event><Event><System><Provider Name="IIS AspNetCore Module V2"/><EventID>1033</EventID><Level>4</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-08-11T20:55:43Z"/><EventRecordID>-1624345312</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Application 'MACHINE/WEBROOT/APPHOST/~1SITE-NET__E920/APPLICATIONINSIGHTS' has shutdown.</Data><Data>Process Id: 8876.</Data><Data>File Version: 13.1.22321.32. Description: IIS ASP.NET Core Module V2 Request Handler. Commit: 3eeb12e106b9e913c3a4dec1a7d16da7b74149eb</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-08-11T20:56:06Z"/><EventRecordID>-1624321750</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Program
EventId: 0

Registering Azure Function service with configuration checks
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-08-11T20:56:07Z"/><EventRecordID>-1624321515</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Program
EventId: 0

STARTUP: Azure Function URL configured: True, Key configured: True
</Data></EventData></Event><Event><System><Provider Name="IIS AspNetCore Module V2"/><EventID>1032</EventID><Level>4</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-08-11T20:56:07Z"/><EventRecordID>-1624320968</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Application 'C:\Program Files (x86)\SiteExtensions\ApplicationInsightsAgent\2.8.47\ExtensionManager\' started successfully.</Data><Data>Process Id: 1244.</Data><Data>File Version: 13.1.22321.32. Description: IIS ASP.NET Core Module V2 Request Handler. Commit: 3eeb12e106b9e913c3a4dec1a7d16da7b74149eb</Data></EventData></Event><Event><System><Provider Name="IIS AspNetCore Module V2"/><EventID>1032</EventID><Level>4</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-08-11T20:56:09Z"/><EventRecordID>-1624318984</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Application 'C:\home\site\wwwroot\' started successfully.</Data><Data>Process Id: 2592.</Data><Data>File Version: 19.0.25119.5. Description: IIS ASP.NET Core Module V2 Request Handler. Commit: </Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>1</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-08-11T20:56:16Z"/><EventRecordID>-1624312125</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Microsoft.AspNetCore.Server.IIS.Core.IISHttpServer
EventId: 2
SpanId: e38e6c2e64bb2ba8
TraceId: 19140bab1ca1efc245aff3a8cdcf98fb
ParentId: 0000000000000000
RequestId: 40026ebe-0000-5a00-b63f-84710c7967bb
RequestPath: /api/config/auth

Connection ID "6485183464218980026", Request ID "40026ebe-0000-5a00-b63f-84710c7967bb": An unhandled exception was thrown by the application.

Exception: 
System.InvalidOperationException: Unable to resolve service for type 'Backend.Services.ChatService' while attempting to activate 'Backend.Controllers.ConfigController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method3(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerActivatorProvider.&lt;&gt;c__DisplayClass7_0.&lt;CreateActivator&gt;b__0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.&lt;&gt;c__DisplayClass6_0.&lt;CreateControllerFactory&gt;g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State&amp; next, Scope&amp; scope, Object&amp; state, Boolean&amp; isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.&lt;InvokeFilterPipelineAsync&gt;g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.&lt;InvokeAsync&gt;g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.&lt;InvokeAsync&gt;g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Program.&lt;&gt;c.&lt;&lt;&lt;Main&gt;$&gt;b__0_7&gt;d.MoveNext() in C:\Users\brianw\CascadeProjects\net-ai-site-blue\Backend\Program.cs:line 172
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>1</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-08-11T20:56:58Z"/><EventRecordID>-1624270359</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Microsoft.AspNetCore.Server.IIS.Core.IISHttpServer
EventId: 2
SpanId: 4bba577ee6ce89fe
TraceId: b00498c6f3ee1f14fedb9fb4f5e51b3c
ParentId: 0000000000000000
RequestId: 40004547-0000-e700-b63f-84710c7967bb
RequestPath: /api/config/auth

Connection ID "16645304223566677314", Request ID "40004547-0000-e700-b63f-84710c7967bb": An unhandled exception was thrown by the application.

Exception: 
System.InvalidOperationException: Unable to resolve service for type 'Backend.Services.ChatService' while attempting to activate 'Backend.Controllers.ConfigController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method3(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerActivatorProvider.&lt;&gt;c__DisplayClass7_0.&lt;CreateActivator&gt;b__0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.&lt;&gt;c__DisplayClass6_0.&lt;CreateControllerFactory&gt;g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State&amp; next, Scope&amp; scope, Object&amp; state, Boolean&amp; isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.&lt;InvokeFilterPipelineAsync&gt;g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.&lt;InvokeAsync&gt;g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.&lt;InvokeAsync&gt;g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Program.&lt;&gt;c.&lt;&lt;&lt;Main&gt;$&gt;b__0_7&gt;d.MoveNext() in C:\Users\brianw\CascadeProjects\net-ai-site-blue\Backend\Program.cs:line 172
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
</Data></EventData></Event><Event><System><Provider Name="IIS AspNetCore Module V2"/><EventID>1033</EventID><Level>4</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-08-11T21:00:42Z"/><EventRecordID>-1624045984</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Application 'MACHINE/WEBROOT/APPHOST/~1SITE-NET__E920/APPLICATIONINSIGHTS' has shutdown.</Data><Data>Process Id: 1244.</Data><Data>File Version: 13.1.22321.32. Description: IIS ASP.NET Core Module V2 Request Handler. Commit: 3eeb12e106b9e913c3a4dec1a7d16da7b74149eb</Data></EventData></Event><Event><System><Provider Name="IIS AspNetCore Module V2"/><EventID>1033</EventID><Level>4</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-08-11T21:00:43Z"/><EventRecordID>-1624044968</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Application 'MACHINE/WEBROOT/APPHOST/SITE-NET__E920' has shutdown.</Data><Data>Process Id: 2592.</Data><Data>File Version: 19.0.25119.5. Description: IIS ASP.NET Core Module V2 Request Handler. Commit: </Data></EventData></Event><Event><System><Provider Name="IIS AspNetCore Module V2"/><EventID>1032</EventID><Level>4</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-08-11T21:00:52Z"/><EventRecordID>-1624036265</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Application 'C:\Program Files (x86)\SiteExtensions\ApplicationInsightsAgent\2.8.47\ExtensionManager\' started successfully.</Data><Data>Process Id: 2728.</Data><Data>File Version: 13.1.22321.32. Description: IIS ASP.NET Core Module V2 Request Handler. Commit: 3eeb12e106b9e913c3a4dec1a7d16da7b74149eb</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-08-11T21:01:09Z"/><EventRecordID>-1624019531</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Program
EventId: 0

Registering Azure Function service with configuration checks
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-08-11T21:01:09Z"/><EventRecordID>-1624019484</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Program
EventId: 0

STARTUP: Azure Function URL configured: True, Key configured: True
</Data></EventData></Event><Event><System><Provider Name="IIS AspNetCore Module V2"/><EventID>1032</EventID><Level>4</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-08-11T21:01:10Z"/><EventRecordID>-1624018187</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Application 'C:\home\site\wwwroot\' started successfully.</Data><Data>Process Id: 6360.</Data><Data>File Version: 19.0.25119.5. Description: IIS ASP.NET Core Module V2 Request Handler. Commit: </Data></EventData></Event><Event><System><Provider Name="IIS AspNetCore Module V2"/><EventID>1033</EventID><Level>4</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-08-11T21:03:38Z"/><EventRecordID>-1623870500</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Application 'MACHINE/WEBROOT/APPHOST/~1SITE-NET__E920/APPLICATIONINSIGHTS' has shutdown.</Data><Data>Process Id: 2728.</Data><Data>File Version: 13.1.22321.32. Description: IIS ASP.NET Core Module V2 Request Handler. Commit: 3eeb12e106b9e913c3a4dec1a7d16da7b74149eb</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>1</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-08-11T21:03:44Z"/><EventRecordID>-1623864312</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Microsoft.AspNetCore.Server.IIS.Core.IISHttpServer
EventId: 2
SpanId: 82f3ea295d003508
TraceId: 89f19ebf2f2459700f30d6d0c5684f69
ParentId: 0000000000000000
RequestId: 40000037-0000-6f00-b63f-84710c7967bb
RequestPath: /api/config/auth

Connection ID "7998392939015307318", Request ID "40000037-0000-6f00-b63f-84710c7967bb": An unhandled exception was thrown by the application.

Exception: 
System.InvalidOperationException: Unable to resolve service for type 'Backend.Services.ChatService' while attempting to activate 'Backend.Controllers.ConfigController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method3(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerActivatorProvider.&lt;&gt;c__DisplayClass7_0.&lt;CreateActivator&gt;b__0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.&lt;&gt;c__DisplayClass6_0.&lt;CreateControllerFactory&gt;g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State&amp; next, Scope&amp; scope, Object&amp; state, Boolean&amp; isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.&lt;InvokeFilterPipelineAsync&gt;g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.&lt;InvokeAsync&gt;g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.&lt;InvokeAsync&gt;g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Program.&lt;&gt;c.&lt;&lt;&lt;Main&gt;$&gt;b__0_7&gt;d.MoveNext() in C:\Users\brianw\CascadeProjects\net-ai-site-blue\Backend\Program.cs:line 172
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-08-11T21:03:44Z"/><EventRecordID>-1623863578</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Program
EventId: 0

Registering Azure Function service with configuration checks
</Data></EventData></Event><Event><System><Provider Name="IIS AspNetCore Module V2"/><EventID>1033</EventID><Level>4</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-08-11T21:03:45Z"/><EventRecordID>-1623863484</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Application 'MACHINE/WEBROOT/APPHOST/SITE-NET__E920' has shutdown.</Data><Data>Process Id: 6360.</Data><Data>File Version: 19.0.25119.5. Description: IIS ASP.NET Core Module V2 Request Handler. Commit: </Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-08-11T21:03:46Z"/><EventRecordID>-1623862484</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Program
EventId: 0

STARTUP: Azure Function URL configured: True, Key configured: True
</Data></EventData></Event><Event><System><Provider Name="IIS AspNetCore Module V2"/><EventID>1032</EventID><Level>4</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-08-11T21:03:47Z"/><EventRecordID>-1623860937</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Application 'C:\home\site\wwwroot\' started successfully.</Data><Data>Process Id: 9072.</Data><Data>File Version: 19.0.25119.5. Description: IIS ASP.NET Core Module V2 Request Handler. Commit: </Data></EventData></Event><Event><System><Provider Name="IIS AspNetCore Module V2"/><EventID>1032</EventID><Level>4</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-08-11T21:03:54Z"/><EventRecordID>-1623854531</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Application 'C:\Program Files (x86)\SiteExtensions\ApplicationInsightsAgent\2.8.47\ExtensionManager\' started successfully.</Data><Data>Process Id: 8496.</Data><Data>File Version: 13.1.22321.32. Description: IIS ASP.NET Core Module V2 Request Handler. Commit: 3eeb12e106b9e913c3a4dec1a7d16da7b74149eb</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-08-11T21:04:23Z"/><EventRecordID>-1623825312</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Program
EventId: 0

Registering Azure Function service with configuration checks
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-08-11T21:04:23Z"/><EventRecordID>-1623825281</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Program
EventId: 0

STARTUP: Azure Function URL configured: True, Key configured: True
</Data></EventData></Event><Event><System><Provider Name="IIS AspNetCore Module V2"/><EventID>1032</EventID><Level>4</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-08-11T21:04:24Z"/><EventRecordID>-1623824109</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Application 'C:\home\site\wwwroot\' started successfully.</Data><Data>Process Id: 7920.</Data><Data>File Version: 19.0.25119.5. Description: IIS ASP.NET Core Module V2 Request Handler. Commit: </Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>1</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-08-11T21:04:26Z"/><EventRecordID>-1623822328</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Microsoft.AspNetCore.Server.IIS.Core.IISHttpServer
EventId: 2
SpanId: eb681b2b9505fe7f
TraceId: 9f9f78d9b33aff6a13f765629fbe3a8a
ParentId: 0000000000000000
RequestId: 40026ed1-0000-5a00-b63f-84710c7967bb
RequestPath: /api/config/auth

Connection ID "6485183464218980048", Request ID "40026ed1-0000-5a00-b63f-84710c7967bb": An unhandled exception was thrown by the application.

Exception: 
System.InvalidOperationException: Unable to resolve service for type 'Backend.Services.ChatService' while attempting to activate 'Backend.Controllers.ConfigController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method3(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerActivatorProvider.&lt;&gt;c__DisplayClass7_0.&lt;CreateActivator&gt;b__0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.&lt;&gt;c__DisplayClass6_0.&lt;CreateControllerFactory&gt;g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State&amp; next, Scope&amp; scope, Object&amp; state, Boolean&amp; isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.&lt;InvokeFilterPipelineAsync&gt;g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.&lt;InvokeAsync&gt;g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.&lt;InvokeAsync&gt;g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Program.&lt;&gt;c.&lt;&lt;&lt;Main&gt;$&gt;b__0_7&gt;d.MoveNext() in C:\Users\brianw\CascadeProjects\net-ai-site-blue\Backend\Program.cs:line 172
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>1</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-08-11T21:04:26Z"/><EventRecordID>-1623822296</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Microsoft.AspNetCore.Server.IIS.Core.IISHttpServer
EventId: 2
SpanId: 9c6fe58d3391fce8
TraceId: 89faa2fb355d2a6e699e98049821deee
ParentId: 0000000000000000
RequestId: 40004563-0000-e700-b63f-84710c7967bb
RequestPath: /api/config/auth

Connection ID "16645304223566677345", Request ID "40004563-0000-e700-b63f-84710c7967bb": An unhandled exception was thrown by the application.

Exception: 
System.InvalidOperationException: Unable to resolve service for type 'Backend.Services.ChatService' while attempting to activate 'Backend.Controllers.ConfigController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method3(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerActivatorProvider.&lt;&gt;c__DisplayClass7_0.&lt;CreateActivator&gt;b__0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.&lt;&gt;c__DisplayClass6_0.&lt;CreateControllerFactory&gt;g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State&amp; next, Scope&amp; scope, Object&amp; state, Boolean&amp; isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.&lt;InvokeFilterPipelineAsync&gt;g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.&lt;InvokeAsync&gt;g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.&lt;InvokeAsync&gt;g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Program.&lt;&gt;c.&lt;&lt;&lt;Main&gt;$&gt;b__0_7&gt;d.MoveNext() in C:\Users\brianw\CascadeProjects\net-ai-site-blue\Backend\Program.cs:line 172
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>1</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-08-11T21:04:37Z"/><EventRecordID>-1623810671</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Microsoft.AspNetCore.Server.IIS.Core.IISHttpServer
EventId: 2
SpanId: 0ff32153f7d897b7
TraceId: 266d805d3f2d6979356e4ad6c48e97bb
ParentId: 0000000000000000
RequestId: 40009295-0000-cb00-b63f-84710c7967bb
RequestPath: /api/config/auth

Connection ID "14627691590504714900", Request ID "40009295-0000-cb00-b63f-84710c7967bb": An unhandled exception was thrown by the application.

Exception: 
System.InvalidOperationException: Unable to resolve service for type 'Backend.Services.ChatService' while attempting to activate 'Backend.Controllers.ConfigController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method3(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerActivatorProvider.&lt;&gt;c__DisplayClass7_0.&lt;CreateActivator&gt;b__0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.&lt;&gt;c__DisplayClass6_0.&lt;CreateControllerFactory&gt;g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State&amp; next, Scope&amp; scope, Object&amp; state, Boolean&amp; isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.&lt;InvokeFilterPipelineAsync&gt;g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.&lt;InvokeAsync&gt;g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.&lt;InvokeAsync&gt;g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Program.&lt;&gt;c.&lt;&lt;&lt;Main&gt;$&gt;b__0_7&gt;d.MoveNext() in C:\Users\brianw\CascadeProjects\net-ai-site-blue\Backend\Program.cs:line 172
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>1</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-08-11T21:04:45Z"/><EventRecordID>-1623802609</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Microsoft.AspNetCore.Server.IIS.Core.IISHttpServer
EventId: 2
SpanId: 08d5fcc0ed304b71
TraceId: 40709f8fb93ab37e98c3edf88acbd0a8
ParentId: 0000000000000000
RequestId: 40026ed2-0000-5a00-b63f-84710c7967bb
RequestPath: /api/config/auth

Connection ID "6485183464218980048", Request ID "40026ed2-0000-5a00-b63f-84710c7967bb": An unhandled exception was thrown by the application.

Exception: 
System.InvalidOperationException: Unable to resolve service for type 'Backend.Services.ChatService' while attempting to activate 'Backend.Controllers.ConfigController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method3(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerActivatorProvider.&lt;&gt;c__DisplayClass7_0.&lt;CreateActivator&gt;b__0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.&lt;&gt;c__DisplayClass6_0.&lt;CreateControllerFactory&gt;g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State&amp; next, Scope&amp; scope, Object&amp; state, Boolean&amp; isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.&lt;InvokeFilterPipelineAsync&gt;g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.&lt;InvokeAsync&gt;g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.&lt;InvokeAsync&gt;g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Program.&lt;&gt;c.&lt;&lt;&lt;Main&gt;$&gt;b__0_7&gt;d.MoveNext() in C:\Users\brianw\CascadeProjects\net-ai-site-blue\Backend\Program.cs:line 172
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
</Data></EventData></Event><Event><System><Provider Name="IIS AspNetCore Module V2"/><EventID>1033</EventID><Level>4</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-08-11T21:07:13Z"/><EventRecordID>-1623654875</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Application 'MACHINE/WEBROOT/APPHOST/SITE-NET__E920' has shutdown.</Data><Data>Process Id: 7920.</Data><Data>File Version: 19.0.25119.5. Description: IIS ASP.NET Core Module V2 Request Handler. Commit: </Data></EventData></Event><Event><System><Provider Name="IIS AspNetCore Module V2"/><EventID>1033</EventID><Level>4</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-08-11T21:07:14Z"/><EventRecordID>-1623653843</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Application 'MACHINE/WEBROOT/APPHOST/~1SITE-NET__E920/APPLICATIONINSIGHTS' has shutdown.</Data><Data>Process Id: 8496.</Data><Data>File Version: 13.1.22321.32. Description: IIS ASP.NET Core Module V2 Request Handler. Commit: 3eeb12e106b9e913c3a4dec1a7d16da7b74149eb</Data></EventData></Event><Event><System><Provider Name="IIS AspNetCore Module V2"/><EventID>1032</EventID><Level>4</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-08-11T21:07:45Z"/><EventRecordID>-1623623015</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Application 'C:\Program Files (x86)\SiteExtensions\ApplicationInsightsAgent\2.8.47\ExtensionManager\' started successfully.</Data><Data>Process Id: 6184.</Data><Data>File Version: 13.1.22321.32. Description: IIS ASP.NET Core Module V2 Request Handler. Commit: 3eeb12e106b9e913c3a4dec1a7d16da7b74149eb</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-08-11T21:07:48Z"/><EventRecordID>-1623619687</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Program
EventId: 0

Registering Azure Function service with configuration checks
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-08-11T21:07:49Z"/><EventRecordID>-1623618937</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Program
EventId: 0

STARTUP: Azure Function URL configured: True, Key configured: True
</Data></EventData></Event><Event><System><Provider Name="IIS AspNetCore Module V2"/><EventID>1032</EventID><Level>4</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-08-11T21:07:53Z"/><EventRecordID>-1623615140</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Application 'C:\home\site\wwwroot\' started successfully.</Data><Data>Process Id: 7132.</Data><Data>File Version: 19.0.25119.5. Description: IIS ASP.NET Core Module V2 Request Handler. Commit: </Data></EventData></Event><Event><System><Provider Name="W3SVC-WP"/><EventID>2303</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-08-11T21:08:23Z"/><EventRecordID>-1623584671</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>site-net__e920</Data><Binary>02000780</Binary></EventData></Event><Event><System><Provider Name="IIS AspNetCore Module V2"/><EventID>1033</EventID><Level>4</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-08-11T21:08:24Z"/><EventRecordID>-1623584156</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Application 'MACHINE/WEBROOT/APPHOST/SITE-NET__E920' has shutdown.</Data><Data>Process Id: 7132.</Data><Data>File Version: 19.0.25119.5. Description: IIS ASP.NET Core Module V2 Request Handler. Commit: </Data></EventData></Event><Event><System><Provider Name="IIS AspNetCore Module V2"/><EventID>1033</EventID><Level>4</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-08-11T21:08:26Z"/><EventRecordID>-1623582421</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Application 'MACHINE/WEBROOT/APPHOST/~1SITE-NET__E920/APPLICATIONINSIGHTS' has shutdown.</Data><Data>Process Id: 6184.</Data><Data>File Version: 13.1.22321.32. Description: IIS ASP.NET Core Module V2 Request Handler. Commit: 3eeb12e106b9e913c3a4dec1a7d16da7b74149eb</Data></EventData></Event><Event><System><Provider Name="W3SVC-WP"/><EventID>2303</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-08-11T21:08:27Z"/><EventRecordID>-1623581078</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>site-net__e920</Data><Binary>02000780</Binary></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-08-11T21:08:29Z"/><EventRecordID>-1623579375</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Program
EventId: 0

Registering Azure Function service with configuration checks
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-08-11T21:08:29Z"/><EventRecordID>-1623579140</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Program
EventId: 0

STARTUP: Azure Function URL configured: True, Key configured: True
</Data></EventData></Event><Event><System><Provider Name="IIS AspNetCore Module V2"/><EventID>1032</EventID><Level>4</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-08-11T21:08:30Z"/><EventRecordID>-1623578125</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Application 'C:\home\site\wwwroot\' started successfully.</Data><Data>Process Id: 9904.</Data><Data>File Version: 19.0.25119.5. Description: IIS ASP.NET Core Module V2 Request Handler. Commit: </Data></EventData></Event><Event><System><Provider Name="IIS AspNetCore Module V2"/><EventID>1032</EventID><Level>4</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-08-11T21:08:37Z"/><EventRecordID>-1623571468</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Application 'C:\Program Files (x86)\SiteExtensions\ApplicationInsightsAgent\2.8.47\ExtensionManager\' started successfully.</Data><Data>Process Id: 4672.</Data><Data>File Version: 13.1.22321.32. Description: IIS ASP.NET Core Module V2 Request Handler. Commit: 3eeb12e106b9e913c3a4dec1a7d16da7b74149eb</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>1</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-08-11T21:09:00Z"/><EventRecordID>-1623548421</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Microsoft.AspNetCore.Server.IIS.Core.IISHttpServer
EventId: 2
SpanId: 6fbba13a96027697
TraceId: 7907bc1799a0d706a2dd6aa2845f3225
ParentId: 0000000000000000
RequestId: 4001660f-0000-f200-b63f-84710c7967bb
RequestPath: /api/config/auth

Connection ID "17437937757983958541", Request ID "4001660f-0000-f200-b63f-84710c7967bb": An unhandled exception was thrown by the application.

Exception: 
System.InvalidOperationException: Unable to resolve service for type 'Backend.Services.ChatService' while attempting to activate 'Backend.Controllers.ConfigController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method3(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerActivatorProvider.&lt;&gt;c__DisplayClass7_0.&lt;CreateActivator&gt;b__0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.&lt;&gt;c__DisplayClass6_0.&lt;CreateControllerFactory&gt;g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State&amp; next, Scope&amp; scope, Object&amp; state, Boolean&amp; isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.&lt;InvokeFilterPipelineAsync&gt;g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.&lt;InvokeAsync&gt;g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.&lt;InvokeAsync&gt;g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Program.&lt;&gt;c.&lt;&lt;&lt;Main&gt;$&gt;b__0_7&gt;d.MoveNext() in C:\Users\brianw\CascadeProjects\net-ai-site-blue\Backend\Program.cs:line 172
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>1</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-08-11T21:09:44Z"/><EventRecordID>-1623504046</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Microsoft.AspNetCore.Server.IIS.Core.IISHttpServer
EventId: 2
SpanId: c7e7aa5f95b39153
TraceId: cc8df30d96fe5a8eaac20b05719d8d28
ParentId: 0000000000000000
RequestId: 40016611-0000-f200-b63f-84710c7967bb
RequestPath: /api/config/auth

Connection ID "17437937757983958541", Request ID "40016611-0000-f200-b63f-84710c7967bb": An unhandled exception was thrown by the application.

Exception: 
System.InvalidOperationException: Unable to resolve service for type 'Backend.Services.ChatService' while attempting to activate 'Backend.Controllers.ConfigController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method3(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerActivatorProvider.&lt;&gt;c__DisplayClass7_0.&lt;CreateActivator&gt;b__0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.&lt;&gt;c__DisplayClass6_0.&lt;CreateControllerFactory&gt;g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State&amp; next, Scope&amp; scope, Object&amp; state, Boolean&amp; isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.&lt;InvokeFilterPipelineAsync&gt;g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.&lt;InvokeAsync&gt;g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.&lt;InvokeAsync&gt;g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Program.&lt;&gt;c.&lt;&lt;&lt;Main&gt;$&gt;b__0_7&gt;d.MoveNext() in C:\Users\brianw\CascadeProjects\net-ai-site-blue\Backend\Program.cs:line 172
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>1</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-08-11T21:14:39Z"/><EventRecordID>-1623209421</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Microsoft.AspNetCore.Server.IIS.Core.IISHttpServer
EventId: 2
SpanId: 11b354bebcc88f5b
TraceId: 6f334867dfe8771307fef2b825ea42de
ParentId: 0000000000000000
RequestId: 40026ef7-0000-d300-b63f-84710c7967bb
RequestPath: /api/config/auth

Connection ID "15204152342808260341", Request ID "40026ef7-0000-d300-b63f-84710c7967bb": An unhandled exception was thrown by the application.

Exception: 
System.InvalidOperationException: Unable to resolve service for type 'Backend.Services.ChatService' while attempting to activate 'Backend.Controllers.ConfigController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method3(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerActivatorProvider.&lt;&gt;c__DisplayClass7_0.&lt;CreateActivator&gt;b__0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.&lt;&gt;c__DisplayClass6_0.&lt;CreateControllerFactory&gt;g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State&amp; next, Scope&amp; scope, Object&amp; state, Boolean&amp; isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.&lt;InvokeFilterPipelineAsync&gt;g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.&lt;InvokeAsync&gt;g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.&lt;InvokeAsync&gt;g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Program.&lt;&gt;c.&lt;&lt;&lt;Main&gt;$&gt;b__0_7&gt;d.MoveNext() in C:\Users\brianw\CascadeProjects\net-ai-site-blue\Backend\Program.cs:line 172
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
</Data></EventData></Event><Event><System><Provider Name="IIS AspNetCore Module V2"/><EventID>1033</EventID><Level>4</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-08-11T21:14:43Z"/><EventRecordID>-1623204750</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Application 'MACHINE/WEBROOT/APPHOST/~1SITE-NET__E920/APPLICATIONINSIGHTS' has shutdown.</Data><Data>Process Id: 4672.</Data><Data>File Version: 13.1.22321.32. Description: IIS ASP.NET Core Module V2 Request Handler. Commit: 3eeb12e106b9e913c3a4dec1a7d16da7b74149eb</Data></EventData></Event><Event><System><Provider Name="IIS AspNetCore Module V2"/><EventID>1033</EventID><Level>4</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-08-11T21:14:43Z"/><EventRecordID>-1623204703</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Application 'MACHINE/WEBROOT/APPHOST/SITE-NET__E920' has shutdown.</Data><Data>Process Id: 9904.</Data><Data>File Version: 19.0.25119.5. Description: IIS ASP.NET Core Module V2 Request Handler. Commit: </Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-08-11T21:15:09Z"/><EventRecordID>-1623179562</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Program
EventId: 0

Registering Azure Function service with configuration checks
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-08-11T21:15:09Z"/><EventRecordID>-1623179265</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Program
EventId: 0

STARTUP: Azure Function URL configured: True, Key configured: True
</Data></EventData></Event><Event><System><Provider Name="IIS AspNetCore Module V2"/><EventID>1032</EventID><Level>4</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-08-11T21:15:10Z"/><EventRecordID>-1623177640</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Application 'C:\home\site\wwwroot\' started successfully.</Data><Data>Process Id: 3036.</Data><Data>File Version: 19.0.25119.5. Description: IIS ASP.NET Core Module V2 Request Handler. Commit: </Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>1</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-08-11T21:15:15Z"/><EventRecordID>-1623173546</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Microsoft.AspNetCore.Server.IIS.Core.IISHttpServer
EventId: 2
SpanId: 7e1c343b4ed22489
TraceId: 0a8faed8afb38361aa8db14541a47213
ParentId: 0000000000000000
RequestId: 400263ff-0000-6800-b63f-84710c7967bb
RequestPath: /api/config/auth

Connection ID "7493989780749968381", Request ID "400263ff-0000-6800-b63f-84710c7967bb": An unhandled exception was thrown by the application.

Exception: 
System.InvalidOperationException: Unable to resolve service for type 'Backend.Services.ChatService' while attempting to activate 'Backend.Controllers.ConfigController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method3(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerActivatorProvider.&lt;&gt;c__DisplayClass7_0.&lt;CreateActivator&gt;b__0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.&lt;&gt;c__DisplayClass6_0.&lt;CreateControllerFactory&gt;g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State&amp; next, Scope&amp; scope, Object&amp; state, Boolean&amp; isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.&lt;InvokeFilterPipelineAsync&gt;g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.&lt;InvokeAsync&gt;g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.&lt;InvokeAsync&gt;g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Program.&lt;&gt;c.&lt;&lt;&lt;Main&gt;$&gt;b__0_7&gt;d.MoveNext() in C:\Users\brianw\CascadeProjects\net-ai-site-blue\Backend\Program.cs:line 172
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>1</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-08-11T21:15:16Z"/><EventRecordID>-1623172484</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Microsoft.AspNetCore.Server.IIS.Core.IISHttpServer
EventId: 2
SpanId: b01c4ce696f94437
TraceId: ec811367a7f1d7cc5669a92f7fd03ee5
ParentId: 0000000000000000
RequestId: 4000004a-0000-6f00-b63f-84710c7967bb
RequestPath: /api/config/auth

Connection ID "7998392939015307336", Request ID "4000004a-0000-6f00-b63f-84710c7967bb": An unhandled exception was thrown by the application.

Exception: 
System.InvalidOperationException: Unable to resolve service for type 'Backend.Services.ChatService' while attempting to activate 'Backend.Controllers.ConfigController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method3(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerActivatorProvider.&lt;&gt;c__DisplayClass7_0.&lt;CreateActivator&gt;b__0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.&lt;&gt;c__DisplayClass6_0.&lt;CreateControllerFactory&gt;g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State&amp; next, Scope&amp; scope, Object&amp; state, Boolean&amp; isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.&lt;InvokeFilterPipelineAsync&gt;g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.&lt;InvokeAsync&gt;g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.&lt;InvokeAsync&gt;g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Program.&lt;&gt;c.&lt;&lt;&lt;Main&gt;$&gt;b__0_7&gt;d.MoveNext() in C:\Users\brianw\CascadeProjects\net-ai-site-blue\Backend\Program.cs:line 172
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
</Data></EventData></Event><Event><System><Provider Name="IIS AspNetCore Module V2"/><EventID>1032</EventID><Level>4</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-08-11T21:15:17Z"/><EventRecordID>-1623171437</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Application 'C:\Program Files (x86)\SiteExtensions\ApplicationInsightsAgent\2.8.47\ExtensionManager\' started successfully.</Data><Data>Process Id: 3844.</Data><Data>File Version: 13.1.22321.32. Description: IIS ASP.NET Core Module V2 Request Handler. Commit: 3eeb12e106b9e913c3a4dec1a7d16da7b74149eb</Data></EventData></Event><Event><System><Provider Name="IIS AspNetCore Module V2"/><EventID>1033</EventID><Level>4</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-08-11T21:20:13Z"/><EventRecordID>-1622874718</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Application 'MACHINE/WEBROOT/APPHOST/SITE-NET__E920' has shutdown.</Data><Data>Process Id: 3036.</Data><Data>File Version: 19.0.25119.5. Description: IIS ASP.NET Core Module V2 Request Handler. Commit: </Data></EventData></Event><Event><System><Provider Name="IIS AspNetCore Module V2"/><EventID>1033</EventID><Level>4</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-08-11T21:20:14Z"/><EventRecordID>-1622873687</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Application 'MACHINE/WEBROOT/APPHOST/~1SITE-NET__E920/APPLICATIONINSIGHTS' has shutdown.</Data><Data>Process Id: 3844.</Data><Data>File Version: 13.1.22321.32. Description: IIS ASP.NET Core Module V2 Request Handler. Commit: 3eeb12e106b9e913c3a4dec1a7d16da7b74149eb</Data></EventData></Event><Event><System><Provider Name="IIS AspNetCore Module V2"/><EventID>1032</EventID><Level>4</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-08-11T21:20:46Z"/><EventRecordID>-1622841671</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Application 'C:\Program Files (x86)\SiteExtensions\ApplicationInsightsAgent\2.8.47\ExtensionManager\' started successfully.</Data><Data>Process Id: 10064.</Data><Data>File Version: 13.1.22321.32. Description: IIS ASP.NET Core Module V2 Request Handler. Commit: 3eeb12e106b9e913c3a4dec1a7d16da7b74149eb</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-08-11T21:20:48Z"/><EventRecordID>-1622840046</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Program
EventId: 0

Registering Azure Function service with configuration checks
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>2</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-08-11T21:20:49Z"/><EventRecordID>-1622839515</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Program
EventId: 0

STARTUP: Azure Function URL configured: True, Key configured: True
</Data></EventData></Event><Event><System><Provider Name="IIS AspNetCore Module V2"/><EventID>1032</EventID><Level>4</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-08-11T21:20:52Z"/><EventRecordID>-1622835796</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Application 'C:\home\site\wwwroot\' started successfully.</Data><Data>Process Id: 7164.</Data><Data>File Version: 19.0.25119.5. Description: IIS ASP.NET Core Module V2 Request Handler. Commit: </Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>1</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-08-11T21:21:13Z"/><EventRecordID>-1622814921</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Microsoft.AspNetCore.Server.IIS.Core.IISHttpServer
EventId: 2
SpanId: b3e8d8026c72a634
TraceId: b71a22b7aa802a594502a1f9a96e1bdf
ParentId: 0000000000000000
RequestId: 40025a5e-0000-e800-b63f-84710c7967bb
RequestPath: /api/config/auth

Connection ID "16717361817604741721", Request ID "40025a5e-0000-e800-b63f-84710c7967bb": An unhandled exception was thrown by the application.

Exception: 
System.InvalidOperationException: Unable to resolve service for type 'Backend.Services.ChatService' while attempting to activate 'Backend.Controllers.ConfigController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method3(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerActivatorProvider.&lt;&gt;c__DisplayClass7_0.&lt;CreateActivator&gt;b__0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.&lt;&gt;c__DisplayClass6_0.&lt;CreateControllerFactory&gt;g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State&amp; next, Scope&amp; scope, Object&amp; state, Boolean&amp; isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.&lt;InvokeFilterPipelineAsync&gt;g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.&lt;InvokeAsync&gt;g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.&lt;InvokeAsync&gt;g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Program.&lt;&gt;c.&lt;&lt;&lt;Main&gt;$&gt;b__0_7&gt;d.MoveNext() in C:\Users\brianw\CascadeProjects\net-ai-site-blue\Backend\Program.cs:line 172
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>1</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-08-11T21:22:08Z"/><EventRecordID>-1622759812</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Microsoft.AspNetCore.Server.IIS.Core.IISHttpServer
EventId: 2
SpanId: 678d152aff0635d9
TraceId: d06c274a9b3c62f3e8e34ff41a271e97
ParentId: 0000000000000000
RequestId: 40025a60-0000-e800-b63f-84710c7967bb
RequestPath: /api/config/auth

Connection ID "16717361817604741721", Request ID "40025a60-0000-e800-b63f-84710c7967bb": An unhandled exception was thrown by the application.

Exception: 
System.InvalidOperationException: Unable to resolve service for type 'Backend.Services.ChatService' while attempting to activate 'Backend.Controllers.ConfigController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method3(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerActivatorProvider.&lt;&gt;c__DisplayClass7_0.&lt;CreateActivator&gt;b__0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.&lt;&gt;c__DisplayClass6_0.&lt;CreateControllerFactory&gt;g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State&amp; next, Scope&amp; scope, Object&amp; state, Boolean&amp; isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.&lt;InvokeFilterPipelineAsync&gt;g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.&lt;InvokeAsync&gt;g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.&lt;InvokeAsync&gt;g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Program.&lt;&gt;c.&lt;&lt;&lt;Main&gt;$&gt;b__0_7&gt;d.MoveNext() in C:\Users\brianw\CascadeProjects\net-ai-site-blue\Backend\Program.cs:line 172
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
</Data></EventData></Event><Event><System><Provider Name=".NET Runtime"/><EventID>1000</EventID><Level>1</Level><Task>0</Task><Keywords>Keywords</Keywords><TimeCreated SystemTime="2025-08-11T21:22:27Z"/><EventRecordID>-1622740703</EventRecordID><Channel>Application</Channel><Computer>DW1SDWK0002WU</Computer><Security/></System><EventData><Data>Category: Microsoft.AspNetCore.Server.IIS.Core.IISHttpServer
EventId: 2
SpanId: 9bb55f63d41f8eee
TraceId: afb79d5b060e537f604741dd1a18dbce
ParentId: 0000000000000000
RequestId: 40014cae-0000-6300-b63f-84710c7967bb
RequestPath: /api/config/auth

Connection ID "7133701810560257196", Request ID "40014cae-0000-6300-b63f-84710c7967bb": An unhandled exception was thrown by the application.

Exception: 
System.InvalidOperationException: Unable to resolve service for type 'Backend.Services.ChatService' while attempting to activate 'Backend.Controllers.ConfigController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method3(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerActivatorProvider.&lt;&gt;c__DisplayClass7_0.&lt;CreateActivator&gt;b__0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.&lt;&gt;c__DisplayClass6_0.&lt;CreateControllerFactory&gt;g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State&amp; next, Scope&amp; scope, Object&amp; state, Boolean&amp; isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.&lt;InvokeFilterPipelineAsync&gt;g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.&lt;InvokeAsync&gt;g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.&lt;InvokeAsync&gt;g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Program.&lt;&gt;c.&lt;&lt;&lt;Main&gt;$&gt;b__0_7&gt;d.MoveNext() in C:\Users\brianw\CascadeProjects\net-ai-site-blue\Backend\Program.cs:line 172
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
</Data></EventData></Event></Events>